"use strict";(self.webpackChunkAgularFirebaseCrud=self.webpackChunkAgularFirebaseCrud||[]).push([[179],{536:()=>{function Se(n){return"function"==typeof n}function Pu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Od=Pu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Vo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Pn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Se(r))try{r()}catch(s){e=s instanceof Od?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{UT(s)}catch(o){e=e??[],o instanceof Od?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Od(e)}}add(e){var t;if(e&&e!==this)if(this.closed)UT(e);else{if(e instanceof Pn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Vo(t,e)}remove(e){const{_finalizers:t}=this;t&&Vo(t,e),e instanceof Pn&&e._removeParent(this)}}Pn.EMPTY=(()=>{const n=new Pn;return n.closed=!0,n})();const LT=Pn.EMPTY;function VT(n){return n instanceof Pn||n&&"closed"in n&&Se(n.remove)&&Se(n.add)&&Se(n.unsubscribe)}function UT(n){Se(n)?n():n.unsubscribe()}const Es={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Pd={setTimeout(n,e,...t){const{delegate:r}=Pd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Pd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function BT(n){Pd.setTimeout(()=>{const{onUnhandledError:e}=Es;if(!e)throw n;e(n)})}function $T(){}const q$=Jg("C",void 0,void 0);function Jg(n,e,t){return{kind:n,value:e,error:t}}let bs=null;function Fd(n){if(Es.useDeprecatedSynchronousErrorHandling){const e=!bs;if(e&&(bs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=bs;if(bs=null,t)throw r}}else n()}class Zg extends Pn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,VT(e)&&e.add(this)):this.destination=J$}static create(e,t,r){return new Fu(e,t,r)}next(e){this.isStopped?tm(function W$(n){return Jg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?tm(function z$(n){return Jg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?tm(q$,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Q$=Function.prototype.bind;function em(n,e){return Q$.call(n,e)}class Y${constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ld(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ld(r)}else Ld(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ld(t)}}}class Fu extends Zg{constructor(e,t,r){let i;if(super(),Se(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Es.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&em(e.next,s),error:e.error&&em(e.error,s),complete:e.complete&&em(e.complete,s)}):i=e}this.destination=new Y$(i)}}function Ld(n){Es.useDeprecatedSynchronousErrorHandling?function K$(n){Es.useDeprecatedSynchronousErrorHandling&&bs&&(bs.errorThrown=!0,bs.error=n)}(n):BT(n)}function tm(n,e){const{onStoppedNotification:t}=Es;t&&Pd.setTimeout(()=>t(n,e))}const J$={closed:!0,next:$T,error:function X$(n){throw n},complete:$T},nm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ds(n){return n}function jT(n){return 0===n.length?Ds:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let je=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function tj(n){return n&&n instanceof Zg||function ej(n){return n&&Se(n.next)&&Se(n.error)&&Se(n.complete)}(n)&&VT(n)}(t)?t:new Fu(t,r,i);return Fd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=HT(r))((i,s)=>{const o=new Fu({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[nm](){return this}pipe(...t){return jT(t)(this)}toPromise(t){return new(t=HT(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function HT(n){var e;return null!==(e=n??Es.Promise)&&void 0!==e?e:Promise}const nj=Pu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Sr=(()=>{class n extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new GT(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new nj}next(t){Fd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Fd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Fd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?LT:(this.currentObservers=null,s.push(t),new Pn(()=>{this.currentObservers=null,Vo(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new je;return t.source=this,t}}return n.create=(e,t)=>new GT(e,t),n})();class GT extends Sr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:LT}}function qT(n){return Se(n?.lift)}function Mt(n){return e=>{if(qT(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function vt(n,e,t,r,i){return new rj(n,e,t,r,i)}class rj extends Zg{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function re(n,e){return Mt((t,r)=>{let i=0;t.subscribe(vt(r,s=>{r.next(n.call(e,s,i++))}))})}function WT(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Cs(n){return this instanceof Cs?(this.v=n,this):new Cs(n)}function oj(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Cs?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function aj(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function QT(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const YT=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function XT(n){return Se(n?.then)}function JT(n){return Se(n[nm])}function ZT(n){return Symbol.asyncIterator&&Se(n?.[Symbol.asyncIterator])}function eS(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const tS=function cj(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function nS(n){return Se(n?.[tS])}function rS(n){return oj(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Cs(t.read());if(i)return yield Cs(void 0);yield yield Cs(r)}}finally{t.releaseLock()}})}function iS(n){return Se(n?.getReader)}function lr(n){if(n instanceof je)return n;if(null!=n){if(JT(n))return function lj(n){return new je(e=>{const t=n[nm]();if(Se(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(YT(n))return function dj(n){return new je(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(XT(n))return function hj(n){return new je(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,BT)})}(n);if(ZT(n))return sS(n);if(nS(n))return function fj(n){return new je(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(iS(n))return function pj(n){return sS(rS(n))}(n)}throw eS(n)}function sS(n){return new je(e=>{(function gj(n,e){var t,r,i,s;return function ij(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=aj(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Zr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ft(n,e,t=1/0){return Se(e)?Ft((r,i)=>re((s,o)=>e(r,s,i,o))(lr(n(r,i))),t):("number"==typeof e&&(t=e),Mt((r,i)=>function mj(n,e,t,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;lr(t(m,l++)).subscribe(vt(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();o?Zr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return n.subscribe(vt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Uo(n=1/0){return Ft(Ds,n)}const ei=new je(n=>n.complete());function im(n){return n[n.length-1]}function oS(n){return Se(im(n))?n.pop():void 0}function Lu(n){return function _j(n){return n&&Se(n.schedule)}(im(n))?n.pop():void 0}function Vd(n,e=0){return Mt((t,r)=>{t.subscribe(vt(r,i=>Zr(r,n,()=>r.next(i),e),()=>Zr(r,n,()=>r.complete(),e),i=>Zr(r,n,()=>r.error(i),e)))})}function Ud(n,e=0){return Mt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function aS(n,e){if(!n)throw new Error("Iterable cannot be null");return new je(t=>{Zr(t,e,()=>{const r=n[Symbol.asyncIterator]();Zr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function dt(n,e){return e?function Cj(n,e){if(null!=n){if(JT(n))return function wj(n,e){return lr(n).pipe(Ud(e),Vd(e))}(n,e);if(YT(n))return function Ej(n,e){return new je(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(XT(n))return function Ij(n,e){return lr(n).pipe(Ud(e),Vd(e))}(n,e);if(ZT(n))return aS(n,e);if(nS(n))return function bj(n,e){return new je(t=>{let r;return Zr(t,e,()=>{r=n[tS](),Zr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Se(r?.return)&&r.return()})}(n,e);if(iS(n))return function Dj(n,e){return aS(rS(n),e)}(n,e)}throw eS(n)}(n,e):lr(n)}function uS(n={}){const{connector:e=(()=>new Sr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Mt((m,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=sm(p,i))}),w.subscribe(y),!o&&c>0&&(o=new Fu({next:b=>w.next(b),error:b=>{d=!0,h(),a=sm(f,t,b),w.error(b)},complete:()=>{l=!0,h(),a=sm(f,r),w.complete()}}),lr(m).subscribe(o))})(s)}}function sm(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Fu({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function xe(n){for(let e in n)if(n[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function om(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ke(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ke).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function am(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Sj=xe({__forward_ref__:xe});function Oe(n){return n.__forward_ref__=Oe,n.toString=function(){return ke(this())},n}function K(n){return um(n)?n():n}function um(n){return"function"==typeof n&&n.hasOwnProperty(Sj)&&n.__forward_ref__===Oe}function cm(n){return n&&!!n.\u0275providers}const Bd="https://g.co/ng/security#xss";class S extends Error{constructor(e,t){super(function $d(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function ee(n){return"string"==typeof n?n:null==n?"":String(n)}function jd(n,e){throw new S(-201,!1)}function Yn(n,e){null==n&&function be(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Hd(n){return cS(n,Gd)||cS(n,dS)}function cS(n,e){return n.hasOwnProperty(e)?n[e]:null}function lS(n){return n&&(n.hasOwnProperty(lm)||n.hasOwnProperty(Fj))?n[lm]:null}const Gd=xe({\u0275prov:xe}),lm=xe({\u0275inj:xe}),dS=xe({ngInjectableDef:xe}),Fj=xe({ngInjectorDef:xe});var Q=(()=>((Q=Q||{})[Q.Default=0]="Default",Q[Q.Host=1]="Host",Q[Q.Self=2]="Self",Q[Q.SkipSelf=4]="SkipSelf",Q[Q.Optional=8]="Optional",Q))();let dm;function Xn(n){const e=dm;return dm=n,e}function hS(n,e,t){const r=Hd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Q.Optional?null:void 0!==e?e:void jd(ke(n))}const Pe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Vu={},hm="__NG_DI_FLAG__",qd="ngTempTokenPath",Uj=/\n/gm,fS="__source";let Uu;function Bo(n){const e=Uu;return Uu=n,e}function $j(n,e=Q.Default){if(void 0===Uu)throw new S(-203,!1);return null===Uu?hS(n,void 0,e):Uu.get(n,e&Q.Optional?null:void 0,e)}function k(n,e=Q.Default){return(function Lj(){return dm}()||$j)(K(n),e)}function le(n,e=Q.Default){return k(n,zd(e))}function zd(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function fm(n){const e=[];for(let t=0;t<n.length;t++){const r=K(n[t]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=Q.Default;for(let o=0;o<r.length;o++){const a=r[o],u=jj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(k(i,s))}else e.push(k(r))}return e}function Bu(n,e){return n[hm]=e,n.prototype[hm]=e,n}function jj(n){return n[hm]}function Bi(n){return{toString:n}.toString()}var dr=(()=>((dr=dr||{})[dr.OnPush=0]="OnPush",dr[dr.Default=1]="Default",dr))(),Ar=(()=>{return(n=Ar||(Ar={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ar;var n})();const ti={},Ie=[],Wd=xe({\u0275cmp:xe}),pm=xe({\u0275dir:xe}),gm=xe({\u0275pipe:xe}),gS=xe({\u0275mod:xe}),ni=xe({\u0275fac:xe}),$u=xe({__NG_ELEMENT_ID__:xe});let qj=0;function hr(n){return Bi(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===dr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ie,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ar.Emulated,id:"c"+qj++,styles:n.styles||Ie,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=n.dependencies,o=n.features;return i.inputs=_S(n.inputs,r),i.outputs=_S(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(mS).filter(yS):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(ln).filter(yS):null,i})}function mS(n){return De(n)||Yt(n)}function yS(n){return null!==n}function un(n){return Bi(()=>({type:n.type,bootstrap:n.bootstrap||Ie,declarations:n.declarations||Ie,imports:n.imports||Ie,exports:n.exports||Ie,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function _S(n,e){if(null==n)return ti;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const X=hr;function cn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function De(n){return n[Wd]||null}function Yt(n){return n[pm]||null}function ln(n){return n[gm]||null}function Ln(n,e){const t=n[gS]||null;if(!t&&!0===e)throw new Error(`Type ${ke(n)} does not have '\u0275mod' property.`);return t}function Vn(n){return Array.isArray(n)&&"object"==typeof n[1]}function pr(n){return Array.isArray(n)&&!0===n[1]}function _m(n){return 0!=(4&n.flags)}function qu(n){return n.componentOffset>-1}function Jd(n){return 1==(1&n.flags)}function gr(n){return null!==n.template}function Kj(n){return 0!=(256&n[2])}function Ss(n,e){return n.hasOwnProperty(ni)?n[ni]:null}class Xj{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Jn(){return DS}function DS(n){return n.type.prototype.ngOnChanges&&(n.setInput=Zj),Jj}function Jj(){const n=TS(this),e=n?.current;if(e){const t=n.previous;if(t===ti)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Zj(n,e,t,r){const i=this.declaredInputs[t],s=TS(n)||function eH(n,e){return n[CS]=e}(n,{previous:ti,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Xj(u&&u.currentValue,e,a===ti),n[r]=e}Jn.ngInherit=!0;const CS="__ngSimpleChanges__";function TS(n){return n[CS]||null}function Lt(n){for(;Array.isArray(n);)n=n[0];return n}function Zd(n,e){return Lt(e[n])}function Un(n,e){return Lt(e[n.index])}function MS(n,e){return n.data[e]}function zo(n,e){return n[e]}function Bn(n,e){const t=e[n];return Vn(t)?t:t[0]}function eh(n){return 64==(64&n[2])}function $i(n,e){return null==e?null:n[e]}function xS(n){n[18]=0}function wm(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const te={lFrame:BS(null),bindingsEnabled:!0};function RS(){return te.bindingsEnabled}function D(){return te.lFrame.lView}function me(){return te.lFrame.tView}function As(n){return te.lFrame.contextLView=n,n[8]}function Ms(n){return te.lFrame.contextLView=null,n}function Vt(){let n=NS();for(;null!==n&&64===n.type;)n=n.parent;return n}function NS(){return te.lFrame.currentTNode}function xr(n,e){const t=te.lFrame;t.currentTNode=n,t.isParent=e}function Im(){return te.lFrame.isParent}function Em(){te.lFrame.isParent=!1}function hn(){const n=te.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Wo(){return te.lFrame.bindingIndex++}function si(n){const e=te.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function fH(n,e){const t=te.lFrame;t.bindingIndex=t.bindingRootIndex=n,bm(e)}function bm(n){te.lFrame.currentDirectiveIndex=n}function LS(){return te.lFrame.currentQueryIndex}function Cm(n){te.lFrame.currentQueryIndex=n}function gH(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function VS(n,e,t){if(t&Q.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Q.Host||(i=gH(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=te.lFrame=US();return r.currentTNode=e,r.lView=n,!0}function Tm(n){const e=US(),t=n[1];te.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function US(){const n=te.lFrame,e=null===n?null:n.child;return null===e?BS(n):e}function BS(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function $S(){const n=te.lFrame;return te.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const jS=$S;function Sm(){const n=$S();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function fn(){return te.lFrame.selectedIndex}function xs(n){te.lFrame.selectedIndex=n}function We(){const n=te.lFrame;return MS(n.tView,n.selectedIndex)}function th(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks||(n.destroyHooks=[])).push(t,l)}}function nh(n,e,t){HS(n,e,3,t)}function rh(n,e,t,r){(3&n[2])===t&&HS(n,e,t,r)}function Am(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function HS(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(DH(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function DH(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Wu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function xm(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];qS(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function GS(n){return 3===n||4===n||6===n}function qS(n){return 64===n.charCodeAt(0)}function Ku(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||zS(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function zS(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function WS(n){return-1!==n}function ih(n){return 32767&n}function sh(n,e){let t=function AH(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let km=!0;function oh(n){const e=km;return km=n,e}let MH=0;const kr={};function ah(n,e){const t=YS(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Rm(r.data,n),Rm(e,null),Rm(r.blueprint,null));const i=Nm(n,e),s=n.injectorIndex;if(WS(i)){const o=ih(i),a=sh(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Rm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function YS(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Nm(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=rA(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Om(n,e,t){!function xH(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty($u)&&(r=t[$u]),null==r&&(r=t[$u]=MH++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function XS(n,e,t){if(t&Q.Optional||void 0!==n)return n;jd()}function JS(n,e,t,r){if(t&Q.Optional&&void 0===r&&(r=null),0==(t&(Q.Self|Q.Host))){const i=n[9],s=Xn(void 0);try{return i?i.get(e,r,t&Q.Optional):hS(e,r,t&Q.Optional)}finally{Xn(s)}}return XS(r,0,t)}function ZS(n,e,t,r=Q.Default,i){if(null!==n){if(1024&e[2]){const o=function PH(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=eA(s,o,t,r|Q.Self,kr);if(a!==kr)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(t,kr,r);if(l!==kr)return l}u=rA(o),o=o[15]}s=u}return i}(n,e,t,r,kr);if(o!==kr)return o}const s=eA(n,e,t,r,kr);if(s!==kr)return s}return JS(e,t,r,i)}function eA(n,e,t,r,i){const s=function NH(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty($u)?n[$u]:void 0;return"number"==typeof e?e>=0?255&e:OH:e}(t);if("function"==typeof s){if(!VS(e,n,r))return r&Q.Host?XS(i,0,r):JS(e,t,r,i);try{const o=s(r);if(null!=o||r&Q.Optional)return o;jd()}finally{jS()}}else if("number"==typeof s){let o=null,a=YS(n,e),u=-1,c=r&Q.Host?e[16][6]:null;for((-1===a||r&Q.SkipSelf)&&(u=-1===a?Nm(n,e):e[a+8],-1!==u&&nA(r,!1)?(o=e[1],a=ih(u),e=sh(u,e)):a=-1);-1!==a;){const l=e[1];if(tA(s,a,l.data)){const d=RH(a,e,t,o,r,c);if(d!==kr)return d}u=e[a+8],-1!==u&&nA(r,e[1].data[a+8]===c)&&tA(s,a,e)?(o=l,a=ih(u),e=sh(u,e)):a=-1}}return i}function RH(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],l=uh(a,o,t,null==r?qu(a)&&km:r!=o&&0!=(3&a.type),i&Q.Host&&s===a);return null!==l?ks(e,o,l,a):kr}function uh(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&gr(f)&&f.type===t)return u}return null}function ks(n,e,t,r){let i=n[t];const s=e.data;if(function CH(n){return n instanceof Wu}(i)){const o=i;o.resolving&&function Aj(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new S(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ee(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ee(n)}(s[t]));const a=oh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Xn(o.injectImpl):null;VS(n,r,Q.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function bH(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=DS(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&Xn(u),oh(a),o.resolving=!1,jS()}}return i}function tA(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function nA(n,e){return!(n&Q.Self||n&Q.Host&&e)}class Qo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ZS(this._tNode,this._lView,e,zd(r),t)}}function OH(){return new Qo(Vt(),D())}function ht(n){return Bi(()=>{const e=n.prototype.constructor,t=e[ni]||Pm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ni]||Pm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Pm(n){return um(n)?()=>{const e=Pm(K(n));return e&&e()}:Ss(n)}function rA(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const Xo="__parameters__";function Zo(n,e,t){return Bi(()=>{const r=function Fm(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Xo)?u[Xo]:Object.defineProperty(u,Xo,{value:[]})[Xo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class F{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Rs(n,e){n.forEach(t=>Array.isArray(t)?Rs(t,e):e(t))}function sA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function lh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function $n(n,e,t){let r=ea(n,e);return r>=0?n[1|r]=t:(r=~r,function UH(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Vm(n,e){const t=ea(n,e);if(t>=0)return n[1|t]}function ea(n,e){return function oA(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Zt=Bu(Zo("Optional"),8),Ju=Bu(Zo("SkipSelf"),4);var Dn=(()=>((Dn=Dn||{})[Dn.Important=1]="Important",Dn[Dn.DashCase=2]="DashCase",Dn))();const Gm=new Map;let aG=0;const zm="__ngContext__";function en(n,e){Vn(e)?(n[zm]=e[20],function cG(n){Gm.set(n[20],n)}(e)):n[zm]=e}function Km(n,e){return undefined(n,e)}function nc(n){const e=n[3];return pr(e)?e[3]:e}function Qm(n){return TA(n[13])}function Ym(n){return TA(n[4])}function TA(n){for(;null!==n&&!pr(n);)n=n[4];return n}function na(n,e,t,r,i){if(null!=r){let s,o=!1;pr(r)?s=r:Vn(r)&&(o=!0,r=r[0]);const a=Lt(r);0===n&&null!==t?null==i?RA(e,t,a):Ns(e,t,a,i||null,!0):1===n&&null!==t?Ns(e,t,a,i||null,!0):2===n?function ry(n,e,t){const r=ph(n,e);r&&function MG(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function RG(n,e,t,r,i){const s=t[7];s!==Lt(t)&&na(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];rc(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function Jm(n,e,t){return n.createElement(e,t)}function AA(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,wm(i,-1)),t.splice(r,1)}function Zm(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&AA(i,r),e>0&&(n[t-1][4]=r[4]);const s=lh(n,10+e);!function IG(n,e){rc(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function MA(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&rc(n,e,t,3,null,null),function DG(n){let e=n[13];if(!e)return ey(n[1],n);for(;e;){let t=null;if(Vn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Vn(e)&&ey(e[1],e),e=e[3];null===e&&(e=n),Vn(e)&&ey(e[1],e),t=e&&e[4]}e=t}}(e)}}function ey(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function AG(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Wu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function SG(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&pr(e[3])){t!==e[3]&&AA(t,e);const r=e[19];null!==r&&r.detachView(n)}!function lG(n){Gm.delete(n[20])}(e)}}function xA(n,e,t){return function kA(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Ar.None||s===Ar.Emulated)return null}return Un(r,t)}}(n,e.parent,t)}function Ns(n,e,t,r,i){n.insertBefore(e,t,r,i)}function RA(n,e,t){n.appendChild(e,t)}function NA(n,e,t,r,i){null!==r?Ns(n,e,t,r,i):RA(n,e,t)}function ph(n,e){return n.parentNode(e)}let yh,oy,_h,FA=function PA(n,e,t){return 40&n.type?Un(n,t):null};function gh(n,e,t,r){const i=xA(n,r,e),s=e[11],a=function OA(n,e,t){return FA(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)NA(s,i,t[u],a,!1);else NA(s,i,t,a,!1)}function mh(n,e){if(null!==e){const t=e.type;if(3&t)return Un(e,n);if(4&t)return ny(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return mh(n,r);{const i=n[e.index];return pr(i)?ny(-1,i):Lt(i)}}if(32&t)return Km(e,n)()||Lt(n[e.index]);{const r=VA(n,e);return null!==r?Array.isArray(r)?r[0]:mh(nc(n[16]),r):mh(n,e.next)}}return null}function VA(n,e){return null!==e?n[16][6].projection[e.projection]:null}function ny(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return mh(r,i)}return e[7]}function iy(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&en(Lt(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)iy(n,e,t.child,r,i,s,!1),na(e,n,i,a,s);else if(32&u){const c=Km(t,r);let l;for(;l=c();)na(e,n,i,l,s);na(e,n,i,a,s)}else 16&u?UA(n,e,r,t,i,s):na(e,n,i,a,s);t=o?t.projectionNext:t.next}}function rc(n,e,t,r,i,s){iy(t,r,n.firstChild,e,i,s,!1)}function UA(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)na(e,n,i,u[c],s);else iy(n,e,u,o[3],i,s,!0)}function BA(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function $A(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&xm(n,e,r),null!==i&&BA(n,e,i),null!==s&&function OG(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Os(n){return function sy(){if(void 0===yh&&(yh=null,Pe.trustedTypes))try{yh=Pe.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yh}()?.createHTML(n)||n}function qA(n){return function ay(){if(void 0===_h&&(_h=null,Pe.trustedTypes))try{_h=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _h}()?.createScriptURL(n)||n}class Ps{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bd})`}}class UG extends Ps{getTypeName(){return"HTML"}}class BG extends Ps{getTypeName(){return"Style"}}class $G extends Ps{getTypeName(){return"Script"}}class jG extends Ps{getTypeName(){return"URL"}}class HG extends Ps{getTypeName(){return"ResourceURL"}}function jn(n){return n instanceof Ps?n.changingThisBreaksApplicationSecurity:n}function Rr(n,e){const t=function GG(n){return n instanceof Ps&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Bd})`)}return t===e}class YG{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Os(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class XG{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Os(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Os(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const ZG=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function vh(n){return(n=String(n)).match(ZG)?n:"unsafe:"+n}function oi(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function ic(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const WA=oi("area,br,col,hr,img,wbr"),KA=oi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),QA=oi("rp,rt"),uy=ic(WA,ic(KA,oi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ic(QA,oi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ic(QA,KA)),cy=oi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),YA=ic(cy,oi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),eq=oi("script,style,template");class tq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!uy.hasOwnProperty(t))return this.sanitizedSomething=!0,!eq.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!YA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;cy[a]&&(u=vh(u)),this.buf.push(" ",o,'="',XA(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();uy.hasOwnProperty(t)&&!WA.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(XA(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const nq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rq=/([^\#-~ |!])/g;function XA(n){return n.replace(/&/g,"&amp;").replace(nq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(rq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wh;function JA(n,e){let t=null;try{wh=wh||function zA(n){const e=new XG(n);return function JG(){try{return!!(new window.DOMParser).parseFromString(Os(""),"text/html")}catch{return!1}}()?new YG(e):e}(n);let r=e?String(e):"";t=wh.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=wh.getInertBodyElement(r)}while(r!==s);return Os((new tq).sanitizeChildren(ly(t)||t))}finally{if(t){const r=ly(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function ly(n){return"content"in n&&function iq(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Fe=(()=>((Fe=Fe||{})[Fe.NONE=0]="NONE",Fe[Fe.HTML=1]="HTML",Fe[Fe.STYLE=2]="STYLE",Fe[Fe.SCRIPT=3]="SCRIPT",Fe[Fe.URL=4]="URL",Fe[Fe.RESOURCE_URL=5]="RESOURCE_URL",Fe))();function Tn(n){const e=sc();return e?e.sanitize(Fe.URL,n)||"":Rr(n,"URL")?jn(n):vh(ee(n))}function dy(n){const e=sc();if(e)return qA(e.sanitize(Fe.RESOURCE_URL,n)||"");if(Rr(n,"ResourceURL"))return qA(jn(n));throw new S(904,!1)}function sc(){const n=D();return n&&n[12]}const Ih=new F("ENVIRONMENT_INITIALIZER"),eM=new F("INJECTOR",-1),tM=new F("INJECTOR_DEF_TYPES");class nM{get(e,t=Vu){if(t===Vu){const r=new Error(`NullInjectorError: No provider for ${ke(e)}!`);throw r.name="NullInjectorError",r}return t}}function hq(...n){return{\u0275providers:rM(0,n),\u0275fromNgModule:!0}}function rM(n,...e){const t=[],r=new Set;let i;return Rs(e,s=>{const o=s;hy(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&iM(i,t),t}function iM(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];fy(i,s=>{e.push(s)})}}function hy(n,e,t,r){if(!(n=K(n)))return!1;let i=null,s=lS(n);const o=!s&&De(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=lS(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)hy(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Rs(s.imports,l=>{hy(l,e,t,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&iM(c,e)}if(!a){const c=Ss(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Ie},{provide:tM,useValue:i,multi:!0},{provide:Ih,useValue:()=>k(i),multi:!0})}const u=s.providers;null==u||a||fy(u,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}function fy(n,e){for(let t of n)cm(t)&&(t=t.\u0275providers),Array.isArray(t)?fy(t,e):e(t)}const fq=xe({provide:String,useValue:xe});function py(n){return null!==n&&"object"==typeof n&&fq in n}function Fs(n){return"function"==typeof n}const gy=new F("Set Injector scope."),Eh={},gq={};let my;function bh(){return void 0===my&&(my=new nM),my}class Nr{}class aM extends Nr{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_y(e,o=>this.processProvider(o)),this.records.set(eM,ra(void 0,this)),i.has("environment")&&this.records.set(Nr,ra(void 0,this));const s=this.records.get(gy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(tM.multi,Ie,Q.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Bo(this),r=Xn(void 0);try{return e()}finally{Bo(t),Xn(r)}}get(e,t=Vu,r=Q.Default){this.assertNotDestroyed(),r=zd(r);const i=Bo(this),s=Xn(void 0);try{if(!(r&Q.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function wq(n){return"function"==typeof n||"object"==typeof n&&n instanceof F}(e)&&Hd(e);a=u&&this.injectableDefInScope(u)?ra(yy(e),Eh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Q.Self?bh():this.parent).get(e,t=r&Q.Optional&&t===Vu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[qd]=o[qd]||[]).unshift(ke(e)),i)throw o;return function Hj(n,e,t,r){const i=n[qd];throw e[fS]&&i.unshift(e[fS]),n.message=function Gj(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=ke(e);if(Array.isArray(e))i=e.map(ke).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ke(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Uj,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[qd]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Xn(s),Bo(i)}}resolveInjectorInitializers(){const e=Bo(this),t=Xn(void 0);try{const r=this.get(Ih.multi,Ie,Q.Self);for(const i of r)i()}finally{Bo(e),Xn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ke(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let t=Fs(e=K(e))?e:K(e&&e.provide);const r=function yq(n){return py(n)?ra(void 0,n.useValue):ra(uM(n),Eh)}(e);if(Fs(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ra(void 0,Eh,!0),i.factory=()=>fm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Eh&&(t.value=gq,t.value=t.factory()),"object"==typeof t.value&&t.value&&function vq(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=K(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function yy(n){const e=Hd(n),t=null!==e?e.factory:Ss(n);if(null!==t)return t;if(n instanceof F)throw new S(204,!1);if(n instanceof Function)return function mq(n){const e=n.length;if(e>0)throw function Xu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new S(204,!1);const t=function Oj(n){const e=n&&(n[Gd]||n[dS]);if(e){const t=function Pj(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new S(204,!1)}function uM(n,e,t){let r;if(Fs(n)){const i=K(n);return Ss(i)||yy(i)}if(py(n))r=()=>K(n.useValue);else if(function oM(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...fm(n.deps||[]));else if(function sM(n){return!(!n||!n.useExisting)}(n))r=()=>k(K(n.useExisting));else{const i=K(n&&(n.useClass||n.provide));if(!function _q(n){return!!n.deps}(n))return Ss(i)||yy(i);r=()=>new i(...fm(n.deps))}return r}function ra(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function _y(n,e){for(const t of n)Array.isArray(t)?_y(t,e):t&&cm(t)?_y(t.\u0275providers,e):e(t)}class Iq{}class cM{}class bq{resolveComponentFactory(e){throw function Eq(n){const e=Error(`No component factory found for ${ke(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let oc=(()=>{class n{}return n.NULL=new bq,n})();function Dq(){return ia(Vt(),D())}function ia(n,e){return new Hn(Un(n,e))}let Hn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Dq,n})();function Cq(n){return n instanceof Hn?n.nativeElement:n}class dM{}let ai=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Tq(){const n=D(),t=Bn(Vt().index,n);return(Vn(t)?t:n)[11]}(),n})(),Sq=(()=>{class n{}return n.\u0275prov=U({token:n,providedIn:"root",factory:()=>null}),n})();class sa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const hM=new sa("15.0.4"),vy={};function Iy(n){return n.ngOriginalError}class oa{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Iy(e);for(;t&&Iy(t);)t=Iy(t);return t||null}}function ui(n){return n instanceof Function?n():n}function pM(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const gM="ng-template";function Vq(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==pM(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function mM(n){return 4===n.type&&n.value!==gM}function Uq(n,e,t){return e===(4!==n.type||t?n.value:gM)}function Bq(n,e,t){let r=4;const i=n.attrs||[],s=function Hq(n){for(let e=0;e<n.length;e++)if(GS(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Uq(n,u,t)||""===u&&1===e.length){if(mr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!Vq(n.attrs,c,t)){if(mr(r))return!1;o=!0}continue}const d=$q(8&r?"class":u,i,mM(n),t);if(-1===d){if(mr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==pM(f,c,0)||2&r&&c!==h){if(mr(r))return!1;o=!0}}}}else{if(!o&&!mr(r)&&!mr(u))return!1;if(o&&mr(u))continue;o=!1,r=u|1&r}}return mr(r)||o}function mr(n){return 0==(1&n)}function $q(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Gq(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function yM(n,e,t=!1){for(let r=0;r<e.length;r++)if(Bq(n,e[r],t))return!0;return!1}function _M(n,e){return n?":not("+e.trim()+")":e}function zq(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!mr(o)&&(e+=_M(s,i),i=""),r=o,s=s||!mr(r);t++}return""!==i&&(e+=_M(s,i)),e}const ne={};function R(n){vM(me(),D(),fn()+n,!1)}function vM(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&nh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&rh(e,s,0,t)}xs(t)}function bM(n,e=null,t=null,r){const i=DM(n,e,t,r);return i.resolveInjectorInitializers(),i}function DM(n,e=null,t=null,r,i=new Set){const s=[t||Ie,hq(n)];return r=r||("object"==typeof n?void 0:ke(n)),new aM(s,e||bh(),r||null,i)}let pn=(()=>{class n{static create(t,r){if(Array.isArray(t))return bM({name:""},r,t,"");{const i=t.name??"";return bM({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Vu,n.NULL=new nM,n.\u0275prov=U({token:n,providedIn:"any",factory:()=>k(eM)}),n.__NG_ELEMENT_ID__=-1,n})();function E(n,e=Q.Default){const t=D();return null===t?k(n,e):ZS(Vt(),t,K(n),e)}function RM(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Cm(i),o.contentQueries(2,e[s],s)}}}function Ch(n,e,t,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||n&&1024&n[2])&&(d[2]|=1024),xS(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=u||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=s,d[20]=function uG(){return aG++}(),d[21]=l,d[16]=2==e.type?n[16]:d,d}function ca(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Ty(n,e,t,r,i){const s=NS(),o=Im(),u=n.data[e]=function _3(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function hH(){return te.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function zu(){const n=te.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return xr(s,!0),s}function ac(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Sy(n,e,t){Tm(e);try{const r=n.viewQuery;null!==r&&Ly(1,r,t);const i=n.template;null!==i&&NM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&RM(n,e),n.staticViewQueries&&Ly(2,n.viewQuery,t);const s=n.components;null!==s&&function g3(n,e){for(let t=0;t<e.length;t++)L3(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Sm()}}function Th(n,e,t,r){const i=e[2];if(128!=(128&i)){Tm(e);try{xS(e),function PS(n){return te.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&NM(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&nh(e,c,null)}else{const c=n.preOrderHooks;null!==c&&rh(e,c,0,null),Am(e,0)}if(function P3(n){for(let e=Qm(n);null!==e;e=Ym(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&wm(s,1),i[2]|=512}}}(e),function O3(n){for(let e=Qm(n);null!==e;e=Ym(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];eh(r)&&Th(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&RM(n,e),o){const c=n.contentCheckHooks;null!==c&&nh(e,c)}else{const c=n.contentHooks;null!==c&&rh(e,c,1),Am(e,1)}!function f3(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)xs(~i);else{const s=i,o=t[++r],a=t[++r];fH(o,s),a(2,e[s])}}}finally{xs(-1)}}(n,e);const a=n.components;null!==a&&function p3(n,e){for(let t=0;t<e.length;t++)F3(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&Ly(2,u,r),o){const c=n.viewCheckHooks;null!==c&&nh(e,c)}else{const c=n.viewHooks;null!==c&&rh(e,c,2),Am(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,wm(e[3],-1))}finally{Sm()}}}function NM(n,e,t,r,i){const s=fn(),o=2&r;try{xs(-1),o&&e.length>22&&vM(n,e,22,!1),t(r,i)}finally{xs(s)}}function Ay(n,e,t){if(_m(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function My(n,e,t){!RS()||(function D3(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;qu(t)&&function k3(n,e,t){const r=Un(e,n),i=OM(t),s=n[10],o=Sh(n,Ch(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ah(t,e),en(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=ks(e,n,a,t);en(c,e),null!==o&&R3(0,a-i,c,u,0,o),gr(u)&&(Bn(t.index,e)[8]=ks(e,n,a,t))}}(n,e,t,Un(t,e)),64==(64&t.flags)&&BM(n,e,t))}function xy(n,e,t=Un){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function OM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ky(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function ky(n,e,t,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function m3(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ne);return t}(l,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function PM(n,e,t,r){const i=jM(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&HM(n).push(r,i.length-1))}function FM(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?LM(t,e,i,s):r.hasOwnProperty(i)&&LM(t,e,r[i],s)}return t}function LM(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Gn(n,e,t,r,i,s,o,a){const u=Un(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Vy(n,t,l,r,i),qu(e)&&VM(t,e.index)):3&e.type&&(r=function w3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function VM(n,e){const t=Bn(e,n);16&t[2]||(t[2]|=32)}function Ry(n,e,t,r){let i=!1;if(RS()){const s=null===r?null:{"":-1},o=function T3(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(yM(e,o.selectors,!1))if(r||(r=[]),gr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Ny(n,e,a.length)}else r.unshift(o),Ny(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let a,u;null===o?a=u=null:[a,u]=o,null!==a&&(i=!0,UM(n,e,t,a,s,u)),s&&function S3(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(t,r,s)}return t.mergedAttrs=Ku(t.mergedAttrs,t.attrs),i}function UM(n,e,t,r,i,s){for(let c=0;c<r.length;c++)Om(ah(t,e),n,r[c].type);!function M3(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=ac(n,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];t.mergedAttrs=Ku(t.mergedAttrs,l.hostAttrs),x3(n,t,e,u,l),A3(u,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function v3(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=t?t.get(d):null,p=h?h.outputs:null;u=FM(d.inputs,l,u,h?h.inputs:null),c=FM(d.outputs,l,c,p);const m=null===u||null===o||mM(e)?null:N3(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,s)}function BM(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function pH(){return te.lFrame.currentDirectiveIndex}();try{xs(s);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];bm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&C3(u,c)}}finally{xs(-1),bm(o)}}function C3(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Ny(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function A3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;gr(e)&&(t[""]=n)}}function x3(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Ss(i.type)),o=new Wu(s,gr(i),E);n.blueprint[r]=o,t[r]=o,function E3(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function b3(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,ac(n,t,i.hostVars,ne),i)}function Or(n,e,t,r,i,s){const o=Un(n,e);!function Oy(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?ee(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],o,s,n.value,t,r,i)}function R3(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function N3(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function $M(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function F3(n,e){const t=Bn(e,n);if(eh(t)){const r=t[1];48&t[2]?Th(r,t,r.template,t[8]):t[5]>0&&Py(t)}}function Py(n){for(let r=Qm(n);null!==r;r=Ym(r))for(let i=10;i<r.length;i++){const s=r[i];if(eh(s))if(512&s[2]){const o=s[1];Th(o,s,o.template,s[8])}else s[5]>0&&Py(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Bn(t[r],n);eh(i)&&i[5]>0&&Py(i)}}function L3(n,e){const t=Bn(e,n),r=t[1];(function V3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Sy(r,t,t[8])}function Sh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Fy(n){for(;n;){n[2]|=32;const e=nc(n);if(Kj(n)&&!e)return n;n=e}return null}function Ah(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{Th(n,e,n.template,t)}catch(o){throw r&&qM(e,o),o}finally{i.end&&i.end()}}function Ly(n,e,t){Cm(0),e(n,t)}function jM(n){return n[7]||(n[7]=[])}function HM(n){return n.cleanup||(n.cleanup=[])}function qM(n,e){const t=n[9],r=t?t.get(oa,null):null;r&&r.handleError(e)}function Vy(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Mh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=am(i,a):2==s&&(r=am(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function xh(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Lt(s)),pr(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&xh(u[1],u,c,r)}const o=t.type;if(8&o)xh(n,e,t.child,r);else if(32&o){const a=Km(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=VA(e,t);if(Array.isArray(a))r.push(...a);else{const u=nc(e[16]);xh(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class uc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return xh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(pr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Zm(e,r),lh(t,r))}this._attachedToViewContainer=!1}MA(this._lView[1],this._lView)}onDestroy(e){PM(this._lView[1],this._lView,null,e)}markForCheck(){Fy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ah(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bG(n,e){rc(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class U3 extends uc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ah(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class zM extends oc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=De(e);return new cc(t,this.ngModule)}}function WM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class $3{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=zd(r);const i=this.injector.get(e,vy,r);return i!==vy||t===vy?i:this.parentInjector.get(e,t,r)}}class cc extends cM{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Wq(n){return n.map(zq).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return WM(this.componentDef.inputs)}get outputs(){return WM(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Nr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new $3(e,s):e,a=o.get(dM,null);if(null===a)throw new S(407,!1);const u=o.get(Sq,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function y3(n,e,t){return n.selectRootElement(e,t===Ar.ShadowDom)}(c,r,this.componentDef.encapsulation):Jm(c,l,function B3(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=ky(0,null,null,1,0,null,null,null,null,null),p=Ch(null,f,null,h,null,null,a,c,u,o,null);let m,y;Tm(p);try{const w=this.componentDef;let b,v=null;w.findHostDirectiveDefs?(b=[],v=new Map,w.findHostDirectiveDefs(w,b,v),b.push(w)):b=[w];const N=function H3(n,e){const t=n[1];return n[22]=e,ca(t,22,2,"#host",null)}(p,d),G=function G3(n,e,t,r,i,s,o,a){const u=i[1];!function q3(n,e,t,r){for(const i of n)e.mergedAttrs=Ku(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Mh(e,e.mergedAttrs,!0),null!==t&&$A(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),l=Ch(i,OM(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return u.firstCreatePass&&Ny(u,n,r.length-1),Sh(i,l),i[n.index]=l}(N,d,w,b,p,a,c);y=MS(f,22),d&&function W3(n,e,t,r){if(r)xm(n,t,["ng-version",hM.full]);else{const{attrs:i,classes:s}=function Kq(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!mr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&xm(n,t,i),s&&s.length>0&&BA(n,t,s.join(" "))}}(c,w,d,r),void 0!==t&&function K3(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,t),m=function z3(n,e,t,r,i,s){const o=Vt(),a=i[1],u=Un(o,i);UM(a,i,o,t,null,r);for(let l=0;l<t.length;l++)en(ks(i,a,o.directiveStart+l,o),i);BM(a,i,o),u&&en(u,i);const c=ks(i,a,o.directiveStart+o.componentOffset,o);if(n[8]=i[8]=c,null!==s)for(const l of s)l(c,e);return Ay(a,o,n),c}(G,w,b,v,p,[Q3]),Sy(f,p,null)}finally{Sm()}return new j3(this.componentType,m,ia(y,p),p,y)}}class j3 extends Iq{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new U3(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Vy(s[1],s,i,e,t),VM(s,this._tNode.index)}}get injector(){return new Qo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Q3(){const n=Vt();th(D()[1],n)}function Ce(n){let e=function KM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(gr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Uy(n.inputs),o.declaredInputs=Uy(n.declaredInputs),o.outputs=Uy(n.outputs);const a=i.hostBindings;a&&Z3(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&X3(n,u),c&&J3(n,c),om(n.inputs,i.inputs),om(n.declaredInputs,i.declaredInputs),om(n.outputs,i.outputs),gr(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ce&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Y3(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ku(i.hostAttrs,t=Ku(t,i.hostAttrs))}}(r)}function Uy(n){return n===ti?{}:n===Ie?[]:n}function X3(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function J3(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Z3(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let kh=null;function Ls(){if(!kh){const n=Pe.Symbol;if(n&&n.iterator)kh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(kh=r)}}}return kh}function lc(n){return!!By(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ls()in n)}function By(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Pr(n,e,t){return n[e]=t}function tn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Fr(n,e,t,r){const i=D();return tn(i,Wo(),e)&&(me(),Or(We(),i,n,e,t,r)),Fr}function da(n,e,t,r){return tn(n,Wo(),t)?e+ee(t)+r:ne}function Ke(n,e,t,r,i,s,o,a){const u=D(),c=me(),l=n+22,d=c.firstCreatePass?function cz(n,e,t,r,i,s,o,a,u){const c=e.consts,l=ca(e,n,4,o||null,$i(c,a));Ry(e,t,l,$i(c,u)),th(e,l);const d=l.tViews=ky(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,s,o):c.data[l];xr(d,!1);const h=u[11].createComment("");gh(c,u,h,d),en(h,u),Sh(u,u[l]=$M(h,u,h,d)),Jd(d)&&My(c,u,d),null!=o&&xy(u,d,a)}function Nh(n){return zo(function dH(){return te.lFrame.contextLView}(),22+n)}function oe(n,e,t){const r=D();return tn(r,Wo(),e)&&Gn(me(),We(),r,n,e,r[11],t,!1),oe}function $y(n,e,t,r,i){const o=i?"class":"style";Vy(n,t,e.inputs[o],o,r)}function L(n,e,t,r){const i=D(),s=me(),o=22+n,a=i[11],u=i[o]=Jm(a,e,function EH(){return te.lFrame.currentNamespace}()),c=s.firstCreatePass?function dz(n,e,t,r,i,s,o){const a=e.consts,c=ca(e,n,2,i,$i(a,s));return Ry(e,t,c,$i(a,o)),null!==c.attrs&&Mh(c,c.attrs,!1),null!==c.mergedAttrs&&Mh(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];return xr(c,!0),$A(a,u,c),32!=(32&c.flags)&&gh(s,i,u,c),0===function oH(){return te.lFrame.elementDepthCount}()&&en(u,i),function aH(){te.lFrame.elementDepthCount++}(),Jd(c)&&(My(s,i,c),Ay(s,c,i)),null!==r&&xy(i,c),L}function B(){let n=Vt();Im()?Em():(n=n.parent,xr(n,!1));const e=n;!function uH(){te.lFrame.elementDepthCount--}();const t=me();return t.firstCreatePass&&(th(t,n),_m(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function TH(n){return 0!=(8&n.flags)}(e)&&$y(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function SH(n){return 0!=(16&n.flags)}(e)&&$y(t,e,D(),e.stylesWithoutHost,!1),B}function ye(n,e,t,r){return L(n,e,t,r),B(),ye}function yr(n,e,t){const r=D(),i=me(),s=n+22,o=i.firstCreatePass?function hz(n,e,t,r,i){const s=e.consts,o=$i(s,r),a=ca(e,n,8,"ng-container",o);return null!==o&&Mh(a,o,!0),Ry(e,t,a,$i(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];xr(o,!0);const a=r[s]=r[11].createComment("");return gh(i,r,a,o),en(a,r),Jd(o)&&(My(i,r,o),Ay(i,o,r)),null!=t&&xy(r,o),yr}function _r(){let n=Vt();const e=me();return Im()?Em():(n=n.parent,xr(n,!1)),e.firstCreatePass&&(th(e,n),_m(n)&&e.queries.elementEnd(n)),_r}function va(){return D()}function hc(n){return!!n&&"function"==typeof n.then}const jy=function ux(n){return!!n&&"function"==typeof n.subscribe};function ft(n,e,t,r){const i=D(),s=me(),o=Vt();return function lx(n,e,t,r,i,s,o){const a=Jd(r),c=n.firstCreatePass&&HM(n),l=e[8],d=jM(e);let h=!0;if(3&r.type||o){const m=Un(r,e),y=o?o(m):m,w=d.length,b=o?N=>o(Lt(N[r.index])):r.index;let v=null;if(!o&&a&&(v=function fz(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=hx(r,e,l,s,!1);const N=t.listen(y,i,s);d.push(s,N),c&&c.push(i,b,w,w+1)}}else s=hx(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const G=e[p[y]][p[y+1]].subscribe(s),z=d.length;d.push(s,G),c&&c.push(i,r.index,z,-(z+1))}}}(s,i,i[11],o,n,e,r),ft}function dx(n,e,t,r){try{return!1!==t(r)}catch(i){return qM(n,i),!1}}function hx(n,e,t,r,i){return function s(o){if(o===Function)return r;Fy(n.componentOffset>-1?Bn(n.index,e):e);let u=dx(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=dx(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function vr(n=1){return function mH(n){return(te.lFrame.contextLView=function yH(n,e){for(;n>0;)e=e[15],n--;return e}(n,te.lFrame.contextLView))[8]}(n)}function Hy(n,e,t){return gn(n,"",e,"",t),Hy}function gn(n,e,t,r,i){const s=D(),o=da(s,e,t,r);return o!==ne&&Gn(me(),We(),s,n,o,s[11],i,!1),gn}function Oh(n,e){return n<<17|e<<2}function ji(n){return n>>17&32767}function Gy(n){return 2|n}function Us(n){return(131068&n)>>2}function qy(n,e){return-131069&n|e<<2}function zy(n){return 1|n}function Ix(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?ji(s):Us(s),u=!1;for(;0!==a&&(!1===u||o);){const l=n[a+1];Ez(n[a],e)&&(u=!0,n[a+1]=r?zy(l):Gy(l)),a=r?ji(l):Us(l)}u&&(n[t+1]=r?Gy(s):zy(s))}function Ez(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ea(n,e)>=0}const It={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ex(n){return n.substring(It.key,It.keyEnd)}function bx(n,e){const t=It.textEnd;return t===e?-1:(e=It.keyEnd=function Tz(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,It.key=e,t),wa(n,e,t))}function wa(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ph(n,e){return function wr(n,e,t,r){const i=D(),s=me(),o=si(2);s.firstUpdatePass&&xx(s,n,o,r),e!==ne&&tn(i,o,e)&&Rx(s,s.data[fn()],i,i[11],n,i[o+1]=function Lz(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ke(jn(n)))),n}(e,t),r,o)}(n,e,null,!0),Ph}function Vr(n,e){for(let t=function Dz(n){return function Cx(n){It.key=0,It.keyEnd=0,It.value=0,It.valueEnd=0,It.textEnd=n.length}(n),bx(n,wa(n,0,It.textEnd))}(e);t>=0;t=bx(e,t))$n(n,Ex(e),!0)}function Mx(n,e){return e>=n.expandoStartIndex}function xx(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[fn()],o=Mx(n,t);Ox(s,r)&&null===e&&!o&&(e=!1),e=function kz(n,e,t,r){const i=function Dm(n){const e=te.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=fc(t=Wy(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Wy(i,n,e,t,r),null===s){let u=function Rz(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Us(r))return n[ji(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Wy(null,n,e,u[1],r),u=fc(u,e.attrs,r),function Nz(n,e,t,r){n[ji(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function Oz(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=fc(r,n[s].hostAttrs,t);return fc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function wz(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ji(o),u=Us(o);n[r]=t;let l,c=!1;if(Array.isArray(t)){const d=t;l=d[1],(null===l||ea(d,l)>0)&&(c=!0)}else l=t;if(i)if(0!==u){const h=ji(n[a+1]);n[r+1]=Oh(h,a),0!==h&&(n[h+1]=qy(n[h+1],r)),n[a+1]=function _z(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Oh(a,0),0!==a&&(n[a+1]=qy(n[a+1],r)),a=r;else n[r+1]=Oh(u,0),0===a?a=r:n[u+1]=qy(n[u+1],r),u=r;c&&(n[r+1]=Gy(n[r+1])),Ix(n,l,r,!0),Ix(n,l,r,!1),function Iz(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&ea(s,e)>=0&&(t[r+1]=zy(t[r+1]))}(e,l,n,r,s),o=Oh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function Wy(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=fc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function fc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),$n(n,o,!!t||e[++s]))}return void 0===n?null:n}function Rx(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],l=function vz(n){return 1==(1&n)}(c)?Nx(u,e,t,i,Us(c),o):void 0;Fh(l)||(Fh(s)||function yz(n){return 2==(2&n)}(c)&&(s=Nx(u,null,t,i,a,o)),function NG(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Dn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Dn.Important),n.setStyle(t,r,i,s))}}(r,o,Zd(fn(),t),i,s))}function Nx(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===ne&&(h=d?Ie:void 0);let f=d?Vm(h,r):l===r?h:void 0;if(c&&!Fh(f)&&(f=Vm(u,r)),Fh(f)&&(a=f,o))return a;const p=n[i+1];i=o?ji(p):Us(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Vm(u,r))}return a}function Fh(n){return void 0!==n}function Ox(n,e){return 0!=(n.flags&(e?8:16))}function de(n,e=""){const t=D(),r=me(),i=n+22,s=r.firstCreatePass?ca(r,i,1,e,null):r.data[i],o=t[i]=function Xm(n,e){return n.createText(e)}(t[11],e);gh(r,t,o,s),xr(s,!1)}function Ue(n){return Sn("",n,""),Ue}function Sn(n,e,t){const r=D(),i=da(r,n,e,t);return i!==ne&&function ci(n,e,t){const r=Zd(e,n);!function SA(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,fn(),i),Sn}function Hx(n,e,t){!function Ir(n,e,t,r){const i=me(),s=si(2);i.firstUpdatePass&&xx(i,null,s,r);const o=D();if(t!==ne&&tn(o,s,t)){const a=i.data[fn()];if(Ox(a,r)&&!Mx(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=am(u,t||"")),$y(i,a,o,t,r)}else!function Fz(n,e,t,r,i,s,o,a){i===ne&&(i=Ie);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,m=f),null!==p&&Rx(n,e,t,r,p,m,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function Pz(n,e,t){if(null==t||""===t)return Ie;const r=[],i=jn(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}($n,Vr,da(D(),n,e,t),!0)}const Ea="en-US";let rk=Ea;function Yy(n,e,t,r,i){if(n=K(n),Array.isArray(n))for(let s=0;s<n.length;s++)Yy(n[s],e,t,r,i);else{const s=me(),o=D();let a=Fs(n)?n:K(n.provide),u=uM(n);const c=Vt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Fs(n)||!n.multi){const f=new Wu(u,i,E),p=Jy(a,e,i?l:l+h,d);-1===p?(Om(ah(c,o),s,a),Xy(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Jy(a,e,l+h,d),p=Jy(a,e,l,l+h),m=f>=0&&t[f],y=p>=0&&t[p];if(i&&!y||!i&&!m){Om(ah(c,o),s,a);const w=function e4(n,e,t,r,i){const s=new Wu(n,t,E);return s.multi=[],s.index=e,s.componentProviders=0,Ak(s,i,r&&!t),s}(i?ZW:JW,t.length,i,r,u);!i&&y&&(t[p].providerFactory=w),Xy(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(w),o.push(w)}else Xy(s,n,f>-1?f:p,Ak(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function Xy(n,e,t,r){const i=Fs(e),s=function pq(n){return!!n.useClass}(e);if(i||s){const u=(s?K(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function Ak(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Jy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function JW(n,e,t,r){return Zy(this.multi,[])}function ZW(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ks(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),Zy(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Zy(i,s);return s}function Zy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function He(n,e=[]){return t=>{t.providersResolver=(r,i)=>function XW(n,e,t){const r=me();if(r.firstCreatePass){const i=gr(n);Yy(t,r.data,r.blueprint,i,!0),Yy(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ba{}class Mk{}class xk extends ba{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zM(this);const r=Ln(e);this._bootstrapComponents=ui(r.bootstrap),this._r3Injector=DM(e,t,[{provide:ba,useValue:this},{provide:oc,useValue:this.componentFactoryResolver}],ke(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class e_ extends Mk{constructor(e){super(),this.moduleType=e}create(e){return new xk(this.moduleType,e)}}class n4 extends ba{constructor(e,t,r){super(),this.componentFactoryResolver=new zM(this),this.instance=null;const i=new aM([...e,{provide:ba,useValue:this},{provide:oc,useValue:this.componentFactoryResolver}],t||bh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function $h(n,e,t=null){return new n4(n,e,t).injector}let r4=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=rM(0,t.type),i=r.length>0?$h([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=U({token:n,providedIn:"environment",factory:()=>new n(k(Nr))}),n})();function kk(n){n.getStandaloneInjector=e=>e.get(r4).getOrCreateStandaloneInjector(n)}function vc(n,e,t){const r=hn()+n,i=D();return i[r]===ne?Pr(i,r,t?e.call(t):e()):function dc(n,e){return n[e]}(i,r)}function nr(n,e,t,r){return Vk(D(),hn(),n,e,t,r)}function Vk(n,e,t,r,i,s){const o=e+t;return tn(n,o,i)?Pr(n,o+1,s?r.call(s,i):r(i)):function wc(n,e){const t=n[e];return t===ne?void 0:t}(n,o+1)}function Re(n,e){const t=me();let r;const i=n+22;t.firstCreatePass?(r=function w4(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Ss(r.type)),o=Xn(E);try{const a=oh(!1),u=s();return oh(a),function lz(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,D(),i,u),u}finally{Xn(o)}}function Ne(n,e,t){const r=n+22,i=D(),s=zo(i,r);return function Ic(n,e){return n[1].data[e].pure}(i,r)?Vk(i,hn(),e,s.transform,t,s):s.transform(t)}function n_(n){return e=>{setTimeout(n,void 0,e)}}const Ae=class C4 extends Sr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=n_(s),i&&(i=n_(i)),o&&(o=n_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pn&&e.add(a),a}};function T4(){return this._results[Ls()]()}class r_{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ls(),r=r_.prototype;r[t]||(r[t]=T4)}get changes(){return this._changes||(this._changes=new Ae)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function er(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function LH(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let li=(()=>{class n{}return n.__NG_ELEMENT_ID__=M4,n})();const S4=li,A4=class extends S4{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=Ch(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),Sy(r,i,e),new uc(i)}};function M4(){return jh(Vt(),D())}function jh(n,e){return 4&n.type?new A4(e,n,ia(n,e)):null}let Er=(()=>{class n{}return n.__NG_ELEMENT_ID__=x4,n})();function x4(){return qk(Vt(),D())}const k4=Er,Hk=class extends k4{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ia(this._hostTNode,this._hostLView)}get injector(){return new Qo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Nm(this._hostTNode,this._hostLView);if(WS(e)){const t=sh(e,this._hostLView),r=ih(e);return new Qo(t[1].data[r+8],t)}return new Qo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Gk(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Yu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new cc(De(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Nr,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[1];if(function sH(n){return pr(n[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new Hk(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function CG(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],sA(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function TG(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=ny(s,o),u=r[11],c=ph(u,o[7]);return null!==c&&function EG(n,e,t,r,i,s){r[0]=i,r[6]=e,rc(n,r,t,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),sA(i_(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Gk(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Zm(this._lContainer,t);r&&(lh(i_(this._lContainer),t),MA(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Zm(this._lContainer,t);return r&&null!=lh(i_(this._lContainer),t)?new uc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Gk(n){return n[8]}function i_(n){return n[8]||(n[8]=[])}function qk(n,e){let t;const r=e[n.index];if(pr(r))t=r;else{let i;if(8&n.type)i=Lt(r);else{const s=e[11];i=s.createComment("");const o=Un(n,e);Ns(s,ph(s,o),i,function xG(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=$M(r,e,i,n),Sh(e,t)}return new Hk(t,n,e)}class s_{constructor(e){this.queryList=e,this.matches=null}clone(){return new s_(this.queryList)}setDirty(){this.queryList.setDirty()}}class o_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new o_(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Jk(e,t).matches&&this.queries[t].setDirty()}}class zk{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class a_{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new a_(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class u_{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new u_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,R4(t,s)),this.matchTNodeWithReadOption(e,t,uh(t,e,s,!1,!1))}else r===li?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,uh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Hn||i===Er||i===li&&4&t.type)this.addMatch(t.index,-2);else{const s=uh(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function R4(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function O4(n,e,t,r){return-1===t?function N4(n,e){return 11&n.type?ia(n,e):4&n.type?jh(n,e):null}(e,n):-2===t?function P4(n,e,t){return t===Hn?ia(e,n):t===li?jh(e,n):t===Er?qk(e,n):void 0}(n,e,r):ks(n,n[1],t,e)}function Wk(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:O4(e,s[c],o[u+1],t.metadata.read))}i.matches=a}return i.matches}function c_(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=Wk(n,e,i,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&c_(h[1],h,c,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const f=d[h];c_(f[1],f,c,r)}}}}}return r}function l_(n){const e=D(),t=me(),r=LS();Cm(r+1);const i=Jk(t,r);if(n.dirty&&function iH(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?c_(t,e,r,[]):Wk(t,e,i,r);n.reset(s,Cq),n.notifyOnChanges()}return!0}return!1}function d_(){return function F4(n,e){return n[19].queries[e].queryList}(D(),LS())}function Yk(n,e,t){const r=new r_(4==(4&t));PM(n,e,r,r.destroy),null===e[19]&&(e[19]=new o_),e[19].queries.push(new s_(r))}function Xk(n,e,t){null===n.queries&&(n.queries=new a_),n.queries.track(new u_(e,t))}function Jk(n,e){return n.queries.getByIndex(e)}function Gh(...n){}const qh=new F("Application Initializer");let zh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Gh,this.reject=Gh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(hc(s))t.push(s);else if(jy(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(k(qh,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bc=new F("AppId",{providedIn:"root",factory:function y1(){return`${m_()}${m_()}${m_()}`}});function m_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _1=new F("Platform Initializer"),Dc=new F("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),v1=new F("appBootstrapListener");let i6=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const di=new F("LocaleId",{providedIn:"root",factory:()=>le(di,Q.Optional|Q.SkipSelf)||function s6(){return typeof $localize<"u"&&$localize.locale||Ea}()});class a6{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let w1=(()=>{class n{compileModuleSync(t){return new e_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=ui(Ln(t).declarations).reduce((o,a)=>{const u=De(a);return u&&o.push(new cc(u)),o},[]);return new a6(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const l6=(()=>Promise.resolve(0))();function y_(n){typeof Zone>"u"?l6.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ge{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function d6(){let n=Pe.requestAnimationFrame,e=Pe.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function p6(n){const e=()=>{!function f6(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,v_(n),n.isCheckStableRunning=!0,__(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),v_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return b1(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),D1(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return b1(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),D1(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,v_(n),__(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ge.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Ge.isInAngularZone())throw new S(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,h6,Gh,Gh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const h6={};function __(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function v_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function b1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function D1(n){n._nesting--,__(n)}class g6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const C1=new F(""),Wh=new F("");let E_,w_=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,E_||(function m6(n){E_=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ge.assertNotInAngularZone(),y_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())y_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(k(Ge),k(I_),k(Wh))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),I_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return E_?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Hi=null;const T1=new F("AllowMultipleToken"),b_=new F("PlatformDestroyListeners");class S1{constructor(e,t){this.name=e,this.token=t}}function M1(n,e,t=[]){const r=`Platform: ${e}`,i=new F(r);return(s=[])=>{let o=D_();if(!o||o.injector.get(T1,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function v6(n){if(Hi&&!Hi.get(T1,!1))throw new S(400,!1);Hi=n;const e=n.get(k1);(function A1(n){const e=n.get(_1,null);e&&e.forEach(t=>t())})(n)}(function x1(n=[],e){return pn.create({name:e,providers:[{provide:gy,useValue:"platform"},{provide:b_,useValue:new Set([()=>Hi=null])},...n]})}(a,r))}return function I6(n){const e=D_();if(!e)throw new S(401,!1);return e}()}}function D_(){return Hi?.get(k1)??null}let k1=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function N1(n,e){let t;return t="noop"===n?new g6:("zone.js"===n?void 0:n)||new Ge(e),t}(r?.ngZone,function R1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ge,useValue:i}];return i.run(()=>{const o=pn.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(oa,null);if(!u)throw new S(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Qh(this._modules,a),c.unsubscribe()})}),function O1(n,e,t){try{const r=t();return hc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(zh);return c.runInitializers(),c.donePromise.then(()=>(function ik(n){Yn(n,"Expected localeId to be defined"),"string"==typeof n&&(rk=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(di,Ea)||Ea),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=P1({},r);return function y6(n,e,t){const r=new e_(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Kh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new S(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(b_,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(k(pn))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function P1(n,e){return Array.isArray(e)?e.reduce(P1,n):{...n,...e}}let Kh=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new je(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new je(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),y_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function Tj(...n){const e=Lu(n),t=function vj(n,e){return"number"==typeof im(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?lr(r[0]):Uo(t)(dt(r,e)):ei}(s,o.pipe(uS()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof cM;if(!this._injector.get(zh).done)throw!i&&function $o(n){const e=De(n)||Yt(n)||ln(n);return null!==e&&e.standalone}(t),new S(405,false);let o;o=i?t:this._injector.get(oc).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function _6(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ba),c=o.create(pn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(C1,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Qh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Qh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(v1,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Qh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new S(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(k(Ge),k(Nr),k(oa))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Cc=(()=>{class n{}return n.__NG_ELEMENT_ID__=b6,n})();function b6(n){return function D6(n,e,t){if(qu(n)&&!t){const r=Bn(n.index,e);return new uc(r,r)}return 47&n.type?new uc(e[16],e):null}(Vt(),D(),16==(16&n))}class B1{constructor(){}supports(e){return lc(e)}create(e){return new x6(e)}}const M6=(n,e)=>e;class x6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||M6}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<j1(r,i,s)?t:r,a=j1(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!lc(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function oz(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Ls()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new k6(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new $1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class k6{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class R6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class $1{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new R6,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function j1(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class H1{constructor(){}supports(e){return e instanceof Map||By(e)}create(){return new N6}}class N6{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||By(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new O6(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class O6{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function G1(){return new Jh([new B1])}let Jh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||G1()),deps:[[n,new Ju,new Zt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new S(901,!1)}}return n.\u0275prov=U({token:n,providedIn:"root",factory:G1}),n})();function q1(){return new Tc([new H1])}let Tc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||q1()),deps:[[n,new Ju,new Zt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new S(901,!1)}}return n.\u0275prov=U({token:n,providedIn:"root",factory:q1}),n})();const L6=M1(null,"core",[]);let V6=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(k(Kh))},n.\u0275mod=un({type:n}),n.\u0275inj=Qt({}),n})();function Ta(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let M_=null;function Ur(){return M_}class $6{}const Ut=new F("DocumentToken");let x_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return function j6(){return k(z1)}()},providedIn:"platform"}),n})();const H6=new F("Location Initialized");let z1=(()=>{class n extends x_{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ur().getBaseHref(this._doc)}onPopState(t){const r=Ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){W1()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){W1()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(k(Ut))},n.\u0275prov=U({token:n,factory:function(){return function G6(){return new z1(k(Ut))}()},providedIn:"platform"}),n})();function W1(){return!!window.history.pushState}function k_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function K1(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function fi(n){return n&&"?"!==n[0]?"?"+n:n}let js=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return le(Y1)},providedIn:"root"}),n})();const Q1=new F("appBaseHref");let Y1=(()=>{class n extends js{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??le(Ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return k_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+fi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+fi(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+fi(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(k(x_),k(Q1,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q6=(()=>{class n extends js{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=k_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+fi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+fi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(k(x_),k(Q1,8))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),R_=(()=>{class n{constructor(t){this._subject=new Ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function K6(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(K1(X1(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+fi(r))}normalize(t){return n.stripTrailingSlash(function W6(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._basePath,X1(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=fi,n.joinWithSlash=k_,n.stripTrailingSlash=K1,n.\u0275fac=function(t){return new(t||n)(k(js))},n.\u0275prov=U({token:n,factory:function(){return function z6(){return new R_(k(js))}()},providedIn:"root"}),n})();function X1(n){return n.replace(/\/index.html$/,"")}function oR(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let aR=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(lc(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ke(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(E(Jh),E(Tc),E(Hn),E(ai))},n.\u0275dir=X({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class R8{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mc=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new R8(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),lR(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{lR(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(E(Er),E(li),E(Jh))},n.\u0275dir=X({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function lR(n,e){n.context.$implicit=e.item}let xc=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new O8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dR("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dR("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(E(Er),E(li))},n.\u0275dir=X({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class O8{constructor(){this.$implicit=null,this.ngIf=null}}function dR(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ke(e)}'.`)}let c5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=un({type:n}),n.\u0275inj=Qt({}),n})();let f5=(()=>{class n{}return n.\u0275prov=U({token:n,providedIn:"root",factory:()=>new p5(k(Ut),window)}),n})();class p5{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function g5(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=gR(this.window.history)||gR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function gR(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class mR{}class j5 extends $6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class K_ extends j5{static makeCurrent(){!function B6(n){M_||(M_=n)}(new K_)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function H5(){return Rc=Rc||document.querySelector("base"),Rc?Rc.getAttribute("href"):null}();return null==t?null:function G5(n){df=df||document.createElement("a"),df.setAttribute("href",n);const e=df.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return oR(document.cookie,e)}}let df,Rc=null;const ER=new F("TRANSITION_ID"),z5=[{provide:qh,useFactory:function q5(n,e,t){return()=>{t.get(zh).donePromise.then(()=>{const r=Ur(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[ER,Ut,pn],multi:!0}];let K5=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const hf=new F("EventManagerPlugins");let ff=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(k(hf),k(Ge))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();class bR{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Ur().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let DR=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),Nc=(()=>{class n extends DR{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(CR),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(CR))}}return n.\u0275fac=function(t){return new(t||n)(k(Ut))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();function CR(n){Ur().remove(n)}const Q_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Y_=/%COMP%/g;function X_(n,e){return e.flat(100).map(t=>t.replace(Y_,n))}function AR(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let J_=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Z_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Ar.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new eK(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Ar.ShadowDom:return new tK(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=X_(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(k(ff),k(Nc),k(bc))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();class Z_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Q_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(xR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(xR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Q_[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Q_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Dn.DashCase|Dn.Important)?e.style.setProperty(t,r,i&Dn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Dn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,AR(r)):this.eventManager.addEventListener(e,t,AR(r))}}function xR(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class eK extends Z_{constructor(e,t,r,i){super(e),this.component=r;const s=X_(i+"-"+r.id,r.styles);t.addStyles(s),this.contentAttr=function X5(n){return"_ngcontent-%COMP%".replace(Y_,n)}(i+"-"+r.id),this.hostAttr=function J5(n){return"_nghost-%COMP%".replace(Y_,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class tK extends Z_{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=X_(i.id,i.styles);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let nK=(()=>{class n extends bR{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(k(Ut))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const kR=["alt","control","meta","shift"],rK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let sK=(()=>{class n extends bR{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ur().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),kR.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=rK[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kR.forEach(o=>{o!==i&&(0,iK[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(k(Ut))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const NR=[{provide:Dc,useValue:"browser"},{provide:_1,useValue:function oK(){K_.makeCurrent()},multi:!0},{provide:Ut,useFactory:function uK(){return function VG(n){oy=n}(document),document},deps:[]}],cK=M1(L6,"browser",NR),OR=new F(""),PR=[{provide:Wh,useClass:class W5{addToWindow(e){Pe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(r=>{const i=Pe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ur().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:C1,useClass:w_,deps:[Ge,I_,Wh]},{provide:w_,useClass:w_,deps:[Ge,I_,Wh]}],FR=[{provide:gy,useValue:"root"},{provide:oa,useFactory:function aK(){return new oa},deps:[]},{provide:hf,useClass:nK,multi:!0,deps:[Ut,Ge,Dc]},{provide:hf,useClass:sK,multi:!0,deps:[Ut]},{provide:J_,useClass:J_,deps:[ff,Nc,bc]},{provide:dM,useExisting:J_},{provide:DR,useExisting:Nc},{provide:Nc,useClass:Nc,deps:[Ut]},{provide:ff,useClass:ff,deps:[hf,Ge]},{provide:mR,useClass:K5,deps:[]},[]];let lK=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:bc,useValue:t.appId},{provide:ER,useExisting:bc},z5]}}}return n.\u0275fac=function(t){return new(t||n)(k(OR,12))},n.\u0275mod=un({type:n}),n.\u0275inj=Qt({providers:[...FR,...PR],imports:[c5,V6]}),n})(),LR=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(k(Ut))},n.\u0275prov=U({token:n,factory:function(t){let r=null;return r=t?new t:function hK(){return new LR(k(Ut))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let BR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(t){let r=null;return r=t?new(t||n):k($R),r},providedIn:"root"}),n})(),$R=(()=>{class n extends BR{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Fe.NONE:return r;case Fe.HTML:return Rr(r,"HTML")?jn(r):JA(this._doc,String(r)).toString();case Fe.STYLE:return Rr(r,"Style")?jn(r):r;case Fe.SCRIPT:if(Rr(r,"Script"))return jn(r);throw new Error("unsafe value used in a script context");case Fe.URL:return Rr(r,"URL")?jn(r):vh(String(r));case Fe.RESOURCE_URL:if(Rr(r,"ResourceURL"))return jn(r);throw new Error(`unsafe value used in a resource URL context (see ${Bd})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${Bd})`)}}bypassSecurityTrustHtml(t){return function qG(n){return new UG(n)}(t)}bypassSecurityTrustStyle(t){return function zG(n){return new BG(n)}(t)}bypassSecurityTrustScript(t){return function WG(n){return new $G(n)}(t)}bypassSecurityTrustUrl(t){return function KG(n){return new jG(n)}(t)}bypassSecurityTrustResourceUrl(t){return function QG(n){return new HG(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(k(Ut))},n.\u0275prov=U({token:n,factory:function(t){let r=null;return r=t?new t:function vK(n){return new $R(n.get(Ut))}(k(pn)),r},providedIn:"root"}),n})();function j(...n){return dt(n,Lu(n))}class sr extends Sr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const pf=Pu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:wK}=Array,{getPrototypeOf:IK,prototype:EK,keys:bK}=Object;function jR(n){if(1===n.length){const e=n[0];if(wK(e))return{args:e,keys:null};if(function DK(n){return n&&"object"==typeof n&&IK(n)===EK}(e)){const t=bK(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:CK}=Array;function HR(n){return re(e=>function TK(n,e){return CK(e)?n(...e):n(e)}(n,e))}function GR(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function qR(...n){const e=Lu(n),t=oS(n),{args:r,keys:i}=jR(n);if(0===r.length)return dt([],e);const s=new je(function SK(n,e,t=Ds){return r=>{zR(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)zR(e,()=>{const c=dt(n[u],e);let l=!1;c.subscribe(vt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>GR(i,o):Ds));return t?s.pipe(HR(t)):s}function zR(n,e,t){n?Zr(t,n,e):e()}function Oc(...n){return function AK(){return Uo(1)}()(dt(n,Lu(n)))}function gf(n){return new je(e=>{lr(n()).subscribe(e)})}function Hs(n,e){const t=Se(n)?n:()=>n,r=i=>i.error(t());return new je(e?i=>e.schedule(r,0,i):r)}function nv(){return Mt((n,e)=>{let t=null;n._refCount++;const r=vt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class WR extends je{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,qT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pn;const t=this.getSubject();e.add(this.source.subscribe(vt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pn.EMPTY)}return e}refCount(){return nv()(this)}}function or(n,e){return Mt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(vt(r,u=>{i?.unsubscribe();let c=0;const l=s++;lr(n(u,l)).subscribe(i=vt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function gi(n){return n<=0?()=>ei:Mt((e,t)=>{let r=0;e.subscribe(vt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function mi(n,e){return Mt((t,r)=>{let i=0;t.subscribe(vt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function mf(n){return Mt((e,t)=>{let r=!1;e.subscribe(vt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function KR(n=xK){return Mt((e,t)=>{let r=!1;e.subscribe(vt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function xK(){return new pf}function qi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?mi((i,s)=>n(i,s,r)):Ds,gi(1),t?mf(e):KR(()=>new pf))}function yi(n,e){return Se(e)?Ft(n,e,1):Ft(n,1)}function Dt(n,e,t){const r=Se(n)||e||t?{next:n,error:e,complete:t}:n;return r?Mt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(vt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ds}function zi(n){return Mt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(vt(t,void 0,void 0,o=>{s=lr(n(o,zi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function kK(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(vt(o,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function QR(n,e){return Mt(kK(n,e,arguments.length>=2,!0))}function rv(n){return n<=0?()=>ei:Mt((e,t)=>{let r=[];e.subscribe(vt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function YR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?mi((i,s)=>n(i,s,r)):Ds,rv(1),t?mf(e):KR(()=>new pf))}function iv(n){return Mt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ce="primary",Pc=Symbol("RouteTitle");class OK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Sa(n){return new OK(n)}function PK(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Br(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!XR(n[i],e[i]))return!1;return!0}function XR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function JR(n){return Array.prototype.concat.apply([],n)}function ZR(n){return n.length>0?n[n.length-1]:null}function Bt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Wi(n){return jy(n)?n:hc(n)?dt(Promise.resolve(n)):j(n)}const yf=!1,LK={exact:function nN(n,e,t){if(!qs(n.segments,e.segments)||!_f(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!nN(n.children[r],e.children[r],t))return!1;return!0},subset:rN},eN={exact:function VK(n,e){return Br(n,e)},subset:function UK(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>XR(n[t],e[t]))},ignored:()=>!0};function tN(n,e,t){return LK[t.paths](n.root,e.root,t.matrixParams)&&eN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function rN(n,e,t){return iN(n,e,e.segments,t)}function iN(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!qs(i,t)||e.hasChildren()||!_f(i,t,r))}if(n.segments.length===t.length){if(!qs(n.segments,t)||!_f(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!rN(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(qs(n.segments,i)&&_f(n.segments,i,r)&&n.children[ce])&&iN(n.children[ce],e,s,r)}}function _f(n,e,t){return e.every((r,i)=>eN[t](n[i].parameters,r.parameters))}class Gs{constructor(e=new he([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sa(this.queryParams)),this._queryParamMap}toString(){return jK.serialize(this)}}class he{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Bt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vf(this)}}class Fc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Sa(this.parameters)),this._parameterMap}toString(){return aN(this)}}function qs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Lc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return new sv},providedIn:"root"}),n})();class sv{parse(e){const t=new XK(e);return new Gs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Vc(e.root,!0)}`,r=function qK(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${wf(t)}=${wf(i)}`).join("&"):`${wf(t)}=${wf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function HK(n){return encodeURI(n)}(e.fragment)}`:""}`}}const jK=new sv;function vf(n){return n.segments.map(e=>aN(e)).join("/")}function Vc(n,e){if(!n.hasChildren())return vf(n);if(e){const t=n.children[ce]?Vc(n.children[ce],!1):"",r=[];return Bt(n.children,(i,s)=>{s!==ce&&r.push(`${s}:${Vc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function $K(n,e){let t=[];return Bt(n.children,(r,i)=>{i===ce&&(t=t.concat(e(r,i)))}),Bt(n.children,(r,i)=>{i!==ce&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ce?[Vc(n.children[ce],!1)]:[`${i}:${Vc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ce]?`${vf(n)}/${t[0]}`:`${vf(n)}/(${t.join("//")})`}}function sN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wf(n){return sN(n).replace(/%3B/gi,";")}function ov(n){return sN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function If(n){return decodeURIComponent(n)}function oN(n){return If(n.replace(/\+/g,"%20"))}function aN(n){return`${ov(n.path)}${function GK(n){return Object.keys(n).map(e=>`;${ov(e)}=${ov(n[e])}`).join("")}(n.parameters)}`}const zK=/^[^\/()?;=#]+/;function Ef(n){const e=n.match(zK);return e?e[0]:""}const WK=/^[^=?&#]+/,QK=/^[^&#]+/;class XK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ce]=new he(e,t)),r}parseSegment(){const e=Ef(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,yf);return this.capture(e),new Fc(If(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ef(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ef(this.remaining);i&&(r=i,this.capture(r))}e[If(t)]=If(r)}parseQueryParam(e){const t=function KK(n){const e=n.match(WK);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function YK(n){const e=n.match(QK);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=oN(t),s=oN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ef(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,yf);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ce]:new he([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,yf)}}function av(n){return n.segments.length>0?new he([],{[ce]:n}):n}function bf(n){const e={};for(const r of Object.keys(n.children)){const s=bf(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function JK(n){if(1===n.numberOfChildren&&n.children[ce]){const e=n.children[ce];return new he(n.segments.concat(e.segments),e.children)}return n}(new he(n.segments,e))}function zs(n){return n instanceof Gs}function t7(n,e,t,r,i){if(0===t.length)return Aa(e.root,e.root,e.root,r,i);const s=function lN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new cN(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Bt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new cN(t,e,r)}(t);return s.toRoot()?Aa(e.root,e.root,new he([],{}),r,i):function o(u){const c=function r7(n,e,t,r){if(n.isAbsolute)return new Ma(e.root,!0,0);if(-1===r)return new Ma(t,t===e.root,0);return function dN(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new Ma(r,!1,i-s)}(t,r+(Uc(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),l=c.processChildren?$c(c.segmentGroup,c.index,s.commands):cv(c.segmentGroup,c.index,s.commands);return Aa(e.root,c.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function Uc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Bc(n){return"object"==typeof n&&null!=n&&n.outlets}function Aa(n,e,t,r,i){let o,s={};r&&Bt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=n===e?t:uN(n,e,t);const a=av(bf(o));return new Gs(a,s,i)}function uN(n,e,t){const r={};return Bt(n.children,(i,s)=>{r[s]=i===e?t:uN(i,e,t)}),new he(n.segments,r)}class cN{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Uc(r[0]))throw new S(4003,!1);const i=r.find(Bc);if(i&&i!==ZR(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ma{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function cv(n,e,t){if(n||(n=new he([],{})),0===n.segments.length&&n.hasChildren())return $c(n,e,t);const r=function s7(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Bc(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!fN(u,c,o))return s;r+=2}else{if(!fN(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new he(n.segments.slice(0,r.pathIndex),{});return s.children[ce]=new he(n.segments.slice(r.pathIndex),n.children),$c(s,0,i)}return r.match&&0===i.length?new he(n.segments,{}):r.match&&!n.hasChildren()?lv(n,e,t):r.match?$c(n,0,i):lv(n,e,t)}function $c(n,e,t){if(0===t.length)return new he(n.segments,{});{const r=function i7(n){return Bc(n[0])?n[0].outlets:{[ce]:n}}(t),i={};return Bt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=cv(n.children[o],e,s))}),Bt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new he(n.segments,i)}}function lv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Bc(s)){const u=o7(s.outlets);return new he(r,u)}if(0===i&&Uc(t[0])){r.push(new Fc(n.segments[e].path,hN(t[0]))),i++;continue}const o=Bc(s)?s.outlets[ce]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Uc(a)?(r.push(new Fc(o,hN(a))),i+=2):(r.push(new Fc(o,{})),i++)}return new he(r,{})}function o7(n){const e={};return Bt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=lv(new he([],{}),0,t))}),e}function hN(n){const e={};return Bt(n,(t,r)=>e[r]=`${t}`),e}function fN(n,e,t){return n==t.path&&Br(e,t.parameters)}class _i{constructor(e,t){this.id=e,this.url=t}}class dv extends _i{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ws extends _i{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Df extends _i{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pN extends _i{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class a7 extends _i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u7 extends _i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c7 extends _i{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class l7 extends _i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d7 extends _i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h7{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class f7{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class p7{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g7{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m7{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y7{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gN{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let v7=(()=>{class n{createUrlTree(t,r,i,s,o,a){return t7(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),w7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(e){return v7.\u0275fac(e)},providedIn:"root"}),n})();class mN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=hv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=hv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fv(e,this._root).map(t=>t.value)}}function hv(n,e){if(n===e.value)return e;for(const t of e.children){const r=hv(n,t);if(r)return r}return null}function fv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=fv(n,t);if(r.length)return r.unshift(e),r}return[]}class vi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xa(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class yN extends mN{constructor(e,t){super(e),this.snapshot=t,pv(this,e)}toString(){return this.snapshot.toString()}}function _N(n,e){const t=function I7(n,e){const o=new Cf([],{},{},"",{},ce,e,null,n.root,-1,{});return new wN("",new vi(o,[]))}(n,e),r=new sr([new Fc("",{})]),i=new sr({}),s=new sr({}),o=new sr({}),a=new sr(""),u=new Ki(r,i,o,a,s,ce,e,t.root);return u.snapshot=t.root,new yN(new vi(u,[]),t)}class Ki{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(re(c=>c[Pc]))??j(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(e=>Sa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(e=>Sa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vN(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function E7(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Cf{constructor(e,t,r,i,s,o,a,u,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get title(){return this.data?.[Pc]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Sa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wN extends mN{constructor(e,t){super(t),this.url=e,pv(this,t)}toString(){return IN(this._root)}}function pv(n,e){e.value._routerState=n,e.children.forEach(t=>pv(n,t))}function IN(n){const e=n.children.length>0?` { ${n.children.map(IN).join(", ")} } `:"";return`${n.value}${e}`}function gv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Br(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Br(e.params,t.params)||n.params.next(t.params),function FK(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Br(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Br(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function mv(n,e){const t=Br(n.params,e.params)&&function BK(n,e){return qs(n,e)&&n.every((t,r)=>Br(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||mv(n.parent,e.parent))}function jc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function D7(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return jc(n,r,i);return jc(n,r)})}(n,e,t);return new vi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>jc(n,a)),o}}const r=function C7(n){return new Ki(new sr(n.url),new sr(n.params),new sr(n.queryParams),new sr(n.fragment),new sr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>jc(n,s));return new vi(r,i)}}const yv="ngNavigationCancelingError";function EN(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=zs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=bN(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function bN(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[yv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function DN(n){return CN(n)&&zs(n.url)}function CN(n){return n&&n[yv]}class T7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hc,this.attachRef=null}}let Hc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new T7,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tf=!1;let _v=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.parentContexts=le(Hc),this.location=le(Er),this.changeDetector=le(Cc),this.environmentInjector=le(Nr)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,Tf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,Tf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,Tf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new S(4013,Tf);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new S7(t,a,i.injector);if(r&&function A7(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=X({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Jn]}),n})();class S7{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ki?this.route:e===Hc?this.childContexts:this.parent.get(e,t)}}let vv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=hr({type:n,selectors:[["ng-component"]],standalone:!0,features:[kk],decls:1,vars:0,template:function(t,r){1&t&&ye(0,"router-outlet")},dependencies:[_v],encapsulation:2}),n})();function TN(n,e){return n.providers&&!n._injector&&(n._injector=$h(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Iv(n){const e=n.children&&n.children.map(Iv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ce&&(t.component=vv),t}function ar(n){return n.outlet||ce}function SN(n,e){const t=n.filter(r=>ar(r)===e);return t.push(...n.filter(r=>ar(r)!==e)),t}function Gc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class N7{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),gv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=xa(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Bt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=xa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=xa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=xa(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new y7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new g7(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(gv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),gv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Gc(i.snapshot),u=a?.get(oc)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class AN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Sf{constructor(e,t){this.component=e,this.route=t}}function O7(n,e,t){const r=n._root;return qc(r,e?e._root:null,t,[r.value])}function ka(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Nj(n){return null!==Hd(n)}(n)?e.get(n):n:r}function qc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=xa(e);return n.children.forEach(o=>{(function F7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function L7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!qs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qs(n.url,e.url)||!Br(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mv(n,e)||!Br(n.queryParams,e.queryParams);default:return!mv(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new AN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),qc(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Sf(a.outlet.component,o))}else o&&zc(e,a,i),i.canActivateChecks.push(new AN(r)),qc(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Bt(s,(o,a)=>zc(o,t.getContext(a),i)),i}function zc(n,e,t){const r=xa(n),i=n.value;Bt(r,(s,o)=>{zc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Sf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Wc(n){return"function"==typeof n}function Ev(n){return n instanceof pf||"EmptyError"===n?.name}const Af=Symbol("INITIAL_VALUE");function Ra(){return or(n=>qR(n.map(e=>e.pipe(gi(1),function MK(...n){const e=Lu(n);return Mt((t,r)=>{(e?Oc(n,t,e):Oc(n,t)).subscribe(r)})}(Af)))).pipe(re(e=>{for(const t of e)if(!0!==t){if(t===Af)return Af;if(!1===t||t instanceof Gs)return t}return!0}),mi(e=>e!==Af),gi(1)))}function MN(n){return function Z$(...n){return jT(n)}(Dt(e=>{if(zs(e))throw EN(0,e)}),re(e=>!0===e))}const bv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xN(n,e,t,r,i){const s=Dv(n,e,t);return s.matched?function e9(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?j(i.map(o=>{const a=ka(o,n);return Wi(function H7(n){return n&&Wc(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ra(),MN()):j(!0)}(r=TN(e,r),e,t).pipe(re(o=>!0===o?s:{...bv})):j(s)}function Dv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...bv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||PK)(t,n,e);if(!i)return{...bv};const s={};Bt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Mf(n,e,t,r){if(t.length>0&&function r9(n,e,t){return t.some(r=>xf(n,e,r)&&ar(r)!==ce)}(n,t,r)){const s=new he(e,function n9(n,e,t,r){const i={};i[ce]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ar(s)!==ce){const o=new he([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[ar(s)]=o}return i}(n,e,r,new he(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function i9(n,e,t){return t.some(r=>xf(n,e,r))}(n,t,r)){const s=new he(n.segments,function t9(n,e,t,r,i){const s={};for(const o of r)if(xf(n,t,o)&&!i[ar(o)]){const a=new he([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[ar(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new he(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function xf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function kN(n,e,t,r){return!!(ar(n)===r||r!==ce&&xf(e,t,n))&&("**"===n.path||Dv(e,n,t).matched)}function RN(n,e,t){return 0===e.length&&!n.children[t]}const kf=!1;class Rf{constructor(e){this.segmentGroup=e||null}}class NN{constructor(e){this.urlTree=e}}function Kc(n){return Hs(new Rf(n))}function ON(n){return Hs(new NN(n))}class u9{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Mf(this.urlTree.root,[],[],this.config).segmentGroup,t=new he(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ce).pipe(re(s=>this.createUrlTree(bf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zi(s=>{if(s instanceof NN)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Rf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ce).pipe(re(i=>this.createUrlTree(bf(i),e.queryParams,e.fragment))).pipe(zi(i=>{throw i instanceof Rf?this.noMatchError(i):i}))}noMatchError(e){return new S(4002,kf)}createUrlTree(e,t,r){const i=av(e);return new Gs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(re(s=>new he([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return dt(i).pipe(yi(s=>{const o=r.children[s],a=SN(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(re(u=>({segment:u,outlet:s})))}),QR((s,o)=>(s[o.outlet]=o.segment,s),{}),YR())}expandSegment(e,t,r,i,s,o){return dt(r).pipe(yi(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(zi(c=>{if(c instanceof Rf)return j(null);throw c}))),qi(a=>!!a),zi((a,u)=>{if(Ev(a))return RN(t,i,s)?j(new he([],{})):Kc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return kN(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Kc(t):Kc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ON(s):this.lineralizeSegments(r,s).pipe(Ft(o=>{const a=new he(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Dv(t,i,s);if(!a)return Kc(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?ON(d):this.lineralizeSegments(i,d).pipe(Ft(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=TN(r,e),r.loadChildren?(r._loadedRoutes?j({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(re(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new he(i,{})))):j(new he(i,{}))):xN(t,r,i,e).pipe(or(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Ft(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Mf(t,a,u,h),m=new he(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(re(v=>new he(a,v)));if(0===h.length&&0===p.length)return j(new he(a,{}));const y=ar(r)===s;return this.expandSegment(d,m,h,p,y?ce:s,!0).pipe(re(b=>new he(a.concat(b.segments),b.children)))})):Kc(t)))}getChildConfig(e,t,r){return t.children?j({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?j({routes:t._loadedRoutes,injector:t._loadedInjector}):function Z7(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?j(!0):j(i.map(o=>{const a=ka(o,n);return Wi(function U7(n){return n&&Wc(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ra(),MN())}(e,t,r).pipe(Ft(i=>i?this.configLoader.loadChildren(e,t).pipe(Dt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function o9(n){return Hs(bN(kf,3))}())):j({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return j(r);if(i.numberOfChildren>1||!i.children[ce])return Hs(new S(4e3,kf));i=i.children[ce]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Gs(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Bt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Bt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new he(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new S(4001,kf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class l9{}class f9{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Mf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ce).pipe(re(t=>{if(null===t)return null;const r=new Cf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ce,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new vi(r,t),s=new wN(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=vN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return dt(Object.keys(r.children)).pipe(yi(i=>{const s=r.children[i],o=SN(t,i);return this.processSegmentGroup(e,o,s,i)}),QR((i,s)=>i&&s?(i.push(...s),i):null),function RK(n,e=!1){return Mt((t,r)=>{let i=0;t.subscribe(vt(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),mf(null),YR(),re(i=>{if(null===i)return null;const s=FN(i);return function p9(n){n.sort((e,t)=>e.value.outlet===ce?-1:t.value.outlet===ce?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return dt(t).pipe(yi(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),qi(o=>!!o),zi(o=>{if(Ev(o))return RN(r,i,s)?j([]):j(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!kN(t,r,i,s))return j(null);let o;if("**"===t.path){const a=i.length>0?ZR(i).parameters:{},u=VN(r)+i.length;o=j({snapshot:new Cf(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UN(t),ar(t),t.component??t._loadedComponent??null,t,LN(r),u,BN(t)),consumedSegments:[],remainingSegments:[]})}else o=xN(r,t,i,e).pipe(re(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=VN(r)+u.length;return{snapshot:new Cf(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UN(t),ar(t),t.component??t._loadedComponent??null,t,LN(r),d,BN(t)),consumedSegments:u,remainingSegments:c}}));return o.pipe(or(a=>{if(null===a)return j(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function g9(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=Mf(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(re(y=>null===y?null:[new vi(u,y)]));if(0===h.length&&0===p.length)return j([new vi(u,[])]);const m=ar(t)===s;return this.processSegment(d,h,f,p,m?ce:s).pipe(re(y=>null===y?null:[new vi(u,y)]))}))}}function m9(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function FN(n){const e=[],t=new Set;for(const r of n){if(!m9(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=FN(r.children);e.push(new vi(r.value,i))}return e.filter(r=>!t.has(r))}function LN(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function VN(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function UN(n){return n.data||{}}function BN(n){return n.resolve||{}}function $N(n){return"string"==typeof n.title||null===n.title}function Cv(n){return or(e=>{const t=n(e);return t?dt(t).pipe(re(()=>e)):j(e)})}const Na=new F("ROUTES");let Tv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return j(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Wi(t.loadComponent()).pipe(re(HN),Dt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),iv(()=>{this.componentLoaders.delete(t)})),i=new WR(r,()=>new Sr).pipe(nv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return j({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(re(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=JR(u.get(Na,[],Q.Self|Q.Optional)));return{routes:c.map(Iv),injector:u}}),iv(()=>{this.childrenLoaders.delete(r)})),o=new WR(s,()=>new Sr).pipe(nv());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Wi(t()).pipe(re(HN),Ft(i=>i instanceof Mk||Array.isArray(i)?j(i):dt(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(k(pn),k(w1))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HN(n){return function C9(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Sv=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Sr,this.configLoader=le(Tv),this.environmentInjector=le(Nr),this.urlSerializer=le(Lc),this.rootContexts=le(Hc),this.navigationId=0,this.configLoader.onLoadEndListener=i=>this.events.next(new f7(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new h7(i))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new sr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mi(r=>0!==r.id),re(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),or(r=>{let i=!1,s=!1;return j(r).pipe(Dt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),or(o=>{const a=t.browserUrlTree.toString(),u=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||u)&&t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return qN(o.source)&&(t.browserUrlTree=o.extractedUrl),j(o).pipe(or(l=>{const d=this.transitions?.getValue();return this.events.next(new dv(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?ei:Promise.resolve(l)}),function c9(n,e,t,r){return or(i=>function a9(n,e,t,r,i){return new u9(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(re(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Dt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function _9(n,e,t,r,i){return Ft(s=>function h9(n,e,t,r,i,s,o="emptyOnly"){return new f9(n,e,t,r,i,o,s).recognize().pipe(or(a=>null===a?function d9(n){return new je(e=>e.error(n))}(new l9):j(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(re(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,t.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Dt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);t.setBrowserUrl(h,l)}t.browserUrlTree=l.urlAfterRedirects}const d=new a7(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:d,extractedUrl:h,source:f,restoredState:p,extras:m}=o,y=new dv(d,this.urlSerializer.serialize(h),f,p);this.events.next(y);const w=_N(h,t.rootComponentType).snapshot;return j(r={...o,targetSnapshot:w,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return t.rawUrlTree=o.rawUrl,o.resolve(null),ei}),Dt(o=>{const a=new u7(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),re(o=>r={...o,guards:O7(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function q7(n,e){return Ft(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?j({...t,guardsResult:!0}):function z7(n,e,t,r){return dt(n).pipe(Ft(i=>function J7(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?j(s.map(a=>{const u=Gc(e)??i,c=ka(a,u);return Wi(function j7(n){return n&&Wc(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(qi())})).pipe(Ra()):j(!0)}(i.component,i.route,t,e,r)),qi(i=>!0!==i,!0))}(o,r,i,n).pipe(Ft(a=>a&&function V7(n){return"boolean"==typeof n}(a)?function W7(n,e,t,r){return dt(e).pipe(yi(i=>Oc(function Q7(n,e){return null!==n&&e&&e(new p7(n)),j(!0)}(i.route.parent,r),function K7(n,e){return null!==n&&e&&e(new m7(n)),j(!0)}(i.route,r),function X7(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function P7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>gf(()=>j(o.guards.map(u=>{const c=Gc(o.node)??t,l=ka(u,c);return Wi(function $7(n){return n&&Wc(n.canActivateChild)}(l)?l.canActivateChild(r,n):c.runInContext(()=>l(r,n))).pipe(qi())})).pipe(Ra())));return j(s).pipe(Ra())}(n,i.path,t),function Y7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return j(!0);const i=r.map(s=>gf(()=>{const o=Gc(e)??t,a=ka(s,o);return Wi(function B7(n){return n&&Wc(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(qi())}));return j(i).pipe(Ra())}(n,i.route,t))),qi(i=>!0!==i,!0))}(r,s,n,e):j(a)),re(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Dt(o=>{if(r.guardsResult=o.guardsResult,zs(o.guardsResult))throw EN(0,o.guardsResult);const a=new c7(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),mi(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3,t),!1)),Cv(o=>{if(o.guards.canActivateChecks.length)return j(o).pipe(Dt(a=>{const u=new l7(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),or(a=>{let u=!1;return j(a).pipe(function v9(n,e){return Ft(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return j(t);let s=0;return dt(i).pipe(yi(o=>function w9(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!$N(i)&&(s[Pc]=i.title),function I9(n,e,t,r){const i=function E9(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return j({});const s={};return dt(i).pipe(Ft(o=>function b9(n,e,t,r){const i=Gc(e)??r,s=ka(n,i);return Wi(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(qi(),Dt(a=>{s[o]=a}))),rv(1),function NK(n){return re(()=>n)}(s),zi(o=>Ev(o)?ei:Hs(o)))}(s,n,e,r).pipe(re(o=>(n._resolvedData=o,n.data=vN(n,t).resolve,i&&$N(i)&&(n.data[Pc]=i.title),null)))}(o.route,r,n,e)),Dt(()=>s++),rv(1),Ft(o=>s===i.length?j(t):ei))})}(t.paramsInheritanceStrategy,this.environmentInjector),Dt({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2,t))}}))}),Dt(a=>{const u=new d7(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Cv(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Dt(l=>{u.component=l}),re(()=>{})));for(const l of u.children)c.push(...a(l));return c};return qR(a(o.targetSnapshot.root)).pipe(mf(),gi(1))}),Cv(()=>t.afterPreactivation()),re(o=>{const a=function b7(n,e,t){const r=jc(n,e._root,t?t._root:void 0);return new yN(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Dt(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>re(r=>(new N7(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Dt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ws(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),iv(()=>{i||s||this.cancelNavigationTransition(r,"",1,t),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),zi(o=>{if(s=!0,CN(o)){DN(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Df(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),DN(o)){const u=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||qN(r.source)};t.scheduleNavigation(u,"imperative",null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new pN(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(u){r.reject(u)}}return ei}))}))}cancelNavigationTransition(t,r,i,s){const o=new Df(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qN(n){return"imperative"!==n}let zN=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ce);return r}getResolvedTitleForRoute(t){return t.data[Pc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return le(T9)},providedIn:"root"}),n})(),T9=(()=>{class n extends zN{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(k(LR))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return le(M9)},providedIn:"root"}),n})();class A9{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let M9=(()=>{class n extends A9{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nf=new F("",{providedIn:"root",factory:()=>({})});let k9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:function(){return le(R9)},providedIn:"root"}),n})(),R9=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function N9(n){throw n}function O9(n,e,t){return e.parse("/")}const P9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},F9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nn=(()=>{class n{constructor(){this.disposed=!1,this.currentPageId=0,this.console=le(i6),this.isNgZoneEnabled=!1,this.options=le(Nf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||N9,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||O9,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>j(void 0),this.urlHandlingStrategy=le(k9),this.routeReuseStrategy=le(S9),this.urlCreationStrategy=le(w7),this.titleStrategy=le(zN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=JR(le(Na,{optional:!0})??[]),this.navigationTransitions=le(Sv),this.urlSerializer=le(Lc),this.location=le(R_),this.rootComponentType=null,this.isNgZoneEnabled=le(Ge)instanceof Ge&&Ge.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Gs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_N(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(t.state){const a={...t.state};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Iv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,l,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=zs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function L9(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new S(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...P9}:!1===r?{...F9}:r,zs(t))return tN(this.currentUrlTree,t,i);const s=this.parseUrl(t);return tN(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),l=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):l=0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ks=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Sr;const u=o.nativeElement.tagName;this.isAnchorElement="A"===u||"AREA"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Ws&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Ta(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Ta(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Ta(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function ZA(n,e,t){return function lq(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?dy:Tn}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(E(nn),E(Ki),function ch(n){return function kH(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(GS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Vt(),n)}("tabindex"),E(ai),E(Hn),E(js))},n.\u0275dir=X({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&ft("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Fr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Jn]}),n})(),Av=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ae,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Ws&&this.update()})}ngAfterContentInit(){j(this.links.changes,j(null)).pipe(Uo()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=dt(t).pipe(Uo()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function V9(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(E(nn),E(Hn),E(ai),E(Cc),E(Ks,8))},n.\u0275dir=X({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&function Qk(n,e,t,r){const i=me();if(i.firstCreatePass){const s=Vt();Xk(i,new zk(e,t,r),s.index),function L4(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}Yk(i,D(),t)}(i,Ks,5),2&t){let s;l_(s=d_())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Jn]}),n})();class KN{}let U9=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(mi(t=>t instanceof Ws),yi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=$h(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return dt(i).pipe(Uo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):j(null);const s=i.pipe(Ft(o=>null===o?j(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?dt([s,this.loader.loadComponent(r)]).pipe(Uo()):s})}}return n.\u0275fac=function(t){return new(t||n)(k(nn),k(w1),k(Nr),k(KN),k(Tv))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mv=new F("");let QN=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof dv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ws&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function kM(){throw new Error("invalid")}()},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();function Pa(n,e){return{\u0275kind:n,\u0275providers:e}}function XN(){const n=le(pn);return e=>{const t=n.get(Kh);if(e!==t.components[0])return;const r=n.get(nn),i=n.get(JN);1===n.get(kv)&&r.initialNavigation(),n.get(ZN,null,Q.Optional)?.setUpPreloading(),n.get(Mv,null,Q.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const JN=new F("",{factory:()=>new Sr}),kv=new F("",{providedIn:"root",factory:()=>1});const ZN=new F("");function G9(n){return Pa(0,[{provide:ZN,useExisting:U9},{provide:KN,useExisting:n}])}const eO=new F("ROUTER_FORROOT_GUARD"),q9=[R_,{provide:Lc,useClass:sv},nn,Hc,{provide:Ki,useFactory:function YN(n){return n.routerState.root},deps:[nn]},Tv,[]];function z9(){return new S1("Router",nn)}let tO=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[q9,[],{provide:Na,multi:!0,useValue:t},{provide:eO,useFactory:Y9,deps:[[nn,new Zt,new Ju]]},{provide:Nf,useValue:r||{}},r?.useHash?{provide:js,useClass:q6}:{provide:js,useClass:Y1},{provide:Mv,useFactory:()=>{const n=le(f5),e=le(Ge),t=le(Nf),r=le(Sv),i=le(Lc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new QN(i,r,n,e,t)}},r?.preloadingStrategy?G9(r.preloadingStrategy).\u0275providers:[],{provide:S1,multi:!0,useFactory:z9},r?.initialNavigation?X9(r):[],[{provide:nO,useFactory:XN},{provide:v1,multi:!0,useExisting:nO}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Na,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(k(eO,8))},n.\u0275mod=un({type:n}),n.\u0275inj=Qt({imports:[vv]}),n})();function Y9(n){return"guarded"}function X9(n){return["disabled"===n.initialNavigation?Pa(3,[{provide:qh,multi:!0,useFactory:()=>{const e=le(nn);return()=>{e.setUpLocationChangeListener()}}},{provide:kv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Pa(2,[{provide:kv,useValue:0},{provide:qh,multi:!0,deps:[pn],useFactory:e=>{const t=e.get(H6,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const s=e.get(nn),o=e.get(JN);(function r(i){e.get(nn).events.pipe(mi(o=>o instanceof Ws||o instanceof Df||o instanceof pN),re(o=>o instanceof Ws||o instanceof Df&&(0===o.code||1===o.code)&&null),mi(o=>null!==o),gi(1)).subscribe(()=>{i()})})(()=>{i(!0)}),s.afterPreactivation=()=>(i(!0),o.closed?j(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const nO=new F("");function rO(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){rO(s,r,i,o,a,"next",u)}function a(u){rO(s,r,i,o,a,"throw",u)}o(void 0)})}}class Z9{constructor(e,t,r,i,s,o){this.email=e,this.password=t,this.role=r,this._token=i,this._tokenExiprationDate=s,this.loanedMovies=o}get token(){return!this._tokenExiprationDate||new Date>this._tokenExiprationDate?null:this._token}}const iO=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(iO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Of=function(n){return function(n){const e=iO(n);return Nv.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Pf=function(n){try{return Nv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ov(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Qs(){try{return"object"==typeof indexedDB}catch{return!1}}function Yc(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function Pv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Fv=()=>{try{return function cQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Pf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},oO=n=>{var e,t;return null===(t=null===(e=Fv())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},aO=n=>{var e;return null===(e=Fv())||void 0===e?void 0:e[`_${n}`]};class Ff{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}class ur extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$r.prototype.create)}}class $r{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function yQ(n,e){return n.replace(_Q,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ur(i,`${this.serviceName}: ${o} (${i}).`,r)}}const _Q=/\{\$([^}]+)}/g;function Xc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(cO(s)&&cO(o)){if(!Xc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function cO(n){return null!==n&&"object"==typeof n}function Vf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class IQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function EQ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Lv),void 0===i.error&&(i.error=Lv),void 0===i.complete&&(i.complete=Lv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lv(){}function Uv(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Mn(n){return n&&n._delegate?n._delegate:n}class rn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ys="[DEFAULT]";class AQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ff;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function xQ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Ys?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class kQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Bv=[];var _e=(()=>{return(n=_e||(_e={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",_e;var n})();const lO={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},RQ=_e.INFO,NQ={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},OQ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=NQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Fa{constructor(e){this.name=e,this._logLevel=RQ,this._logHandler=OQ,this._userLogHandler=null,Bv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?lO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}let dO,hO;const fO=new WeakMap,$v=new WeakMap,pO=new WeakMap,jv=new WeakMap,Hv=new WeakMap;let Gv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return $v.get(n);if("objectStoreNames"===e)return n.objectStoreNames||pO.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function jQ(n){return"function"==typeof n?function $Q(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function LQ(){return hO||(hO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(qv(this),e),wi(fO.get(this))}:function(...e){return wi(n.apply(qv(this),e))}:function(e,...t){const r=n.call(qv(this),e,...t);return pO.set(r,e.sort?e.sort():[e]),wi(r)}}(n):(n instanceof IDBTransaction&&function UQ(n){if($v.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});$v.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function FQ(){return dO||(dO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Gv):n)}function wi(n){if(n instanceof IDBRequest)return function VQ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(wi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&fO.set(t,n)}).catch(()=>{}),Hv.set(e,n),e}(n);if(jv.has(n))return jv.get(n);const e=jQ(n);return e!==n&&(jv.set(n,e),Hv.set(e,n)),e}const qv=n=>Hv.get(n);function Uf(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=wi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(wi(o.result),u.oldVersion,u.newVersion,wi(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function zv(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),wi(t).then(()=>{})}const HQ=["get","getKey","getAll","getAllKeys","count"],GQ=["put","add","delete","clear"],Wv=new Map;function gO(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Wv.get(e))return Wv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=GQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!HQ.includes(t))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Wv.set(e,s),s}!function BQ(n){Gv=n(Gv)}(n=>({...n,get:(e,t,r)=>gO(e,t)||n.get(e,t,r),has:(e,t)=>!!gO(e,t)||n.has(e,t)}));class qQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function zQ(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Kv="@firebase/app",Xs=new Fa("@firebase/app"),Bf="[DEFAULT]",_Y={[Kv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Js=new Map,$f=new Map;function vY(n,e){try{n.container.addComponent(e)}catch(t){Xs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _n(n){const e=n.name;if($f.has(e))return Xs.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,n);for(const t of Js.values())vY(t,n);return!0}function Qi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Ii=new $r("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class IY{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}const La="9.15.0";function Qv(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ii.create("bad-app-name",{appName:String(i)});if(t||(t=(()=>{var n;return null===(n=Fv())||void 0===n?void 0:n.config})()),!t)throw Ii.create("no-options");const s=Js.get(i);if(s){if(Xc(t,s.options)&&Xc(r,s.config))return s;throw Ii.create("duplicate-app",{appName:i})}const o=new kQ(i);for(const u of $f.values())o.addComponent(u);const a=new IY(t,r,o);return Js.set(i,a),a}function jf(n=Bf){const e=Js.get(n);if(!e&&n===Bf)return Qv();if(!e)throw Ii.create("no-app",{appName:n});return e}function yO(){return Array.from(Js.values())}function Ze(n,e,t){var r;let i=null!==(r=_Y[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Xs.warn(a.join(" "))}_n(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Jc="firebase-heartbeat-store";let Xv=null;function _O(){return Xv||(Xv=Uf("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Jc)}}).catch(n=>{throw Ii.create("idb-open",{originalErrorMessage:n.message})})),Xv}function Jv(){return(Jv=g(function*(n){try{return(yield _O()).transaction(Jc).objectStore(Jc).get(wO(n))}catch(e){if(e instanceof ur)Xs.warn(e.message);else{const t=Ii.create("idb-get",{originalErrorMessage:e?.message});Xs.warn(t.message)}}})).apply(this,arguments)}function vO(n,e){return Zv.apply(this,arguments)}function Zv(){return(Zv=g(function*(n,e){try{const r=(yield _O()).transaction(Jc,"readwrite");return yield r.objectStore(Jc).put(e,wO(n)),r.done}catch(t){if(t instanceof ur)Xs.warn(t.message);else{const r=Ii.create("idb-set",{originalErrorMessage:t?.message});Xs.warn(r.message)}}})).apply(this,arguments)}function wO(n){return`${n.name}!${n.options.appId}`}class SY{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MY(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=IO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=IO(),{heartbeatsToSend:r,unsentEntries:i}=function AY(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),EO(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),EO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Of(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function IO(){return(new Date).toISOString().substring(0,10)}class MY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Qs()&&Yc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function DY(n){return Jv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return vO(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return vO(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function EO(n){return Of(JSON.stringify({version:2,heartbeats:n})).length}!function xY(n){_n(new rn("platform-logger",e=>new qQ(e),"PRIVATE")),_n(new rn("heartbeat",e=>new SY(e),"PRIVATE")),Ze(Kv,"0.9.0",n),Ze(Kv,"0.9.0","esm2017"),Ze("fire-js","")}("");var H,kY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ei={},ew=ew||{},J=kY||self;function Hf(){}function Gf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Zc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var tw="closure_uid_"+(1e9*Math.random()>>>0),NY=0;function OY(n,e,t){return n.call.apply(n.bind,arguments)}function PY(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function sn(n,e,t){return(sn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?OY:PY).apply(null,arguments)}function qf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function $t(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Yi(){this.s=this.s,this.o=this.o}Yi.prototype.s=!1,Yi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function RY(n){Object.prototype.hasOwnProperty.call(n,tw)&&n[tw]||(n[tw]=++NY)}(this)},Yi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function nw(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function DO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Gf(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function on(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}on.prototype.h=function(){this.defaultPrevented=!0};var LY=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{J.addEventListener("test",Hf,e),J.removeEventListener("test",Hf,e)}catch{}return n}();function zf(n){return/^[\s\xa0]*$/.test(n)}var CO=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function rw(n,e){return n<e?-1:n>e?1:0}function Wf(){var n=J.navigator;return n&&(n=n.userAgent)?n:""}function jr(n){return-1!=Wf().indexOf(n)}function iw(n){return iw[" "](n),n}iw[" "]=Hf;var Kf,n,UY=jr("Opera"),Va=jr("Trident")||jr("MSIE"),TO=jr("Edge"),sw=TO||Va,SO=jr("Gecko")&&!(-1!=Wf().toLowerCase().indexOf("webkit")&&!jr("Edge"))&&!(jr("Trident")||jr("MSIE"))&&!jr("Edge"),BY=-1!=Wf().toLowerCase().indexOf("webkit")&&!jr("Edge");function AO(){var n=J.document;return n?n.documentMode:void 0}e:{var ow="",aw=(n=Wf(),SO?/rv:([^\);]+)(\)|;)/.exec(n):TO?/Edge\/([\d\.]+)/.exec(n):Va?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):BY?/WebKit\/(\S+)/.exec(n):UY?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(aw&&(ow=aw?aw[1]:""),Va){var uw=AO();if(null!=uw&&uw>parseFloat(ow)){Kf=String(uw);break e}}Kf=ow}var $Y={};var HY=J.document&&Va&&(AO()||parseInt(Kf,10))||void 0;function el(n,e){if(on.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(SO){e:{try{iw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:GY[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&el.X.h.call(this)}}$t(el,on);var GY={2:"touch",3:"pen",4:"mouse"};el.prototype.h=function(){el.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var tl="closure_listenable_"+(1e6*Math.random()|0),qY=0;function zY(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++qY,this.ba=this.ea=!1}function Qf(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function lw(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function xO(n){const e={};for(const t in n)e[t]=n[t];return e}const kO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<kO.length;s++)t=kO[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Yf(n){this.src=n,this.g={},this.h=0}function dw(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=bO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Qf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function hw(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}Yf.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=hw(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new zY(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var fw="closure_lm_"+(1e6*Math.random()|0),pw={};function NO(n,e,t,r,i){if(r&&r.once)return PO(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)NO(n,e[s],t,r,i);return null}return t=_w(t),n&&n[tl]?n.N(e,t,Zc(r)?!!r.capture:!!r,i):OO(n,e,t,!1,r,i)}function OO(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Zc(i)?!!i.capture:!!i,a=mw(n);if(a||(n[fw]=a=new Yf(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function WY(){const e=KY;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)LY||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(LO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function PO(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)PO(n,e[s],t,r,i);return null}return t=_w(t),n&&n[tl]?n.O(e,t,Zc(r)?!!r.capture:!!r,i):OO(n,e,t,!0,r,i)}function FO(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)FO(n,e[s],t,r,i);else r=Zc(r)?!!r.capture:!!r,t=_w(t),n&&n[tl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=hw(s=n.g[e],t,r,i))&&(Qf(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=mw(n))&&(e=n.g[e.toString()],n=-1,e&&(n=hw(e,t,r,i)),(t=-1<n?e[n]:null)&&gw(t))}function gw(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[tl])dw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(LO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=mw(e))?(dw(t,n),0==t.h&&(t.src=null,e[fw]=null)):Qf(n)}}}function LO(n){return n in pw?pw[n]:pw[n]="on"+n}function KY(n,e){if(n.ba)n=!0;else{e=new el(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&gw(n),n=t.call(r,e)}return n}function mw(n){return(n=n[fw])instanceof Yf?n:null}var yw="__closure_events_fn_"+(1e9*Math.random()>>>0);function _w(n){return"function"==typeof n?n:(n[yw]||(n[yw]=function(e){return n.handleEvent(e)}),n[yw])}function kt(){Yi.call(this),this.i=new Yf(this),this.P=this,this.I=null}function jt(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new on(e,n);else if(e instanceof on)e.target=e.target||n;else{var i=e;RO(e=new on(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Xf(o,r,!0,e)&&i}if(i=Xf(o=e.g=n,r,!0,e)&&i,i=Xf(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Xf(o=e.g=t[s],r,!1,e)&&i}function Xf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,u=o.ha||o.src;o.ea&&dw(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}$t(kt,Yi),kt.prototype[tl]=!0,kt.prototype.removeEventListener=function(n,e,t,r){FO(this,n,e,t,r)},kt.prototype.M=function(){if(kt.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Qf(t[r]);delete n.g[e],n.h--}}this.I=null},kt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},kt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var vw=J.JSON.stringify;function QY(){var n=BO;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ww,VO=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new XY,n=>n.reset());class XY{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function JY(n){J.setTimeout(()=>{throw n},0)}function UO(n,e){ww||function ZY(){var n=J.Promise.resolve(void 0);ww=function(){n.then(eX)}}(),Iw||(ww(),Iw=!0),BO.add(n,e)}var Iw=!1,BO=new class YY{constructor(){this.h=this.g=null}add(e,t){const r=VO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function eX(){for(var n;n=QY();){try{n.h.call(n.g)}catch(t){JY(t)}var e=VO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Iw=!1}function Jf(n,e){kt.call(this),this.h=n||1,this.g=e||J,this.j=sn(this.lb,this),this.l=Date.now()}function Ew(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function bw(n,e,t){if("function"==typeof n)t&&(n=sn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=sn(n.handleEvent,n)}return 2147483647<Number(e)?-1:J.setTimeout(n,e||0)}function $O(n){n.g=bw(()=>{n.g=null,n.i&&(n.i=!1,$O(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}$t(Jf,kt),(H=Jf.prototype).ca=!1,H.R=null,H.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),jt(this,"tick"),this.ca&&(Ew(this),this.start()))}},H.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},H.M=function(){Jf.X.M.call(this),Ew(this),delete this.g};class tX extends Yi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$O(this)}M(){super.M(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nl(n){Yi.call(this),this.h=n,this.g={}}$t(nl,Yi);var jO=[];function HO(n,e,t,r){Array.isArray(t)||(t&&(jO[0]=t.toString()),t=jO);for(var i=0;i<t.length;i++){var s=NO(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function GO(n){lw(n.g,function(e,t){this.g.hasOwnProperty(t)&&gw(e)},n),n.g={}}function Zf(){this.g=!0}function Ua(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function sX(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return vw(t)}catch{return e}}(n,t)+(r?" "+r:"")})}nl.prototype.M=function(){nl.X.M.call(this),GO(this)},nl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zf.prototype.Aa=function(){this.g=!1},Zf.prototype.info=function(){};var Zs={},qO=null;function ep(){return qO=qO||new kt}function zO(n){on.call(this,Zs.Pa,n)}function rl(n){const e=ep();jt(e,new zO(e))}function WO(n,e){on.call(this,Zs.STAT_EVENT,n),this.stat=e}function vn(n){const e=ep();jt(e,new WO(e,n))}function KO(n,e){on.call(this,Zs.Qa,n),this.size=e}function il(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){n()},e)}Zs.Pa="serverreachability",$t(zO,on),Zs.STAT_EVENT="statevent",$t(WO,on),Zs.Qa="timingevent",$t(KO,on);var tp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},QO={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Dw(){}function XO(){}Dw.prototype.h=null;var Sw,sl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Cw(){on.call(this,"d")}function Tw(){on.call(this,"c")}function np(){}function ol(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new nl(this),this.O=oX,this.T=new Jf(n=sw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new JO}function JO(){this.i=null,this.g="",this.h=!1}$t(Cw,on),$t(Tw,on),$t(np,Dw),np.prototype.g=function(){return new XMLHttpRequest},np.prototype.i=function(){return{}},Sw=new np;var oX=45e3,Aw={},rp={};function Mw(n,e,t){n.K=1,n.v=ap(bi(e)),n.s=t,n.P=!0,ZO(n,null)}function ZO(n,e){n.F=Date.now(),al(n),n.A=bi(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),cP(t.i,"t",r),n.C=0,t=n.l.H,n.h=new JO,n.g=NP(n.l,t?e:null,!n.s),0<n.N&&(n.L=new tX(sn(n.La,n,n.g),n.N)),HO(n.S,n.g,"readystatechange",n.ib),e=n.H?xO(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),rl(),function nX(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function eP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function tP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=aX(n,t),i==rp){4==e&&(n.o=4,vn(14),r=!1),Ua(n.j,n.m,null,"[Incomplete Response]");break}if(i==Aw){n.o=4,vn(15),Ua(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ua(n.j,n.m,i,null),xw(n,i)}eP(n)&&i!=rp&&i!=Aw&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Vw(e),e.K=!0,vn(11))):(Ua(n.j,n.m,t,"[Invalid Chunked Response]"),eo(n),ul(n))}function aX(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?rp:(t=Number(e.substring(t,r)),isNaN(t)?Aw:(r+=1)+t>e.length?rp:(e=e.substr(r,t),n.C=r+t,e))}function al(n){n.V=Date.now()+n.O,nP(n,n.O)}function nP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=il(sn(n.gb,n),e)}function ip(n){n.B&&(J.clearTimeout(n.B),n.B=null)}function ul(n){0==n.l.G||n.I||MP(n.l,n)}function eo(n){ip(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ew(n.T),GO(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function xw(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||kw(t.h,n)))if(!n.J&&kw(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;fp(t),dp(t)}Lw(t),vn(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=il(sn(t.cb,t),6e3));if(1>=hP(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else no(t,11)}else if((n.J||t.g==n)&&fp(t),!zf(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.T=c[0],c=c[1],2==t.G)if("c"==c[0]){t.I=c[1],t.ka=c[2];const l=c[3];null!=l&&(t.ma=l,t.j.info("VER="+t.ma));const d=c[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.J=r=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Rw(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,qe(r.F,r.D,m))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=RP(r,r.H?r.ka:null,r.V),o.J){fP(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(ip(a),al(a)),r.g=o}else SP(r);0<t.i.length&&hp(t)}else"stop"!=c[0]&&"close"!=c[0]||no(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?no(t,7):Fw(t):"noop"!=c[0]&&t.l&&t.l.wa(c),t.A=0)}rl()}catch{}}function rP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Gf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function cX(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Gf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function uX(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Gf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(H=ol.prototype).setTimeout=function(n){this.O=n},H.ib=function(n){n=n.target;const e=this.L;e&&3==Di(n)?e.l():this.La(n)},H.La=function(n){try{if(n==this.g)e:{const l=Di(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||sw||this.g&&(this.h.h||this.g.fa()||IP(this.g)))){this.I||4!=l||7==e||rl(),ip(this);var t=this.g.aa();this.Y=t;t:if(eP(this)){var r=IP(this.g);n="";var i=r.length,s=4==Di(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){eo(this),ul(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function rX(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zf(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,vn(12),eo(this),ul(this);break e}Ua(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xw(this,t)}this.P?(tP(this,l,o),sw&&this.i&&3==l&&(HO(this.S,this.T,"tick",this.hb),this.T.start())):(Ua(this.j,this.m,o,null),xw(this,o)),4==l&&eo(this),this.i&&!this.I&&(4==l?MP(this.l,this):(this.i=!1,al(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,vn(12)):(this.o=0,vn(13)),eo(this),ul(this)}}}catch{}},H.hb=function(){if(this.g){var n=Di(this.g),e=this.g.fa();this.C<e.length&&(ip(this),tP(this,n,e),this.i&&4!=n&&al(this))}},H.cancel=function(){this.I=!0,eo(this)},H.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function iX(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(rl(),vn(17)),eo(this),this.o=2,ul(this)):nP(this,this.V-n)};var iP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function to(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof to){this.h=void 0!==e?e:n.h,sp(this,n.j),this.s=n.s,this.g=n.g,op(this,n.m),this.l=n.l,e=n.i;var t=new dl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),sP(this,t),this.o=n.o}else n&&(t=String(n).match(iP))?(this.h=!!e,sp(this,t[1]||"",!0),this.s=cl(t[2]||""),this.g=cl(t[3]||"",!0),op(this,t[4]),this.l=cl(t[5]||"",!0),sP(this,t[6]||"",!0),this.o=cl(t[7]||"")):(this.h=!!e,this.i=new dl(null,this.h))}function bi(n){return new to(n)}function sp(n,e,t){n.j=t?cl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function op(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function sP(n,e,t){e instanceof dl?(n.i=e,function mX(n,e){e&&!n.j&&(Xi(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(aP(this,r),cP(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ll(e,pX)),n.i=new dl(e,n.h))}function qe(n,e,t){n.i.set(e,t)}function ap(n){return qe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function cl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ll(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,dX),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function dX(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}to.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ll(e,oP,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ll(e,oP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ll(t,"/"==t.charAt(0)?fX:hX,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ll(t,gX)),n.join("")};var oP=/[#\/\?@]/g,hX=/[#\?:]/g,fX=/[#\?]/g,pX=/[#\?@]/g,gX=/#/g;function dl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Xi(n){n.g||(n.g=new Map,n.h=0,n.i&&function lX(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function aP(n,e){Xi(n),e=Ba(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function uP(n,e){return Xi(n),e=Ba(n,e),n.g.has(e)}function cP(n,e,t){aP(n,e),0<t.length&&(n.i=null,n.g.set(Ba(n,e),nw(t)),n.h+=t.length)}function Ba(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function lP(n){this.l=n||_X,n=J.PerformanceNavigationTiming?0<(n=J.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(J.g&&J.g.Ga&&J.g.Ga()&&J.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(H=dl.prototype).add=function(n,e){Xi(this),this.i=null,n=Ba(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},H.forEach=function(n,e){Xi(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},H.oa=function(){Xi(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},H.W=function(n){Xi(this);let e=[];if("string"==typeof n)uP(this,n)&&(e=e.concat(this.g.get(Ba(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},H.set=function(n,e){return Xi(this),this.i=null,uP(this,n=Ba(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},H.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var _X=10;function dP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function hP(n){return n.h?1:n.g?n.g.size:0}function kw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Rw(n,e){n.g?n.g.add(e):n.h=e}function fP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function pP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return nw(n.i)}function Nw(){}function vX(){this.g=new Nw}function wX(n,e,t){const r=t||"";try{rP(n,function(i,s){let o=i;Zc(i)&&(o=vw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function up(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hl(n){this.l=n.ac||null,this.j=n.jb||!1}function cp(n,e){kt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ow,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lP.prototype.cancel=function(){if(this.i=pP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Nw.prototype.stringify=function(n){return J.JSON.stringify(n,void 0)},Nw.prototype.parse=function(n){return J.JSON.parse(n,void 0)},$t(hl,Dw),hl.prototype.g=function(){return new cp(this.l,this.j)},hl.prototype.i=function(n){return function(){return n}}({}),$t(cp,kt);var Ow=0;function gP(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function fl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,pl(n)}function pl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(H=cp.prototype).open=function(n,e){if(this.readyState!=Ow)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,pl(this)},H.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||J).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fl(this)),this.readyState=Ow},H.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,pl(this)),this.g&&(this.readyState=3,pl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gP(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},H.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?fl(this):pl(this),3==this.readyState&&gP(this)}},H.Va=function(n){this.g&&(this.response=this.responseText=n,fl(this))},H.Ua=function(n){this.g&&(this.response=n,fl(this))},H.ga=function(){this.g&&fl(this)},H.setRequestHeader=function(n,e){this.v.append(n,e)},H.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},H.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(cp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var EX=J.JSON.parse;function et(n){kt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mP,this.K=this.L=!1}$t(et,kt);var mP="",bX=/^https?$/i,DX=["POST","PUT"];function yP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,_P(n),lp(n)}function _P(n){n.D||(n.D=!0,jt(n,"complete"),jt(n,"error"))}function vP(n){if(n.h&&typeof ew<"u"&&(!n.C[1]||4!=Di(n)||2!=n.aa()))if(n.v&&4==Di(n))bw(n.Ha,0,n);else if(jt(n,"readystatechange"),4==Di(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(iP)[1]||null;if(!i&&J.self&&J.self.location){var s=J.self.location.protocol;i=s.substr(0,s.length-1)}r=!bX.test(i?i.toLowerCase():"")}t=r}if(t)jt(n,"complete"),jt(n,"success");else{n.m=6;try{var o=2<Di(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",_P(n)}}finally{lp(n)}}}function lp(n,e){if(n.g){wP(n);const t=n.g,r=n.C[0]?Hf:null;n.g=null,n.C=null,e||jt(n,"ready");try{t.onreadystatechange=r}catch{}}}function wP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(J.clearTimeout(n.A),n.A=null)}function Di(n){return n.g?n.g.readyState:0}function IP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case mP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function EP(n){let e="";return lw(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Pw(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=EP(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):qe(n,e,t))}function gl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function bP(n){this.Ca=0,this.i=[],this.j=new Zf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=gl("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=gl("baseRetryDelayMs",5e3,n),this.bb=gl("retryDelaySeedMs",1e4,n),this.$a=gl("forwardChannelMaxRetries",2,n),this.ta=gl("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new lP(n&&n.concurrentRequestLimit),this.Fa=new vX,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Fw(n){if(DP(n),3==n.G){var e=n.U++,t=bi(n.F);qe(t,"SID",n.I),qe(t,"RID",e),qe(t,"TYPE","terminate"),ml(n,t),(e=new ol(n,n.j,e,void 0)).K=2,e.v=ap(bi(t)),t=!1,J.navigator&&J.navigator.sendBeacon&&(t=J.navigator.sendBeacon(e.v.toString(),"")),!t&&J.Image&&((new Image).src=e.v,t=!0),t||(e.g=NP(e.l,null),e.g.da(e.v)),e.F=Date.now(),al(e)}kP(n)}function dp(n){n.g&&(Vw(n),n.g.cancel(),n.g=null)}function DP(n){dp(n),n.u&&(J.clearTimeout(n.u),n.u=null),fp(n),n.h.cancel(),n.m&&("number"==typeof n.m&&J.clearTimeout(n.m),n.m=null)}function hp(n){dP(n.h)||n.m||(n.m=!0,UO(n.Ja,n),n.C=0)}function CP(n,e){var t;t=e?e.m:n.U++;const r=bi(n.F);qe(r,"SID",n.I),qe(r,"RID",t),qe(r,"AID",n.T),ml(n,r),n.o&&n.s&&Pw(r,n.o,n.s),t=new ol(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=TP(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Rw(n.h,t),Mw(t,r,e)}function ml(n,e){n.ia&&lw(n.ia,function(t,r){qe(e,r,t)}),n.l&&rP({},function(t,r){qe(e,r,t)})}function TP(n,e,t){t=Math.min(n.i.length,t);var r=n.l?sn(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{wX(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function SP(n){n.g||n.u||(n.Z=1,UO(n.Ia,n),n.A=0)}function Lw(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=il(sn(n.Ia,n),xP(n,n.A)),n.A++,0))}function Vw(n){null!=n.B&&(J.clearTimeout(n.B),n.B=null)}function AP(n){n.g=new ol(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=bi(n.sa);qe(e,"RID","rpc"),qe(e,"SID",n.I),qe(e,"CI",n.L?"0":"1"),qe(e,"AID",n.T),qe(e,"TYPE","xmlhttp"),ml(n,e),n.o&&n.s&&Pw(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=ap(bi(e)),t.s=null,t.P=!0,ZO(t,n)}function fp(n){null!=n.v&&(J.clearTimeout(n.v),n.v=null)}function MP(n,e){var t=null;if(n.g==e){fp(n),Vw(n),n.g=null;var r=2}else{if(!kw(n.h,e))return;t=e.D,fP(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;jt(r=ep(),new KO(r,t)),hp(n)}else SP(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function TX(n,e){return!(hP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=il(sn(n.Ja,n,e),xP(n,n.C)),n.C++,0)))}(n,e)||2==r&&Lw(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:no(n,5);break;case 4:no(n,10);break;case 3:no(n,6);break;default:no(n,2)}}function xP(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function no(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=sn(n.kb,n);t||(t=new to("//www.google.com/images/cleardot.gif"),J.location&&"http"==J.location.protocol||sp(t,"https"),ap(t)),function IX(n,e){const t=new Zf;if(J.Image){const r=new Image;r.onload=qf(up,t,r,"TestLoadImage: loaded",!0,e),r.onerror=qf(up,t,r,"TestLoadImage: error",!1,e),r.onabort=qf(up,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=qf(up,t,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else vn(2);n.G=0,n.l&&n.l.va(e),kP(n),DP(n)}function kP(n){if(n.G=0,n.la=[],n.l){const e=pP(n.h);(0!=e.length||0!=n.i.length)&&(DO(n.la,e),DO(n.la,n.i),n.h.i.length=0,nw(n.i),n.i.length=0),n.l.ua()}}function RP(n,e,t){var r=t instanceof to?bi(t):new to(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),op(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new to(null,void 0);r&&sp(s,r),e&&(s.g=e),i&&op(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&qe(r,t,e),qe(r,"VER",n.ma),ml(n,r),r}function NP(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new et(t&&n.Da&&!n.ra?new hl({jb:!0}):n.ra)).Ka(n.H),e}function OP(){}function pp(){if(Va&&!(10<=Number(HY)))throw Error("Environmental error: no available transport.")}function qn(n,e){kt.call(this),this.g=new bP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!zf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new $a(this)}function PP(n){Cw.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function FP(){Tw.call(this),this.status=1}function $a(n){this.g=n}(H=et.prototype).Ka=function(n){this.L=n},H.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sw.g(),this.C=function YO(n){return n.h||(n.h=n.i())}(this.u?this.u:Sw),this.g.onreadystatechange=sn(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void yP(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=J.FormData&&n instanceof J.FormData,!(0<=bO(DX,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wP(this),0<this.B&&((this.K=function CX(n){return Va&&function jY(){return function VY(n){var e=$Y;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=CO(String(Kf)).split("."),t=CO("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=rw(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||rw(0==i[2].length,0==s[2].length)||rw(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sn(this.qa,this)):this.A=bw(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){yP(this,s)}},H.qa=function(){typeof ew<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))},H.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,jt(this,"complete"),jt(this,"abort"),lp(this))},H.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lp(this,!0)),et.X.M.call(this)},H.Ha=function(){this.s||(this.F||this.v||this.l?vP(this):this.fb())},H.fb=function(){vP(this)},H.aa=function(){try{return 2<Di(this)?this.g.status:-1}catch{return-1}},H.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},H.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),EX(e)}},H.Ea=function(){return this.m},H.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(H=bP.prototype).ma=8,H.G=1,H.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new ol(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=xO(s),RO(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=TP(this,i,e),qe(t=bi(this.F),"RID",n),qe(t,"CVER",22),this.D&&qe(t,"X-HTTP-Session-Id",this.D),ml(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(EP(s)))+"&"+e:this.o&&Pw(t,this.o,s)),Rw(this.h,i),this.Ya&&qe(t,"TYPE","init"),this.O?(qe(t,"$req",e),qe(t,"SID","null"),i.Z=!0,Mw(i,t,null)):Mw(i,t,e),this.G=2}}else 3==this.G&&(n?CP(this,n):0==this.i.length||dP(this.h)||CP(this))},H.Ia=function(){if(this.u=null,AP(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=il(sn(this.eb,this),n)}},H.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,vn(10),dp(this),AP(this))},H.cb=function(){null!=this.v&&(this.v=null,dp(this),Lw(this),vn(19))},H.kb=function(n){n?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))},(H=OP.prototype).xa=function(){},H.wa=function(){},H.va=function(){},H.ua=function(){},H.Ra=function(){},pp.prototype.g=function(n,e){return new qn(n,e)},$t(qn,kt),qn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;vn(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=RP(n,null,n.V),hp(n)},qn.prototype.close=function(){Fw(this.g)},qn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=vw(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&hp(e)},qn.prototype.M=function(){this.g.l=null,delete this.j,Fw(this.g),delete this.g,qn.X.M.call(this)},$t(PP,Cw),$t(FP,Tw),$t($a,OP),$a.prototype.xa=function(){jt(this.g,"a")},$a.prototype.wa=function(n){jt(this.g,new PP(n))},$a.prototype.va=function(n){jt(this.g,new FP)},$a.prototype.ua=function(){jt(this.g,"b")},pp.prototype.createWebChannel=pp.prototype.g,qn.prototype.send=qn.prototype.u,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,tp.NO_ERROR=0,tp.TIMEOUT=8,tp.HTTP_ERROR=6,QO.COMPLETE="complete",XO.EventType=sl,sl.OPEN="a",sl.CLOSE="b",sl.ERROR="c",sl.MESSAGE="d",kt.prototype.listen=kt.prototype.N,et.prototype.listenOnce=et.prototype.O,et.prototype.getLastError=et.prototype.Oa,et.prototype.getLastErrorCode=et.prototype.Ea,et.prototype.getStatus=et.prototype.aa,et.prototype.getResponseJson=et.prototype.Sa,et.prototype.getResponseText=et.prototype.fa,et.prototype.send=et.prototype.da,et.prototype.setWithCredentials=et.prototype.Ka;var SX=Ei.createWebChannelTransport=function(){return new pp},AX=Ei.getStatEventTarget=function(){return ep()},Uw=Ei.ErrorCode=tp,MX=Ei.EventType=QO,xX=Ei.Event=Zs,LP=Ei.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},kX=Ei.FetchXmlHttpFactory=hl,gp=Ei.WebChannel=XO,RX=Ei.XhrIo=et;const VP="@firebase/firestore";class Rt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");let ja="9.15.0";const Ji=new Fa("@firebase/firestore");function Bw(){return Ji.logLevel}function T(n,...e){if(Ji.logLevel<=_e.DEBUG){const t=e.map($w);Ji.debug(`Firestore (${ja}): ${n}`,...t)}}function st(n,...e){if(Ji.logLevel<=_e.ERROR){const t=e.map($w);Ji.error(`Firestore (${ja}): ${n}`,...t)}}function Ha(n,...e){if(Ji.logLevel<=_e.WARN){const t=e.map($w);Ji.warn(`Firestore (${ja}): ${n}`,...t)}}function $w(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function V(n="Unexpected state"){const e=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: `+n;throw st(e),new Error(e)}function $(n,e){n||V()}function x(n,e){return n}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends ur{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ct{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class UP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rt.UNAUTHENTICATED))}shutdown(){}}class OX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class PX{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ct,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ct)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($("string"==typeof r.accessToken),new UP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $(null===e||"string"==typeof e),new Rt(e)}}class FX{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():($(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class LX{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new FX(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VX{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($("string"==typeof t.token),this.A=t.token,new BP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function UX(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class $P{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=UX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Z(n,e){return n<e?-1:n>e?1:0}function Ga(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Ye{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ye(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new Ye(0,0))}static max(){return new q(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yl{constructor(e,t,r){void 0===t?t=0:t>e.length&&V(),void 0===r?r=e.length-t:r>e.length-t&&V(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===yl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ve extends yl{construct(e,t,r){return new ve(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ve(t)}static emptyPath(){return new ve([])}}const BX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends yl{construct(e,t,r){return new ot(e,t,r)}static isValidIdentifier(e){return BX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(t)}static emptyPath(){return new ot([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(ve.fromString(e))}static fromName(e){return new M(ve.fromString(e).popFirst(5))}static empty(){return new M(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ve.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new ve(e.slice()))}}function GP(n){return new zn(n.readTime,n.key,-1)}class zn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new zn(q.min(),M.empty(),-1)}static max(){return new zn(q.max(),M.empty(),-1)}}function Hw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=M.comparator(n.documentKey,e.documentKey),0!==t?t:Z(n.largestBatchId,e.largestBatchId))}const qP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Zi(n){return Gw.apply(this,arguments)}function Gw(){return Gw=g(function*(n){if(n.code!==I.FAILED_PRECONDITION||n.message!==qP)throw n;T("LocalStore","Unexpectedly lost primary lease")}),Gw.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _?t:_.resolve(t)}catch(t){return _.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_.reject(t)}static resolve(e){return new _((t,r)=>{t(e)})}static reject(e){return new _((t,r)=>{r(e)})}static waitFor(e){return new _((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=_.resolve(!1);for(const r of e)t=t.next(i=>i?_.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new _((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new _((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function es(n){return"IndexedDbTransactionError"===n.name}let Wn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class KX{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class so{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new so("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof so&&e.projectId===this.projectId&&e.database===this.database}}function WP(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function oo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wl(n){return null==n}function Il(n){return 0===n&&1/n==-1/0}class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Tt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Tt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const QX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(n){if($(!!n),"string"==typeof n){let e=0;const t=QX.exec(n);if($(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(n.seconds),nanos:tt(n.nanos)}}function tt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ao(n){return"string"==typeof n?Tt.fromBase64String(n):Tt.fromUint8Array(n)}function zw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function YP(n){const e=n.mapValue.fields.__previous_value__;return zw(e)?YP(e):e}function El(n){const e=ts(n.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}const ns_mapValue={fields:{__type__:{stringValue:"__max__"}}};function uo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zw(n)?4:eF(n)?9007199254740991:10:V()}function Hr(n,e){if(n===e)return!0;const t=uo(n);if(t!==uo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return El(n).isEqual(El(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ts(r.timestampValue),o=ts(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ao(n.bytesValue).isEqual(ao(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return tt(r.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return tt(r.integerValue)===tt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=tt(r.doubleValue),o=tt(i.doubleValue);return s===o?Il(s)===Il(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Ga(n.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(WP(s)!==WP(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Hr(s[a],o[a])))return!1;return!0}(n,e);default:return V()}var i}function bl(n,e){return void 0!==(n.values||[]).find(t=>Hr(t,e))}function rs(n,e){if(n===e)return 0;const t=uo(n),r=uo(e);if(t!==r)return Z(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Z(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=tt(i.integerValue||i.doubleValue),a=tt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return XP(n.timestampValue,e.timestampValue);case 4:return XP(El(n),El(e));case 5:return Z(n.stringValue,e.stringValue);case 6:return function(i,s){const o=ao(i),a=ao(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Z(o[u],a[u]);if(0!==c)return c}return Z(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Z(tt(i.latitude),tt(s.latitude));return 0!==o?o:Z(tt(i.longitude),tt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=rs(o[u],a[u]);if(c)return c}return Z(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ns_mapValue&&s===ns_mapValue)return 0;if(i===ns_mapValue)return 1;if(s===ns_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Z(a[l],c[l]);if(0!==d)return d;const h=rs(o[a[l]],u[c[l]]);if(0!==h)return h}return Z(a.length,c.length)}(n.mapValue,e.mapValue);default:throw V()}}function XP(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Z(n,e);const t=ts(n),r=ts(e),i=Z(t.seconds,r.seconds);return 0!==i?i:Z(t.nanos,r.nanos)}function qa(n){return Ww(n)}function Ww(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ts(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ao(n.bytesValue).toBase64():"referenceValue"in n?M.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Ww(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Ww(r.fields[a])}`;return s+"}"}(n.mapValue):V();var e}function Kw(n){return!!n&&"integerValue"in n}function Dl(n){return!!n&&"arrayValue"in n}function JP(n){return!!n&&"nullValue"in n}function ZP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wp(n){return!!n&&"mapValue"in n}function Cl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return oo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Cl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class is{constructor(e,t){this.position=e,this.inclusive=t}}function rF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?M.comparator(M.fromName(o.referenceValue),t.key):rs(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function iF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hr(n.position[t],e.position[t]))return!1;return!0}class sF{}class pe extends sF{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new JX(e,t,r):"array-contains"===t?new tJ(e,r):"in"===t?new fF(e,r):"not-in"===t?new nJ(e,r):"array-contains-any"===t?new rJ(e,r):new pe(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ZX(e,r):new eJ(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(rs(t,this.value)):null!==t&&uo(this.value)===uo(t)&&this.matchesComparison(rs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return V()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Te extends sF{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Te(e,t)}matches(e){return za(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function za(n){return"and"===n.op}function oF(n){return function aF(n){for(const e of n.filters)if(e instanceof Te)return!1;return!0}(n)&&za(n)}function uF(n){if(n instanceof pe)return n.field.canonicalString()+n.op.toString()+qa(n.value);{const e=n.filters.map(t=>uF(t)).join(",");return`${n.op}(${e})`}}function cF(n,e){return n instanceof pe?(t=n,(r=e)instanceof pe&&t.op===r.op&&t.field.isEqual(r.field)&&Hr(t.value,r.value)):n instanceof Te?function(t,r){return r instanceof Te&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&cF(s,r.filters[o]),!0)}(n,e):void V();var t,r}function dF(n){return n instanceof pe?`${(e=n).field.canonicalString()} ${e.op} ${qa(e.value)}`:n instanceof Te?function(e){return e.op.toString()+" {"+e.getFilters().map(dF).join(" ,")+"}"}(n):"Filter";var e}class JX extends pe{constructor(e,t,r){super(e,t,r),this.key=M.fromName(r.referenceValue)}matches(e){const t=M.comparator(e.key,this.key);return this.matchesComparison(t)}}class ZX extends pe{constructor(e,t){super(e,"in",t),this.keys=hF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class eJ extends pe{constructor(e,t){super(e,"not-in",t),this.keys=hF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>M.fromName(r.referenceValue))}class tJ extends pe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dl(t)&&bl(t.arrayValue,this.value)}}class fF extends pe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bl(this.value.arrayValue,t)}}class nJ extends pe{constructor(e,t){super(e,"not-in",t)}matches(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bl(this.value.arrayValue,t)}}class rJ extends pe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bl(this.value.arrayValue,r))}}class Wa{constructor(e,t="asc"){this.field=e,this.dir=t}}function iJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class nt{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ip(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ip(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ip(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ip(this.root,e,this.comparator,!0)}}class Ip{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=s??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ht(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1,Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ht(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pF(this.data.getIterator())}getIteratorFrom(e){return new pF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Me(this.comparator);return t.data=e,t}}class pF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new Me(ot.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(t)}setAll(e){let t=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Cl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());wp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];wp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){oo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gt(Cl(this.value))}}function gF(n){const e=[];return oo(n.fields,(t,r)=>{const i=new ot([t]);if(wp(r)){const s=gF(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Kn(e)}class Be{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Be(e,0,q.min(),q.min(),q.min(),Gt.empty(),0)}static newFoundDocument(e,t,r,i){return new Be(e,1,t,q.min(),r,i,0)}static newNoDocument(e,t){return new Be(e,2,t,q.min(),q.min(),Gt.empty(),0)}static newUnknownDocument(e,t){return new Be(e,3,t,q.min(),q.min(),Gt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Be&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Be(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sJ{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function Yw(n,e=null,t=[],r=[],i=null,s=null,o=null){return new sJ(n,e,t,r,i,s,o)}function lo(n){const e=x(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>uF(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),wl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qa(r)).join(",")),e.ft=t}return e.ft}function Tl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iJ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iF(n.startAt,e.startAt)&&iF(n.endAt,e.endAt)}function Ep(n){return M.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ci{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.dt=null,this._t=null}}function Qa(n){return new Ci(n)}function vF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ho(n){const e=x(n);if(null===e.dt){e.dt=[];const t=function Dp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function Xw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Wa(t)),e.dt.push(new Wa(ot.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Wa(ot.keyField(),s))}}}return e.dt}function wn(n){const e=x(n);if(!e._t)if("F"===e.limitType)e._t=Yw(e.path,e.collectionGroup,ho(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of ho(e))t.push(new Wa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new is(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new is(e.startAt.position,e.startAt.inclusive):null;e._t=Yw(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Cp(n,e,t){return new Ci(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sl(n,e){return Tl(wn(n),wn(e))&&n.limitType===e.limitType}function wF(n){return`${lo(wn(n))}|lt:${n.limitType}`}function eI(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>dF(r)).join(", ")}]`),wl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qa(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qa(r)).join(",")),`Target(${t})`}(wn(n))}; limitType=${n.limitType})`}function tI(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):M.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of ho(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=rF(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,ho(t),r)||t.endAt&&!function(i,s,o){const a=rF(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,ho(t),r)));var t,r}function EF(n){return(e,t)=>{let r=!1;for(const i of ho(n)){const s=oJ(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function oJ(n,e,t){const r=n.field.isKeyField()?M.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?rs(a,u):V()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}function bF(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Il(e)?"-0":e}}function DF(n){return{integerValue:""+n}}function CF(n,e){return function QP(n){return"number"==typeof n&&Number.isInteger(n)&&!Il(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?DF(e):bF(n,e)}class Tp{constructor(){this._=void 0}}function aJ(n,e,t){return n instanceof Ya?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof fo?SF(n,e):n instanceof po?AF(n,e):function(r,i){const s=TF(r,i),o=MF(s)+MF(r.gt);return Kw(s)&&Kw(r.gt)?DF(o):bF(r.yt,o)}(n,e)}function uJ(n,e,t){return n instanceof fo?SF(n,e):n instanceof po?AF(n,e):t}function TF(n,e){return n instanceof Xa?Kw(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ya extends Tp{}class fo extends Tp{constructor(e){super(),this.elements=e}}function SF(n,e){const t=xF(e);for(const r of n.elements)t.some(i=>Hr(i,r))||t.push(r);return{arrayValue:{values:t}}}class po extends Tp{constructor(e){super(),this.elements=e}}function AF(n,e){let t=xF(e);for(const r of n.elements)t=t.filter(i=>!Hr(i,r));return{arrayValue:{values:t}}}class Xa extends Tp{constructor(e,t){super(),this.yt=e,this.gt=t}}function MF(n){return tt(n.integerValue||n.doubleValue)}function xF(n){return Dl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class lJ{constructor(e,t){this.version=e,this.transformResults=t}}class ze{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ze}static exists(e){return new ze(void 0,e)}static updateTime(e){return new ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ap{}function kF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Za(n.key,ze.none()):new Ja(n.key,n.data,ze.none());{const t=n.data,r=Gt.empty();let i=new Me(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ti(n.key,r,new Kn(i.toArray()),ze.none())}}function dJ(n,e,t){n instanceof Ja?function(r,i,s){const o=r.value.clone(),a=OF(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ti?function(r,i,s){if(!Sp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=OF(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(NF(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ml(n,e,t,r){return n instanceof Ja?function(i,s,o,a){if(!Sp(i.precondition,s))return o;const u=i.value.clone(),c=PF(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ti?function(i,s,o,a){if(!Sp(i.precondition,s))return o;const u=PF(i.fieldTransforms,a,s),c=s.data;return c.setAll(NF(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(n,e,t,r):(o=t,Sp(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function hJ(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=TF(r.transform,i||null);null!=s&&(null===t&&(t=Gt.empty()),t.set(r.field,s))}return t||null}function RF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ga(t,r,(i,s)=>function cJ(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof fo&&r instanceof fo||t instanceof po&&r instanceof po?Ga(t.elements,r.elements,Hr):t instanceof Xa&&r instanceof Xa?Hr(t.gt,r.gt):t instanceof Ya&&r instanceof Ya);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ja extends Ap{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ti extends Ap{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function OF(n,e,t){const r=new Map;$(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,uJ(o,a,t[i]))}return r}function PF(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,aJ(s,o,e))}return r}class Za extends Ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nI extends Ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fJ{constructor(e){this.count=e}}var mt,we;function FF(n){switch(n){default:return V();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function LF(n){if(void 0===n)return st("GRPC error has no .code"),I.UNKNOWN;switch(n){case mt.OK:return I.OK;case mt.CANCELLED:return I.CANCELLED;case mt.UNKNOWN:return I.UNKNOWN;case mt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case mt.INTERNAL:return I.INTERNAL;case mt.UNAVAILABLE:return I.UNAVAILABLE;case mt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case mt.NOT_FOUND:return I.NOT_FOUND;case mt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case mt.ABORTED:return I.ABORTED;case mt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case mt.DATA_LOSS:return I.DATA_LOSS;default:return V()}}(we=mt||(mt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";class ss{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return KP(this.inner)}size(){return this.innerSize}}const pJ=new nt(M.comparator);function xn(){return pJ}const VF=new nt(M.comparator);function xl(...n){let e=VF;for(const t of n)e=e.insert(t.key,t);return e}function UF(n){let e=VF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Gr(){return kl()}function BF(){return kl()}function kl(){return new ss(n=>n.toString(),(n,e)=>n.isEqual(e))}const gJ=new nt(M.comparator),mJ=new Me(M.comparator);function ie(...n){let e=mJ;for(const t of n)e=e.add(t);return e}const yJ=new Me(Z);function Mp(){return yJ}class Rl{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Nl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Rl(q.min(),i,Mp(),xn(),ie())}}class Nl{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Nl(r,t,ie(),ie(),ie())}}class xp{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class $F{constructor(e,t){this.targetId=e,this.Et=t}}class jF{constructor(e,t,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class HF{constructor(){this.At=0,this.Rt=qF(),this.bt=Tt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ie(),t=ie(),r=ie();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:V()}}),new Nl(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=qF()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class _J{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=xn(),this.qt=GF(),this.Ut=new Me(Z)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:V()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const s=i.target;if(Ep(s))if(0===r){const o=new M(s.path);this.Qt(t,o,Be.newNoDocument(o,q.min()))}else $(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Ep(a.target)){const u=new M(a.target.path);null!==this.Lt.get(u)||this.te(o,u)||this.Qt(o,u,Be.newNoDocument(u,e))}s.St&&(t.set(o,s.Ct()),s.xt())}});let r=ie();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Yt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Rl(e,t,this.Ut,this.Lt,r);return this.Lt=xn(),this.qt=GF(),this.Ut=new Me(Z),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new HF,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Me(Z),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new HF),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function GF(){return new nt(M.comparator)}function qF(){return new nt(M.comparator)}const vJ={asc:"ASCENDING",desc:"DESCENDING"},wJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IJ={and:"AND",or:"OR"};class EJ{constructor(e,t){this.databaseId=e,this.wt=t}}function eu(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zF(n,e){return n.wt?e.toBase64():e.toUint8Array()}function bJ(n,e){return eu(n,e.toTimestamp())}function at(n){return $(!!n),q.fromTimestamp(function(e){const t=ts(e);return new Ye(t.seconds,t.nanos)}(n))}function rI(n,e){return(t=n,new ve(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function WF(n){const e=ve.fromString(n);return $(nL(e)),e}function Ol(n,e){return rI(n.databaseId,e.path)}function qr(n,e){const t=WF(e);if(t.get(1)!==n.databaseId.projectId)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new M(QF(t))}function iI(n,e){return rI(n.databaseId,e)}function Pl(n){return new ve(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QF(n){return $(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function YF(n,e,t){return{name:Ol(n,e),fields:t.value.mapValue.fields}}function JF(n,e){return{documents:[iI(n,e.path)]}}function oI(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=iI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=iI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return tL(Te.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:tu((l=c).field),direction:AJ(l.dir)};var l})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.wt||wl(c)?c:{value:c});var c,a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function ZF(n){let e=function KF(n){const e=WF(n);return 4===e.length?ve.emptyPath():QF(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){$(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=function(l){const d=eL(l);return d instanceof Te&&oF(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(l=>{return new Wa(nu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,wl(d)?null:d}(t.limit));let u=null;var l;t.startAt&&(u=new is((l=t.startAt).values||[],!!l.before));let c=null;return t.endAt&&(c=function(l){return new is(l.values||[],!l.before)}(t.endAt)),function _F(n,e,t,r,i,s,o,a){return new Ci(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function eL(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nu(e.unaryFilter.field);return pe.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=nu(e.unaryFilter.field);return pe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=nu(e.unaryFilter.field);return pe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=nu(e.unaryFilter.field);return pe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return V()}}(n):void 0!==n.fieldFilter?pe.create(nu((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Te.create(e.compositeFilter.filters.map(t=>eL(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return V()}}(e.compositeFilter.op))}(n):V();var e}function AJ(n){return vJ[n]}function MJ(n){return wJ[n]}function xJ(n){return IJ[n]}function tu(n){return{fieldPath:n.canonicalString()}}function nu(n){return ot.fromServerFormat(n.fieldPath)}function tL(n){return n instanceof pe?function(e){if("=="===e.op){if(ZP(e.value))return{unaryFilter:{field:tu(e.field),op:"IS_NAN"}};if(JP(e.value))return{unaryFilter:{field:tu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ZP(e.value))return{unaryFilter:{field:tu(e.field),op:"IS_NOT_NAN"}};if(JP(e.value))return{unaryFilter:{field:tu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tu(e.field),op:MJ(e.op),value:e.value}}}(n):n instanceof Te?function(e){const t=e.getFilters().map(r=>tL(r));return 1===t.length?t[0]:{compositeFilter:{op:xJ(e.op),filters:t}}}(n):V()}function kJ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class uI{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dJ(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=BF();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=kF(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ie())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(t,r)=>RF(t,r))&&Ga(this.baseMutations,e.baseMutations,(t,r)=>RF(t,r))}}class cI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){$(e.mutations.length===r.length);let i=gJ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cI(e,t,r,i)}}class lI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class os{constructor(e,t,r,i,s=q.min(),o=q.min(),a=Tt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class cL{constructor(e){this.ie=e}}function dI(n){const e=ZF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Cp(e,e.limit,"L"):e}class _o{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(tt(e.integerValue));else if("doubleValue"in e){const r=tt(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),Il(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(ao(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?eF(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):V()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),M.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}_o.Ie=new _o;class iZ{constructor(){this.Je=new yI}addToCollectionParentIndex(e,t){return this.Je.add(t),_.resolve()}getCollectionParents(e,t){return _.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return _.resolve()}deleteFieldIndex(e,t){return _.resolve()}getDocumentsMatchingTarget(e,t){return _.resolve(null)}getIndexType(e,t){return _.resolve(0)}getFieldIndexes(e,t){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,t){return _.resolve(zn.min())}getMinOffsetFromCollectionGroup(e,t){return _.resolve(zn.min())}updateCollectionGroup(e,t,r){return _.resolve()}updateIndexEntries(e,t){return _.resolve()}}class yI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Me(ve.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Me(ve.comparator)).toArray()}}new Uint8Array(0);class kn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(41943040,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class wo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new wo(0)}static vn(){return new wo(-1)}}class dZ{constructor(){this.changes=new ss(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Be.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?_.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pZ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class NL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Ml(r.mutation,i,Kn.empty(),Ye.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ie()){const i=Gr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=xl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Gr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ie()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=xn();const o=kl(),a=kl();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ti)?s=s.insert(c.key,c):void 0!==l&&(o.set(c.key,l.mutation.getFieldMask()),Ml(l.mutation,c,l.mutation.getFieldMask(),Ye.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new pZ(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=kl();let i=new nt((o,a)=>o-a),s=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||Kn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ie()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=BF();l.forEach(h=>{if(!s.has(h)){const f=kF(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return M.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Jw(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):_.resolve(Gr());let a=-1,u=s;return o.next(c=>_.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ie())).next(l=>({batchId:a,changes:UF(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new M(t)).next(r=>{let i=xl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=xl();return this.indexManager.getCollectionParents(e,i).next(o=>_.forEach(o,a=>{const u=(c=t,l=a.child(i),new Ci(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const c=u.getKey();null===i.get(c)&&(i=i.insert(c,Be.newInvalidDocument(c)))});let o=xl();return i.forEach((a,u)=>{const c=s.get(a);void 0!==c&&Ml(c.mutation,u,Kn.empty(),Ye.now()),tI(t,u)&&(o=o.insert(a,u))}),o})}}class gZ{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return _.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:at(r.createTime)}),_.resolve()}getNamedQuery(e,t){return _.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:dI(r.bundledQuery),readTime:at(r.readTime)}),_.resolve();var r}}class mZ{constructor(){this.overlays=new nt(M.comparator),this.es=new Map}getOverlay(e,t){return _.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Gr();return _.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.oe(e,t,s)}),_.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),_.resolve()}getOverlaysForCollection(e,t,r){const i=Gr(),s=t.length+1,o=new M(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return _.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new nt((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Gr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Gr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return _.resolve(a)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lI(t,r));let s=this.es.get(t);void 0===s&&(s=ie(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class _I{constructor(){this.ns=new Me(Ot.ss),this.rs=new Me(Ot.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ot(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ot(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new M(new ve([])),r=new Ot(t,e),i=new Ot(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new M(new ve([])),r=new Ot(t,e),i=new Ot(t,e+1);let s=ie();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ot(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ot{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return M.comparator(e.key,t.key)||Z(e._s,t._s)}static os(e,t){return Z(e._s,t._s)||M.comparator(e.key,t.key)}}class yZ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Me(Ot.ss)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new uI(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,t){return _.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ot(t,0),i=new Ot(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Me(Z);return t.forEach(i=>{const s=new Ot(i,0),o=new Ot(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),_.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new Ot(new M(s),0);let a=new Me(Z);return this.gs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u._s)),!0)},o),_.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){$(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return _.forEach(t.mutations,i=>{const s=new Ot(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ot(t,0),i=this.gs.firstAfterOrEqual(r);return _.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _Z{constructor(e){this.Es=e,this.docs=new nt(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return _.resolve(r?r.document.mutableCopy():Be.newInvalidDocument(t))}getEntries(e,t){let r=xn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Be.newInvalidDocument(i))}),_.resolve(r)}getAllFromCollection(e,t,r){let i=xn();const s=new M(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||Hw(GP(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return _.resolve(i)}getAllFromCollectionGroup(e,t,r,i){V()}As(e,t){return _.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vZ(this)}getSize(e){return _.resolve(this.size)}}class vZ extends dZ{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),_.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class wZ{constructor(e){this.persistence=e,this.Rs=new ss(t=>lo(t),Tl),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.bs=0,this.Ps=new _I,this.targetCount=0,this.vs=wo.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),_.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new wo(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,_.resolve()}updateTargetData(e,t){return this.Dn(t),_.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return _.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),_.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),_.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return _.resolve(r)}containsKey(e,t){return _.resolve(this.Ps.containsKey(t))}}class OL{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Wn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new wZ(this),this.indexManager=new iZ,this.remoteDocumentCache=new _Z(r=>this.referenceDelegate.xs(r)),this.yt=new cL(t),this.Ns=new gZ(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mZ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new yZ(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){T("MemoryPersistence","Starting transaction:",e);const i=new IZ(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return _.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class IZ extends HX{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.Fs=new _I,this.$s=null}static Bs(e){return new Bp(e)}get Ls(){if(this.$s)return this.$s;throw V()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),_.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),_.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ls,r=>{const i=M.fromPath(r);return this.qs(e,i).next(s=>{s||t.removeEntry(i,q.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return _.or([()=>_.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class EI{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=ie(),i=ie();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new EI(e,t.fromCache,r,i)}}class FL{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(vF(t))return _.resolve(null);let r=wn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Cp(t,null,"F"),r=wn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ie(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Fi(t,a);return this.$i(t,c,o,u.readTime)?this.ki(e,Cp(t,null,"F")):this.Bi(e,c,t,u)}))})))}Oi(e,t,r,i){return vF(t)||i.isEqual(q.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Mi(e,t):(Bw()<=_e.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),eI(t)),this.Bi(e,o,t,function HP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=q.fromTimestamp(1e9===r?new Ye(t+1,0):new Ye(t,r));return new zn(i,M.empty(),e)}(i,-1)))})}Fi(e,t){let r=new Me(EF(e));return t.forEach((i,s)=>{tI(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return Bw()<=_e.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",eI(t)),this.Ni.getDocumentsMatchingQuery(e,t,zn.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class bZ{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new nt(Z),this.Ui=new ss(s=>lo(s),Tl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function VL(n,e){return bI.apply(this,arguments)}function bI(){return bI=g(function*(n,e){const t=x(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ie();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),bI.apply(this,arguments)}function DZ(n,e){const t=x(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=_.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);$(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ie();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function UL(n){const e=x(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function CZ(n,e){const t=x(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;e.targetMismatches.has(d)?f=f.withResumeToken(Tt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,f))});let u=xn(),c=ie();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function BL(n,e,t){let r=ie(),i=ie();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=xn();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(q.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Wi,c=l.zi})),!r.isEqual(q.min())){const l=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.qi=i,s))}function TZ(n,e){const t=x(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function su(n,e){const t=x(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new os(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function ou(n,e,t){return DI.apply(this,arguments)}function DI(){return DI=g(function*(n,e,t){const r=x(n),i=r.qi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!es(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),DI.apply(this,arguments)}function jp(n,e,t){const r=x(n);let i=q.min(),s=ie();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.Ui.get(c);return void 0!==d?_.resolve(l.qi.get(d)):l.Cs.getTargetData(u,c)}(r,o,wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:q.min(),t?s:ie())).next(a=>(function HL(n,e,t){let r=n.Ki.get(e)||q.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function IF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:s})))}class MI{constructor(){this.activeTargetIds=Mp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zL{constructor(){this.Lr=new MI,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new MI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MZ{Ur(e){}shutdown(){}}class WL{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const xZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kZ{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class RZ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const o=this.ho(e,t);T("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(T("RestConnection","Received: ",u),u),u=>{throw Ha("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,t,r,i,s,o){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ja,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${xZ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const a=new RX;a.setWithCredentials(!0),a.listenOnce(MX.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Uw.NO_ERROR:const c=a.getResponseJson();T("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Uw.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),o(new C(I.DEADLINE_EXCEEDED,"Request time out"));break;case Uw.HTTP_ERROR:const l=a.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(h.status);o(new C(f,h.message))}else o(new C(I.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new C(I.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{T("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=SX(),o=AX(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new kX({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const u=i.join("");T("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new kZ({Hr:p=>{d?T("Connection","Not sending because WebChannel is closed:",p):(l||(T("Connection","Opening WebChannel transport."),c.open(),l=!0),T("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,m,y)=>{p.listen(m,w=>{try{y(w)}catch(b){setTimeout(()=>{throw b},0)}})};return f(c,gp.EventType.OPEN,()=>{d||T("Connection","WebChannel transport opened.")}),f(c,gp.EventType.CLOSE,()=>{d||(d=!0,T("Connection","WebChannel transport closed"),h.io())}),f(c,gp.EventType.ERROR,p=>{d||(d=!0,Ha("Connection","WebChannel transport errored:",p),h.io(new C(I.UNAVAILABLE,"The operation could not be completed")))}),f(c,gp.EventType.MESSAGE,p=>{var m;if(!d){const y=p.data[0];$(!!y);const w=y,b=w.error||(null===(m=w[0])||void 0===m?void 0:m.error);if(b){T("Connection","WebChannel received error:",b);const v=b.status;let N=function(z){const lt=mt[z];if(void 0!==lt)return LF(lt)}(v),G=b.message;void 0===N&&(N=I.INTERNAL,G="Unknown error status: "+v+" with message "+b.message),d=!0,h.io(new C(N,G)),c.close()}else T("Connection","WebChannel received:",y),h.ro(y)}}),f(o,xX.STAT_EVENT,p=>{p.stat===LP.PROXY?T("Connection","Detected buffering proxy"):p.stat===LP.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function qp(){return typeof document<"u"?document:null}function ql(n){return new EJ(n,!0)}class kI{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class QL{constructor(e,t,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new kI(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return g(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return g(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return g(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===I.RESOURCE_EXHAUSTED?(st(t.toString()),st("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new C(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(g(function*(){e.state=0,e.start()}))}Qo(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NZ extends QL{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.yt=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function CJ(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:V(),i=e.targetChange.targetIds||[],s=function(u,c){return u.wt?($(void 0===c||"string"==typeof c),Tt.fromBase64String(c||"")):($(void 0===c||c instanceof Uint8Array),Tt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:LF(u.code);return new C(c,u.message||"")}(o);t=new jF(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=qr(n,r.document.name),s=at(r.document.updateTime),o=r.document.createTime?at(r.document.createTime):q.min(),a=new Gt({mapValue:{fields:r.document.fields}}),u=Be.newFoundDocument(i,s,o,a);t=new xp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=qr(n,r.document),s=r.readTime?at(r.readTime):q.min(),o=Be.newNoDocument(i,s);t=new xp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=qr(n,r.document);t=new xp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return V();{const r=e.filter,s=new fJ(r.count||0);t=new $F(r.targetId,s)}}var u;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?at(s.readTime):q.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Pl(this.yt),t.addTarget=function(i,s){let o;const a=s.target;return o=Ep(a)?{documents:JF(i,a)}:{query:oI(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=zF(i,s.resumeToken):s.snapshotVersion.compareTo(q.min())>0&&(o.readTime=eu(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=function SJ(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return V()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Pl(this.yt),t.removeTarget=e,this.Bo(t)}}class OZ extends QL{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if($(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function TJ(n,e){return n&&n.length>0?($(void 0!==e),n.map(t=>function(r,i){let s=at(r.updateTime?r.updateTime:i);return s.isEqual(q.min())&&(s=at(i)),new lJ(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=at(e.commitTime);return this.listener.Zo(r,t)}return $(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Pl(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Fl(n,e){let t;if(e instanceof Ja)t={update:YF(n,e.key,e.value)};else if(e instanceof Za)t={delete:Ol(n,e.key)};else if(e instanceof Ti)t={update:YF(n,e.key,e.data),updateMask:kJ(e.fieldMask)};else{if(!(e instanceof nI))return V();t={verify:Ol(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ya)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof fo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof po)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Xa)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw V()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:bJ(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:V()),t;var i}(this.yt,r))};this.Bo(t)}}class PZ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(I.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(I.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class LZ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(st(t),this.ou=!1):T("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class VZ{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{r.enqueueAndForget(g(function*(){var u;Si(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=x(c);l._u.add(4),yield au(l),l.gu.set("Unknown"),l._u.delete(4),yield zl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.gu=new LZ(r,i)}}function zl(n){return NI.apply(this,arguments)}function NI(){return NI=g(function*(n){if(Si(n))for(const e of n.wu)yield e(!0)}),NI.apply(this,arguments)}function au(n){return OI.apply(this,arguments)}function OI(){return OI=g(function*(n){for(const e of n.wu)yield e(!1)}),OI.apply(this,arguments)}function zp(n,e){const t=x(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),LI(t)?FI(t):cu(t).ko()&&PI(t,e))}function Wl(n,e){const t=x(n),r=cu(t);t.du.delete(e),r.ko()&&YL(t,e),0===t.du.size&&(r.ko()?r.Fo():Si(t)&&t.gu.set("Unknown"))}function PI(n,e){n.yu.Ot(e.targetId),cu(n).zo(e)}function YL(n,e){n.yu.Ot(e),cu(n).Ho(e)}function FI(n){n.yu=new _J({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),cu(n).start(),n.gu.uu()}function LI(n){return Si(n)&&!cu(n).No()&&n.du.size>0}function Si(n){return 0===x(n)._u.size}function XL(n){n.yu=void 0}function UZ(n){return VI.apply(this,arguments)}function VI(){return VI=g(function*(n){n.du.forEach((e,t)=>{PI(n,e)})}),VI.apply(this,arguments)}function BZ(n,e){return UI.apply(this,arguments)}function UI(){return UI=g(function*(n,e){XL(n),LI(n)?(n.gu.hu(e),FI(n)):n.gu.set("Unknown")}),UI.apply(this,arguments)}function $Z(n,e,t){return BI.apply(this,arguments)}function BI(){return BI=g(function*(n,e,t){if(n.gu.set("Online"),e instanceof jF&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wp(n,r)}else if(e instanceof xp?n.yu.Kt(e):e instanceof $F?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(q.min()))try{const r=yield UL(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(u);c&&i.du.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(Tt.EMPTY_BYTE_STRING,u.snapshotVersion)),YL(i,a);const c=new os(u.target,a,1,u.sequenceNumber);PI(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield Wp(n,r)}var r}),BI.apply(this,arguments)}function Wp(n,e,t){return $I.apply(this,arguments)}function $I(){return $I=g(function*(n,e,t){if(!es(e))throw e;n._u.add(1),yield au(n),n.gu.set("Offline"),t||(t=()=>UL(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){T("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield zl(n)}))}),$I.apply(this,arguments)}function JL(n,e){return e().catch(t=>Wp(n,t,e))}function uu(n){return jI.apply(this,arguments)}function jI(){return jI=g(function*(n){const e=x(n),t=ls(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;jZ(e);)try{const i=yield TZ(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,HZ(e,i)}catch(i){yield Wp(e,i)}ZL(e)&&eV(e)}),jI.apply(this,arguments)}function jZ(n){return Si(n)&&n.fu.length<10}function HZ(n,e){n.fu.push(e);const t=ls(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function ZL(n){return Si(n)&&!ls(n).No()&&n.fu.length>0}function eV(n){ls(n).start()}function GZ(n){return HI.apply(this,arguments)}function HI(){return HI=g(function*(n){ls(n).eu()}),HI.apply(this,arguments)}function qZ(n){return GI.apply(this,arguments)}function GI(){return GI=g(function*(n){const e=ls(n);for(const t of n.fu)e.Xo(t.mutations)}),GI.apply(this,arguments)}function zZ(n,e,t){return qI.apply(this,arguments)}function qI(){return qI=g(function*(n,e,t){const r=n.fu.shift(),i=cI.from(r,e,t);yield JL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield uu(n)}),qI.apply(this,arguments)}function WZ(n,e){return zI.apply(this,arguments)}function zI(){return zI=g(function*(n,e){var t;e&&ls(n).Yo&&(yield(t=g(function*(r,i){if(FF(s=i.code)&&s!==I.ABORTED){const o=r.fu.shift();ls(r).Mo(),yield JL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield uu(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),ZL(n)&&eV(n)}),zI.apply(this,arguments)}function tV(n,e){return WI.apply(this,arguments)}function WI(){return WI=g(function*(n,e){const t=x(n);t.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=Si(t);t._u.add(3),yield au(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield zl(t)}),WI.apply(this,arguments)}function QI(){return QI=g(function*(n,e){const t=x(n);e?(t._u.delete(2),yield zl(t)):e||(t._u.add(2),yield au(t),t.gu.set("Unknown"))}),QI.apply(this,arguments)}function cu(n){return n.pu||(n.pu=function(e,t,r){const i=x(e);return i.su(),new NZ(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:UZ.bind(null,n),Zr:BZ.bind(null,n),Wo:$Z.bind(null,n)}),n.wu.push(function(){var e=g(function*(t){t?(n.pu.Mo(),LI(n)?FI(n):n.gu.set("Unknown")):(yield n.pu.stop(),XL(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function ls(n){return n.Iu||(n.Iu=function(e,t,r){const i=x(e);return i.su(),new OZ(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:GZ.bind(null,n),Zr:WZ.bind(null,n),tu:qZ.bind(null,n),Zo:zZ.bind(null,n)}),n.wu.push(function(){var e=g(function*(t){t?(n.Iu.Mo(),yield uu(n)):(yield n.Iu.stop(),n.fu.length>0&&(T("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class YI{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new YI(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lu(n,e){if(st("AsyncQueue",`${e}: ${n}`),es(n))return new C(I.UNAVAILABLE,`${e}: ${n}`);throw n}class du{constructor(e){this.comparator=e?(t,r)=>e(t,r)||M.comparator(t.key,r.key):(t,r)=>M.comparator(t.key,r.key),this.keyedMap=xl(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new du(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof du)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new du;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class nV{constructor(){this.Tu=new nt(M.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):V():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class hu{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new hu(e,t,du.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class KZ{constructor(){this.Au=void 0,this.listeners=[]}}class QZ{constructor(){this.queries=new ss(e=>wF(e),Sl),this.onlineState="Unknown",this.Ru=new Set}}function JI(){return JI=g(function*(n,e){const t=x(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new KZ),i)try{s.Au=yield t.onListen(r)}catch(o){const a=lu(o,`Initialization of query '${eI(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&tE(t)}),JI.apply(this,arguments)}function eE(){return eE=g(function*(n,e){const t=x(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),eE.apply(this,arguments)}function YZ(n,e){const t=x(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&tE(t)}function XZ(n,e,t){const r=x(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function tE(n){n.Ru.forEach(e=>{e.next()})}class nE{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class sV{constructor(e){this.key=e}}class oV{constructor(e){this.key=e}}class aV{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ie(),this.mutatedKeys=ie(),this.Gu=EF(e),this.Qu=new du(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new nV,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=tI(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Gu(f,u)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return f(d)-f(h)}(c.type,l.type)||this.Gu(c.doc,l.doc)),this.Ju(r);const o=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,0!==s.length||u?{snapshot:new hu(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new nV,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ie(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new oV(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new sV(r))}),t}tc(e){this.qu=e.Hi,this.Ku=ie();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return hu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class eee{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class tee{constructor(e){this.key=e,this.nc=!1}}class nee{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new ss(a=>wF(a),Sl),this.rc=new Map,this.oc=new Set,this.uc=new nt(M.comparator),this.cc=new Map,this.ac=new _I,this.hc={},this.lc=new Map,this.fc=wo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function ree(n,e){return rE.apply(this,arguments)}function rE(){return rE=g(function*(n,e){const t=TE(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield su(t.localStore,wn(e));t.isPrimaryClient&&zp(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield iE(t,e,r,"current"===a,o.resumeToken)}return i}),rE.apply(this,arguments)}function iE(n,e,t,r,i){return sE.apply(this,arguments)}function sE(){return sE=g(function*(n,e,t,r,i){n._c=(d,h,f)=>{return(p=g(function*(m,y,w,b){let v=y.view.Wu(w);v.$i&&(v=yield jp(m.localStore,y.query,!1).then(({documents:z})=>y.view.Wu(z,v)));const N=b&&b.targetChanges.get(y.targetId),G=y.view.applyChanges(v,m.isPrimaryClient,N);return gE(m,y.targetId,G.Xu),G.snapshot}),function(m,y,w,b){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield jp(n.localStore,e,!0),o=new aV(e,s.Hi),a=o.Wu(s.documents),u=Nl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);gE(n,t,c.Xu);const l=new eee(e,t,o);return n.ic.set(e,l),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),c.snapshot}),sE.apply(this,arguments)}function iee(n,e){return oE.apply(this,arguments)}function oE(){return oE=g(function*(n,e){const t=x(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!Sl(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ou(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Wl(t.remoteStore,r.targetId),fu(t,r.targetId)}).catch(Zi))):(fu(t,r.targetId),yield ou(t.localStore,r.targetId,!0))}),oE.apply(this,arguments)}function aE(){return aE=g(function*(n,e,t){const r=SE(n);try{const i=yield function(s,o){const a=x(s),u=Ye.now(),c=o.reduce((h,f)=>h.add(f.key),ie());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=xn(),p=ie();return a.Gi.getEntries(h,c).next(m=>{f=m,f.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const w of o){const b=hJ(w,l.get(w.key).overlayedDocument);null!=b&&y.push(new Ti(w.key,b,gF(b.value.mapValue),ze.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:UF(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new nt(Z)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Ai(r,i.changes),yield uu(r.remoteStore)}catch(i){const s=lu(i,"Failed to persist write");t.reject(s)}}),aE.apply(this,arguments)}function uV(n,e){return uE.apply(this,arguments)}function uE(){return uE=g(function*(n,e){const t=x(n);try{const r=yield CZ(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.cc.get(s);o&&($(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?$(o.nc):i.removedDocuments.size>0&&($(o.nc),o.nc=!1))}),yield Ai(t,r,e)}catch(r){yield Zi(r)}}),uE.apply(this,arguments)}function cV(n,e,t){const r=x(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.bu(o)&&(u=!0)}),u&&tE(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oee(n,e,t){return cE.apply(this,arguments)}function cE(){return cE=g(function*(n,e,t){const r=x(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new nt(M.comparator);o=o.insert(s,Be.newNoDocument(s,q.min()));const a=ie().add(s),u=new Rl(q.min(),new Map,new Me(Z),o,a);yield uV(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),mE(r)}else yield ou(r.localStore,e,!1).then(()=>fu(r,e,t)).catch(Zi)}),cE.apply(this,arguments)}function aee(n,e){return lE.apply(this,arguments)}function lE(){return lE=g(function*(n,e){const t=x(n),r=e.batch.batchId;try{const i=yield DZ(t.localStore,e);pE(t,r,null),fE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ai(t,i)}catch(i){yield Zi(i)}}),lE.apply(this,arguments)}function uee(n,e,t){return dE.apply(this,arguments)}function dE(){return dE=g(function*(n,e,t){const r=x(n);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>($(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);pE(r,e,t),fE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ai(r,i)}catch(i){yield Zi(i)}}),dE.apply(this,arguments)}function fE(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function pE(n,e,t){const r=x(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function fu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||lV(n,r)})}function lV(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Wl(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),mE(n))}function gE(n,e,t){for(const r of t)r instanceof sV?(n.ac.addReference(r.key,e),lee(n,r)):r instanceof oV?(T("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||lV(n,r.key)):V()}function lee(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(T("SyncEngine","New document in limbo: "+t),n.oc.add(r),mE(n))}function mE(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new M(ve.fromString(e)),r=n.fc.next();n.cc.set(r,new tee(t)),n.uc=n.uc.insert(t,r),zp(n.remoteStore,new os(wn(Qa(t.path)),r,2,Wn.at))}}function Ai(n,e,t){return yE.apply(this,arguments)}function yE(){return yE=g(function*(n,e,t){const r=x(n),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=EI.Ci(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=g(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(c,h=>_.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!es(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qi.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qi=l.qi.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),yE.apply(this,arguments)}function dee(n,e){return _E.apply(this,arguments)}function _E(){return _E=g(function*(n,e){const t=x(n);if(!t.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield VL(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(o=>{o.forEach(a=>{a.reject(new C(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ai(t,r.ji)}var i}),_E.apply(this,arguments)}function hee(n,e){const t=x(n),r=t.cc.get(e);if(r&&r.nc)return ie().add(r.key);{let i=ie();const s=t.rc.get(e);if(!s)return i;for(const o of s){const a=t.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function TE(n){const e=x(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=uV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oee.bind(null,e),e.sc.Wo=YZ.bind(null,e.eventManager),e.sc.wc=XZ.bind(null,e.eventManager),e}function SE(n){const e=x(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uee.bind(null,e),e}class Iee{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.yt=ql(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function LL(n,e,t,r){return new bZ(n,e,t,r)}(this.persistence,new FL,e.initialUser,this.yt)}yc(e){return new OL(Bp.Bs,this.yt)}gc(e){return new zL}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class AE{initialize(e,t){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>cV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=dee.bind(null,r.syncEngine),yield function KI(n,e){return QI.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new QZ}createDatastore(e){const t=ql(e.databaseInfo.databaseId),r=new RZ(e.databaseInfo);return new PZ(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>cV(this.syncEngine,a,0),o=WL.C()?new WL:new MZ,new VZ(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,c){const l=new nee(r,i,s,o,a,u);return c&&(l.dc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const r=x(t);T("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield au(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ME(n,e,t){if(!t)throw new C(I.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function fV(n){if(!M.isDocumentKey(n))throw new C(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pV(n){if(M.isDocumentKey(n))throw new C(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":V()}function ge(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new C(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kp(n);throw new C(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const mV=new Map;class yV{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new C(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Dee(n,e,t,r){if(!0===e&&!0===r)throw new C(I.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kl{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new NX;switch(t.type){case"gapi":return new LX(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new C(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mV.get(e);t&&(T("ComponentProvider","Removing Datastore"),mV.delete(e),t.terminate())}(this),Promise.resolve()}}class ut{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}}class qt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qt(this.firestore,e,this._query)}}class Wr extends qt{constructor(e,t,r){super(e,t,Qa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new M(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function pu(n,e,...t){if(n=Mn(n),ME("collection","path",e),n instanceof Kl){const r=ve.fromString(e,...t);return pV(r),new Wr(n,null,r)}{if(!(n instanceof ut||n instanceof Wr))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ve.fromString(e,...t));return pV(r),new Wr(n.firestore,null,r)}}function Ql(n,e,...t){if(n=Mn(n),1===arguments.length&&(e=$P.R()),ME("doc","path",e),n instanceof Kl){const r=ve.fromString(e,...t);return fV(r),new ut(n,null,new M(r))}{if(!(n instanceof ut||n instanceof Wr))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ve.fromString(e,...t));return fV(r),new ut(n.firestore,n instanceof Wr?n.converter:null,new M(r))}}class Qp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):st("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class kee{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=$P.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=lu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function wV(n,e){return xE.apply(this,arguments)}function xE(){return xE=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield VL(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),xE.apply(this,arguments)}function IV(n,e){return kE.apply(this,arguments)}function kE(){return kE=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield RE(n);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>tV(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>tV(e.remoteStore,s)),n.onlineComponents=e}),kE.apply(this,arguments)}function RE(n){return NE.apply(this,arguments)}function NE(){return NE=g(function*(n){return n.offlineComponents||(T("FirestoreClient","Using default OfflineComponentProvider"),yield wV(n,new Iee)),n.offlineComponents}),NE.apply(this,arguments)}function Yp(n){return OE.apply(this,arguments)}function OE(){return OE=g(function*(n){return n.onlineComponents||(T("FirestoreClient","Using default OnlineComponentProvider"),yield IV(n,new AE)),n.onlineComponents}),OE.apply(this,arguments)}function LE(){return LE=g(function*(n){const e=yield Yp(n),t=e.eventManager;return t.onListen=ree.bind(null,e.syncEngine),t.onUnlisten=iee.bind(null,e.syncEngine),t}),LE.apply(this,arguments)}function CV(n,e,t={}){const r=new Ct;return n.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new Qp({next:d=>{s.enqueueAndForget(()=>function ZI(n,e){return eE.apply(this,arguments)}(i,l)),d.fromCache&&"server"===a.source?u.reject(new C(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new nE(o,c,{includeMetadataChanges:!0,Nu:!0});return function XI(n,e){return JI.apply(this,arguments)}(i,l)}(yield function gu(n){return LE.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}class Uee{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new kI(this,"async_queue_retry"),this.Wc=()=>{const t=qp();t&&T("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=qp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=qp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Ct;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return g(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!es(t))throw t;T("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,st("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=YI.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&V()}verifyOperationInProgress(){}Xc(){var e=this;return g(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}class $e extends Kl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Uee,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||SV(this),this._firestoreClient.terminate()}}function TV(n,e){const r="string"==typeof n?n:e||"(default)",i=Qi("object"==typeof n?n:jf(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=oO("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();s&&function Cee(n,e,t,r={}){var i;const s=(n=ge(n,Kl))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Ha("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Rt.MOCK_USER;else{o=function gQ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Of(JSON.stringify({alg:"none",type:"JWT"})),Of(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Rt(u)}n._authCredentials=new OX(new UP(o,a))}}(i,...s)}return i}function yt(n){return n._firestoreClient||SV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function SV(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new KX(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new kee(n._authCredentials,n._appCheckCredentials,n._queue,r)}class Eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eo(Tt.fromBase64String(e))}catch(t){throw new C(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Eo(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new C(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xV{constructor(e){this._methodName=e}}class UE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new C(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new C(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}const $ee=/^__.*__$/;class jee{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ti(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ja(e,this.data,t,this.fieldTransforms)}}function RV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class Jp{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return eg(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(RV(this.sa)&&$ee.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Hee{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||ql(e)}da(e,t,r,i=!1){return new Jp({sa:e,methodName:t,fa:r,path:ot.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function yu(n){const e=n._freezeSettings(),t=ql(n._databaseId);return new Hee(n._databaseId,!!e.ignoreUndefinedProperties,t)}function BE(n,e,t,r,i,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,i);jE("Data must be an object, but it was:",o,r);const a=LV(r,o);let u,c;if(s.merge)u=new Kn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=HE(e,d,t);if(!o.contains(h))throw new C(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);UV(l,h)||l.push(h)}u=new Kn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new jee(new Gt(a),u,c)}function bo(n,e){if(VV(n=Mn(n)))return jE("Unsupported field value:",e,n),LV(n,e);if(n instanceof xV)return function(t,r){if(!RV(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=bo(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Mn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return CF(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ye.fromDate(t);return{timestampValue:eu(r.yt,i)}}if(t instanceof Ye){const i=new Ye(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:eu(r.yt,i)}}if(t instanceof UE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Eo)return{bytesValue:zF(r.yt,t._byteString)};if(t instanceof ut){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:rI(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Kp(t)}`)}(n,e)}function LV(n,e){const t={};return KP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(n,(r,i)=>{const s=bo(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function VV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ye||n instanceof UE||n instanceof Eo||n instanceof ut||n instanceof xV)}function jE(n,e,t){if(!VV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Kp(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function HE(n,e,t){if((e=Mn(e))instanceof mu)return e._internalPath;if("string"==typeof e)return Zp(n,e);throw eg("Field path arguments must be of type string or ",n,!1,void 0,t)}const Wee=new RegExp("[~\\*/\\[\\]]");function Zp(n,e,t){if(e.search(Wee)>=0)throw eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mu(...e.split("."))._internalPath}catch{throw eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function eg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(I.INVALID_ARGUMENT,a+n+u)}function UV(n,e){return n.some(t=>t.isEqual(e))}class GE{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Kee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Kee extends GE{data(){return super.data()}}function tg(n,e){return"string"==typeof e?Zp(n,e):e instanceof mu?e._internalPath:e._delegate._internalPath}class Yee{convertValue(e,t="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw V()}}convertObject(e,t){const r={};return oo(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new UE(tt(e.latitude),tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=YP(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(El(e));default:return null}}convertTimestamp(e){const t=ts(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ve.fromString(e);$(nL(r));const i=new so(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(t)||st(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Do{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vu extends GE{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(tg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class sg extends vu{data(e={}){return super.data(e)}}class wu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Do(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new sg(this._firestore,this._userDataWriter,r.key,r,new Do(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new C(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new sg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Do(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new sg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Do(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Xee(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Xee(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}class ds extends Yee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,t)}}function Iu(n){n=ge(n,qt);const e=ge(n.firestore,$e),t=yt(e),r=new ds(e);return function BV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new C(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),CV(t,n._query).then(i=>new wu(e,r,n,i))}function WV(n,e,t){n=ge(n,ut);const r=ge(n.firestore,$e),i=function zE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return Jl(r,[BE(yu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ze.none())])}function KV(n){return Jl(ge(n.firestore,$e),[new Za(n._key,ze.none())])}function Jl(n,e){return function(t,r){const i=new Ct;return t.asyncQueue.enqueueAndForget(g(function*(){return function see(n,e,t){return aE.apply(this,arguments)}(yield function FE(n){return Yp(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(yt(n),e)}!function(n,e=!0){ja="9.15.0",_n(new rn("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new $e(new PX(t.getProvider("auth-internal")),new VX(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ze(VP,"3.8.0",n),Ze(VP,"3.8.0","esm2017")}(),Ze("firebase","9.15.0","app");const YV="@firebase/installations",JV="w:0.6.0",ZV="FIS_v2",Mi=new $r("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function eU(n){return n instanceof ur&&n.code.includes("request-failed")}function QE({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function tU(n){return{token:n.token,requestStatus:2,expiresIn:ute(n.expiresIn),creationTime:Date.now()}}function YE(n,e){return XE.apply(this,arguments)}function XE(){return XE=g(function*(n,e){const r=(yield e.json()).error;return Mi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),XE.apply(this,arguments)}function nU({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function rU(n,{refreshToken:e}){const t=nU(n);return t.append("Authorization",function cte(n){return`${ZV} ${n}`}(e)),t}function JE(n){return ZE.apply(this,arguments)}function ZE(){return ZE=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e}),ZE.apply(this,arguments)}function ute(n){return Number(n.replace("s","000"))}function lte(n,e){return eb.apply(this,arguments)}function eb(){return eb=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=QE(n),i=nU(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:ZV,appId:n.appId,sdkVersion:JV})},u=yield JE(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:tU(c.authToken)}}throw yield YE("Create Installation",u)}),eb.apply(this,arguments)}function iU(n){return new Promise(e=>{setTimeout(e,n)})}const hte=/^[cdef][\w-]{21}$/;function fte(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function pte(n){return function dte(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return hte.test(t)?t:""}catch{return""}}function Eu(n){return`${n.appName}!${n.appId}`}const bu=new Map;function sU(n,e){const t=Eu(n);oU(t,e),function yte(n,e){const t=function aU(){return!Co&&"BroadcastChannel"in self&&(Co=new BroadcastChannel("[Firebase] FID Change"),Co.onmessage=n=>{oU(n.data.key,n.data.fid)}),Co}();t&&t.postMessage({key:n,fid:e}),function uU(){0===bu.size&&Co&&(Co.close(),Co=null)}()}(t,e)}function oU(n,e){const t=bu.get(n);if(t)for(const r of t)r(e)}let Co=null;const To="firebase-installations-store";let nb=null;function rb(){return nb||(nb=Uf("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(To)}})),nb}function ag(n,e){return ib.apply(this,arguments)}function ib(){return ib=g(function*(n,e){const t=Eu(n),i=(yield rb()).transaction(To,"readwrite"),s=i.objectStore(To),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&sU(n,e.fid),e}),ib.apply(this,arguments)}function sb(n){return ob.apply(this,arguments)}function ob(){return ob=g(function*(n){const e=Eu(n),r=(yield rb()).transaction(To,"readwrite");yield r.objectStore(To).delete(e),yield r.done}),ob.apply(this,arguments)}function Zl(n,e){return ab.apply(this,arguments)}function ab(){return ab=g(function*(n,e){const t=Eu(n),i=(yield rb()).transaction(To,"readwrite"),s=i.objectStore(To),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&sU(n,a.fid),a}),ab.apply(this,arguments)}function ub(n){return cb.apply(this,arguments)}function cb(){return cb=g(function*(n){let e;const t=yield Zl(n.appConfig,r=>{const i=wte(r),s=Ite(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),cb.apply(this,arguments)}function wte(n){return lU(n||{fid:fte(),registrationStatus:0})}function Ite(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Mi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Ete(n,e){return lb.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:bte(n)}:{installationEntry:e}}function lb(){return lb=g(function*(n,e){try{const t=yield lte(n,e);return ag(n.appConfig,t)}catch(t){throw eU(t)&&409===t.customData.serverCode?yield sb(n.appConfig):yield ag(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),lb.apply(this,arguments)}function bte(n){return db.apply(this,arguments)}function db(){return db=g(function*(n){let e=yield cU(n.appConfig);for(;1===e.registrationStatus;)yield iU(100),e=yield cU(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield ub(n);return r||t}return e}),db.apply(this,arguments)}function cU(n){return Zl(n,e=>{if(!e)throw Mi.create("installation-not-found");return lU(e)})}function lU(n){return function Dte(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Cte(n,e){return hb.apply(this,arguments)}function hb(){return hb=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=Tte(n,t),i=rU(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:JV,appId:n.appId}})},u=yield JE(()=>fetch(r,a));if(u.ok)return tU(yield u.json());throw yield YE("Generate Auth Token",u)}),hb.apply(this,arguments)}function Tte(n,{fid:e}){return`${QE(n)}/${e}/authTokens:generate`}function fb(n){return pb.apply(this,arguments)}function pb(){return pb=g(function*(n,e=!1){let t;const r=yield Zl(n.appConfig,s=>{if(!hU(s))throw Mi.create("not-registered");const o=s.authToken;if(!e&&Mte(o))return s;if(1===o.requestStatus)return t=Ste(n,e),s;{if(!navigator.onLine)throw Mi.create("app-offline");const a=kte(s);return t=Ate(n,a),a}});return t?yield t:r.authToken}),pb.apply(this,arguments)}function Ste(n,e){return gb.apply(this,arguments)}function gb(){return gb=g(function*(n,e){let t=yield dU(n.appConfig);for(;1===t.authToken.requestStatus;)yield iU(100),t=yield dU(n.appConfig);const r=t.authToken;return 0===r.requestStatus?fb(n,e):r}),gb.apply(this,arguments)}function dU(n){return Zl(n,e=>{if(!hU(e))throw Mi.create("not-registered");return function Rte(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Ate(n,e){return mb.apply(this,arguments)}function mb(){return mb=g(function*(n,e){try{const t=yield Cte(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield ag(n.appConfig,r),t}catch(t){if(!eU(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ag(n.appConfig,r)}else yield sb(n.appConfig);throw t}}),mb.apply(this,arguments)}function hU(n){return void 0!==n&&2===n.registrationStatus}function Mte(n){return 2===n.requestStatus&&!function xte(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function kte(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function yb(){return yb=g(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield ub(e);return r?r.catch(console.error):fb(e).catch(console.error),t.fid}),yb.apply(this,arguments)}function _b(){return _b=g(function*(n,e=!1){const t=n;return yield Pte(t),(yield fb(t,e)).token}),_b.apply(this,arguments)}function Pte(n){return vb.apply(this,arguments)}function vb(){return vb=g(function*(n){const{registrationPromise:e}=yield ub(n);e&&(yield e)}),vb.apply(this,arguments)}function Eb(n){return Mi.create("missing-app-config-values",{valueName:n})}const fU="installations",Bte=n=>{const e=n.getProvider("app").getImmediate(),t=function Vte(n){if(!n||!n.options)throw Eb("App Configuration");if(!n.name)throw Eb("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Eb(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Qi(e,"heartbeat"),_delete:()=>Promise.resolve()}},$te=n=>{const t=Qi(n.getProvider("app").getImmediate(),fU).getImmediate();return{getId:()=>function Nte(n){return yb.apply(this,arguments)}(t),getToken:i=>function Ote(n){return _b.apply(this,arguments)}(t,i)}};(function jte(){_n(new rn(fU,Bte,"PUBLIC")),_n(new rn("installations-internal",$te,"PRIVATE"))})(),Ze(YV,"0.6.0"),Ze(YV,"0.6.0","esm2017");const ug="analytics",Hte="firebase_id",zte="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pU="https://www.googletagmanager.com/gtag/js",zt=new Fa("@firebase/analytics");function gU(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Wte(n,e){const t=document.createElement("script");t.src=`${pU}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Qte(n,e,t,r,i,s){return bb.apply(this,arguments)}function bb(){return bb=g(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield gU(t)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){zt.error(a)}n("config",i,s)}),bb.apply(this,arguments)}function Yte(n,e,t,r,i){return Db.apply(this,arguments)}function Db(){return Db=g(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield gU(t);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){zt.error(s)}}),Db.apply(this,arguments)}function Zte(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(pU)&&t.src.includes(n))return t;return null}const Qn=new $r("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),mU=new class rne{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ine(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function sne(n){return Cb.apply(this,arguments)}function Cb(){return Cb=g(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:ine(r)},s=zte.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Qn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),Cb.apply(this,arguments)}function one(n){return Tb.apply(this,arguments)}function Tb(){return Tb=g(function*(n,e=mU,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Qn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Qn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new cne;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:6e4),yU({appId:r,apiKey:i,measurementId:s},o,a,e)}),Tb.apply(this,arguments)}function yU(n,e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=mU){var s;const{appId:o,measurementId:a}=n;try{yield ane(r,e)}catch(u){if(a)return zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield sne(n);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!une(c)){if(i.deleteThrottleMetadata(o),a)return zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Uv(t,i.intervalMillis,30):Uv(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(o,d),zt.debug(`Calling attemptFetch again in ${l} millis`),yU(n,d,r,i)}}),Sb.apply(this,arguments)}function ane(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function une(n){if(!(n instanceof ur&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class cne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Ab,Ob;function Mb(){return Mb=g(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}}),Mb.apply(this,arguments)}function _U(n){Ob=n}function vU(n){Ab=n}function gne(){return Pb.apply(this,arguments)}function Pb(){return Pb=g(function*(){if(!Qs())return zt.warn(Qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Yc()}catch(n){return zt.warn(Qn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0}),Pb.apply(this,arguments)}function Fb(){return Fb=g(function*(n,e,t,r,i,s,o){var a;const u=one(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&zt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>zt.error(f)),e.push(u);const c=gne().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);Zte(s)||Wte(s,l.measurementId),Ob&&(i("consent","default",Ob),_U(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Hte]=d),i("config",l.measurementId,h),Ab&&(i("set",Ab),vU(void 0)),l.measurementId}),Fb.apply(this,arguments)}class yne{constructor(e){this.app=e}_delete(){return delete xi[this.app.options.appId],Promise.resolve()}}let xi={},wU=[];const IU={};let bU,ki,cg="dataLayer",Lb=!1;function vne(n,e,t){!function _ne(){const n=[];if(Ov()&&n.push("This is a browser extension environment."),Pv()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Qn.create("invalid-analytics-context",{errorInfo:e});zt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Qn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Qn.create("no-api-key");zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xi[r])throw Qn.create("already-exists",{id:r});if(!Lb){!function Kte(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(cg);const{wrappedGtag:s,gtagCore:o}=function Jte(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Xte(n,e,t,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield Yte(n,e,t,a,u):"config"===o?yield Qte(n,e,t,r,a,u):"consent"===o?n("consent","update",u):n("set",a)}catch(c){zt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(xi,wU,IU,cg,"gtag");ki=s,bU=o,Lb=!0}return xi[r]=function mne(n,e,t,r,i,s,o){return Fb.apply(this,arguments)}(n,wU,IU,e,bU,cg,t),new yne(n)}function Ene(){return Vb.apply(this,arguments)}function Vb(){return(Vb=g(function*(){if(Ov()||!Pv()||!Qs())return!1;try{return yield Yc()}catch{return!1}})).apply(this,arguments)}const DU="@firebase/analytics";!function Dne(){_n(new rn(ug,(e,{options:t})=>vne(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),_n(new rn("analytics-internal",function n(e){try{const t=e.getProvider(ug).getImmediate();return{logEvent:(r,i,s)=>function bne(n,e,t,r){n=Mn(n),function lne(n,e,t,r,i){return Mb.apply(this,arguments)}(ki,xi[n.app.options.appId],e,t,r).catch(i=>zt.error(i))}(t,r,i,s)}}catch(t){throw Qn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Ze(DU,"0.9.0"),Ze(DU,"0.9.0","esm2017")}();const Ub={firebase:{projectId:"moviesapp-1293c",appId:"1:758977208031:web:1b0fe6039976786eb9136a",databaseURL:"https://moviesapp-1293c-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"moviesapp-1293c.appspot.com",apiKey:"AIzaSyCGGiJG4IHCqFvL7mPQp0HVUR5kLKIfCb8",authDomain:"moviesapp-1293c.firebaseapp.com",messagingSenderId:"758977208031",measurementId:"G-LW8HFBZGG9"},apiKey:"AIzaSyCGGiJG4IHCqFvL7mPQp0HVUR5kLKIfCb8",authDomain:"moviesapp-1293c.firebaseapp.com",databaseURL:"https://moviesapp-1293c-default-rtdb.europe-west1.firebasedatabase.app",projectId:"moviesapp-1293c",storageBucket:"moviesapp-1293c.appspot.com",messagingSenderId:"758977208031",appId:"1:758977208031:web:1b0fe6039976786eb9136a",measurementId:"G-LW8HFBZGG9",movieDB_key:"8dfa46529d14d0c904701d29309c1965"},TU=Qv(Ub),Kr=(function wne(n=jf()){const e=Qi(n=Mn(n),ug);e.isInitialized()?e.getImmediate():function Ine(n,e={}){const t=Qi(n,ug);if(t.isInitialized()){const i=t.getImmediate();if(Xc(e,t.getOptions()))return i;throw Qn.create("already-initialized")}t.initialize({options:e})}(n)}(TU),TV(TU));class lg{}class Bb{}class Ri{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ri?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ri;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ri?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Cne{encodeKey(e){return SU(e)}encodeValue(e){return SU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Sne=/%(\d[a-f0-9])/gi,Ane={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function SU(n){return encodeURIComponent(n).replace(Sne,(e,t)=>Ane[t]??e)}function dg(n){return`${n}`}class hs{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Cne,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Tne(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(dg):[dg(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new hs({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(dg(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(dg(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Mne{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function AU(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function MU(n){return typeof Blob<"u"&&n instanceof Blob}function xU(n){return typeof FormData<"u"&&n instanceof FormData}class ed{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function xne(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ri),this.context||(this.context=new Mne),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new hs,this.urlWithParams=t}serializeBody(){return null===this.body?null:AU(this.body)||MU(this.body)||xU(this.body)||function kne(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof hs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xU(this.body)?null:MU(this.body)?this.body.type||null:AU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new ed(t,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var _t=(()=>((_t=_t||{})[_t.Sent=0]="Sent",_t[_t.UploadProgress=1]="UploadProgress",_t[_t.ResponseHeader=2]="ResponseHeader",_t[_t.DownloadProgress=3]="DownloadProgress",_t[_t.Response=4]="Response",_t[_t.User=5]="User",_t))();class $b{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ri,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class jb extends $b{constructor(e={}){super(e),this.type=_t.ResponseHeader}clone(e={}){return new jb({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class hg extends $b{constructor(e={}){super(e),this.type=_t.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new hg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class kU extends $b{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Hb(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let td=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof ed)s=t;else{let u,c;u=i.headers instanceof Ri?i.headers:new Ri(i.headers),i.params&&(c=i.params instanceof hs?i.params:new hs({fromObject:i.params})),s=new ed(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=j(s).pipe(yi(u=>this.handler.handle(u)));if(t instanceof ed||"events"===i.observe)return o;const a=o.pipe(mi(u=>u instanceof hg));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(re(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(re(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(re(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(re(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new hs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Hb(i,r))}post(t,r,i={}){return this.request("POST",t,Hb(i,r))}put(t,r,i={}){return this.request("PUT",t,Hb(i,r))}}return n.\u0275fac=function(t){return new(t||n)(k(lg))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();function RU(n,e){return e(n)}function Rne(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const One=new F("HTTP_INTERCEPTORS"),nd=new F("HTTP_INTERCEPTOR_FNS");function Pne(){let n=null;return(e,t)=>(null===n&&(n=(le(One,{optional:!0})??[]).reduceRight(Rne,RU)),n(e,t))}let NU=(()=>{class n extends lg{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(nd)));this.chain=r.reduceRight((i,s)=>function Nne(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),RU)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(k(Bb),k(Nr))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const Une=/^\)\]\}',?\n/;let PU=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new je(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new Ri(i.getAllResponseHeaders()),m=function Bne(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new jb({headers:p,status:i.status,statusText:f,url:m}),o},u=()=>{let{headers:f,status:p,statusText:m,url:y}=a(),w=null;204!==p&&(w=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=w?200:0);let b=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof w){const v=w;w=w.replace(Une,"");try{w=""!==w?JSON.parse(w):null}catch(N){w=v,b&&(b=!1,w={error:N,text:w})}}b?(r.next(new hg({body:w,headers:f,status:p,statusText:m,url:y||void 0})),r.complete()):r.error(new kU({error:w,headers:f,status:p,statusText:m,url:y||void 0}))},c=f=>{const{url:p}=a(),m=new kU({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:_t.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:_t.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:_t.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(k(mR))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();const Gb=new F("XSRF_ENABLED"),FU="XSRF-TOKEN",LU=new F("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>FU}),VU="X-XSRF-TOKEN",UU=new F("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>VU});class BU{}let $ne=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=oR(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(k(Ut),k(Dc),k(LU))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();function jne(n,e){const t=n.url.toLowerCase();if(!le(Gb)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=le(BU).getToken(),i=le(UU);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var ct=(()=>((ct=ct||{})[ct.Interceptors=0]="Interceptors",ct[ct.LegacyInterceptors=1]="LegacyInterceptors",ct[ct.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ct[ct.NoXsrfProtection=3]="NoXsrfProtection",ct[ct.JsonpSupport=4]="JsonpSupport",ct[ct.RequestsMadeViaParent=5]="RequestsMadeViaParent",ct))();function Du(n,e){return{\u0275kind:n,\u0275providers:e}}function Hne(...n){const e=[td,PU,NU,{provide:lg,useExisting:NU},{provide:Bb,useExisting:PU},{provide:nd,useValue:jne,multi:!0},{provide:Gb,useValue:!0},{provide:BU,useClass:$ne}];for(const t of n)e.push(...t.\u0275providers);return function dq(n){return{\u0275providers:n}}(e)}const $U=new F("LEGACY_INTERCEPTOR_FN");function qne({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:LU,useValue:n}),void 0!==e&&t.push({provide:UU,useValue:e}),Du(ct.CustomXsrfConfiguration,t)}let zne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=un({type:n}),n.\u0275inj=Qt({providers:[Hne(Du(ct.LegacyInterceptors,[{provide:$U,useFactory:Pne},{provide:nd,useExisting:$U,multi:!0}]),qne({cookieName:FU,headerName:VU}))]}),n})();class Qr{constructor(e){this.http=e,this.user=new sr(null),this.role=""}signup(e,t){return this.http.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=AIzaSyCGGiJG4IHCqFvL7mPQp0HVUR5kLKIfCb8",{email:e,password:t,returnSecureToken:!0}).pipe(Dt(r=>{this.handleAuthentication(r.email,r.localId,r.role,r.idToken,+r.expiresIn)}))}login(e,t){return this.http.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyCGGiJG4IHCqFvL7mPQp0HVUR5kLKIfCb8",{email:e,password:t,returnSecureToken:!0}).pipe(Dt(r=>{this.handleAuthentication(r.email,r.localId,r.role,r.idToken,+r.expiresIn)}))}logout(){this.user.next(null)}handleAuthentication(e,t,r,i,s){const o=new Date((new Date).getTime()+1e3*s),a=new Z9(e,t,r,i,o);this.user.next(a)}handleError(e){let t="An unknown error occurred!";if(!e.error||!e.error.error)return Hs(t);switch(e.error.error.message){case"EMAIL_EXISTS":t="This email exists already";break;case"EMAIL_NOT_FOUND":t="This email does not exist.";break;case"INVALID_PASSWORD":t="This password is not correct."}return Hs(t)}sendUserToFirebase(){var e=this;return g(function*(){let t={id:Math.floor(1e8*Math.random()),email:e.user.value.email,role:"user"};yield WV(Ql(Kr,"users",t.id.toString()),t)})()}}Qr.\u0275fac=function(e){return new(e||Qr)(k(td))},Qr.\u0275prov=U({token:Qr,factory:Qr.\u0275fac,providedIn:"root"});class Ni{constructor(e){this.authService=e}canActivate(e,t){return!!this.authService.user.value||(alert("Please login or signup to access this page!"),!1)}}function So(n){return!!n&&(n instanceof je||Se(n.lift)&&Se(n.subscribe))}function jU(...n){const e=oS(n),{args:t,keys:r}=jR(n),i=new je(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;lr(t[l]).subscribe(vt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?GR(r,a):a),s.complete())}))}});return e?i.pipe(HR(e)):i}Ni.\u0275fac=function(e){return new(e||Ni)(k(Qr))},Ni.\u0275prov=U({token:Ni,factory:Ni.\u0275fac,providedIn:"root"});const qb={now:()=>(qb.delegate||Date).now(),delegate:void 0};class Wne extends Sr{constructor(e=1/0,t=1/0,r=qb){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function HU(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,uS({connector:()=>new Wne(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}class rd{}let GU=(()=>{class n extends rd{getTranslation(t){return j({})}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();class zb{}let qU=(()=>{class n{handle(t){return t.key}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();function fg(n,e){if(n===e)return!0;if(null===n||null===e)return!1;if(n!=n&&e!=e)return!0;let i,s,o,t=typeof n;if(t==typeof e&&"object"==t){if(!Array.isArray(n)){if(Array.isArray(e))return!1;for(s in o=Object.create(null),n){if(!fg(n[s],e[s]))return!1;o[s]=!0}for(s in e)if(!(s in o)&&typeof e[s]<"u")return!1;return!0}if(!Array.isArray(e))return!1;if((i=n.length)==e.length){for(s=0;s<i;s++)if(!fg(n[s],e[s]))return!1;return!0}}return!1}function fs(n){return typeof n<"u"&&null!==n}function Wb(n){return n&&"object"==typeof n&&!Array.isArray(n)}function zU(n,e){let t=Object.assign({},n);return Wb(n)&&Wb(e)&&Object.keys(e).forEach(r=>{Wb(e[r])?r in n?t[r]=zU(n[r],e[r]):Object.assign(t,{[r]:e[r]}):Object.assign(t,{[r]:e[r]})}),t}class pg{}let WU=(()=>{class n extends pg{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,r){let i;return i="string"==typeof t?this.interpolateString(t,r):"function"==typeof t?this.interpolateFunction(t,r):t,i}getValue(t,r){let i="string"==typeof r?r.split("."):[r];r="";do{r+=i.shift(),!fs(t)||!fs(t[r])||"object"!=typeof t[r]&&i.length?i.length?r+=".":t=void 0:(t=t[r],r="")}while(i.length);return t}interpolateFunction(t,r){return t(r)}interpolateString(t,r){return r?t.replace(this.templateMatcher,(i,s)=>{let o=this.getValue(r,s);return fs(o)?o:i}):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();class gg{}let KU=(()=>{class n extends gg{compile(t,r){return t}compileTranslations(t,r){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})();class QU{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new Ae,this.onLangChange=new Ae,this.onDefaultLangChange=new Ae}}const Kb=new F("USE_STORE"),Qb=new F("USE_DEFAULT_LANG"),Yb=new F("DEFAULT_LANGUAGE"),Xb=new F("USE_EXTEND");let id=(()=>{class n{constructor(t,r,i,s,o,a=!0,u=!1,c=!1,l){this.store=t,this.currentLoader=r,this.compiler=i,this.parser=s,this.missingTranslationHandler=o,this.useDefaultLang=a,this.isolate=u,this.extend=c,this.pending=!1,this._onTranslationChange=new Ae,this._onLangChange=new Ae,this._onDefaultLangChange=new Ae,this._langs=[],this._translations={},this._translationRequests={},l&&this.setDefaultLang(l)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let r=this.retrieveTranslations(t);typeof r<"u"?(null==this.defaultLang&&(this.defaultLang=t),r.pipe(gi(1)).subscribe(i=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return j(this.translations[t]);let r=this.retrieveTranslations(t);return typeof r<"u"?(this.currentLang||(this.currentLang=t),r.pipe(gi(1)).subscribe(i=>{this.changeLang(t)}),r):(this.changeLang(t),j(this.translations[t]))}retrieveTranslations(t){let r;return(typeof this.translations[t]>"u"||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),r=this._translationRequests[t]),r}getTranslation(t){this.pending=!0;const r=this.currentLoader.getTranslation(t).pipe(HU(1),gi(1));return this.loadingTranslations=r.pipe(re(i=>this.compiler.compileTranslations(i,t)),HU(1),gi(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[t]=this.extend&&this.translations[t]?{...i,...this.translations[t]}:i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),r}setTranslation(t,r,i=!1){r=this.compiler.compileTranslations(r,t),this.translations[t]=(i||this.extend)&&this.translations[t]?zU(this.translations[t],r):r,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(r=>{-1===this.langs.indexOf(r)&&this.langs.push(r)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,r,i){let s;if(r instanceof Array){let o={},a=!1;for(let u of r)o[u]=this.getParsedResult(t,u,i),So(o[u])&&(a=!0);return a?jU(r.map(c=>So(o[c])?o[c]:j(o[c]))).pipe(re(c=>{let l={};return c.forEach((d,h)=>{l[r[h]]=d}),l})):o}if(t&&(s=this.parser.interpolate(this.parser.getValue(t,r),i)),typeof s>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],r),i)),typeof s>"u"){let o={key:r,translateService:this};typeof i<"u"&&(o.interpolateParams=i),s=this.missingTranslationHandler.handle(o)}return typeof s<"u"?s:r}get(t,r){if(!fs(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(yi(i=>So(i=this.getParsedResult(i,t,r))?i:j(i)));{let i=this.getParsedResult(this.translations[this.currentLang],t,r);return So(i)?i:j(i)}}getStreamOnTranslationChange(t,r){if(!fs(t)||!t.length)throw new Error('Parameter "key" required');return Oc(gf(()=>this.get(t,r)),this.onTranslationChange.pipe(or(i=>{const s=this.getParsedResult(i.translations,t,r);return"function"==typeof s.subscribe?s:j(s)})))}stream(t,r){if(!fs(t)||!t.length)throw new Error('Parameter "key" required');return Oc(gf(()=>this.get(t,r)),this.onLangChange.pipe(or(i=>{const s=this.getParsedResult(i.translations,t,r);return So(s)?s:j(s)})))}instant(t,r){if(!fs(t)||!t.length)throw new Error('Parameter "key" required');let i=this.getParsedResult(this.translations[this.currentLang],t,r);if(So(i)){if(t instanceof Array){let s={};return t.forEach((o,a)=>{s[t[a]]=t[a]}),s}return t}return i}set(t,r,i=this.currentLang){this.translations[i][t]=this.compiler.compile(r,i),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof t>"u"?void 0:(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return n.\u0275fac=function(t){return new(t||n)(k(QU),k(rd),k(gg),k(pg),k(zb),k(Qb),k(Kb),k(Xb),k(Yb))},n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),Cu=(()=>{class n{constructor(t,r){this.translate=t,this._ref=r,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(t,r,i){let s=o=>{this.value=void 0!==o?o:t,this.lastKey=t,this._ref.markForCheck()};if(i){let o=this.translate.getParsedResult(i,t,r);So(o.subscribe)?o.subscribe(s):s(o)}this.translate.get(t,r).subscribe(s)}transform(t,...r){if(!t||!t.length)return t;if(fg(t,this.lastKey)&&fg(r,this.lastParams))return this.value;let i;if(fs(r[0])&&r.length)if("string"==typeof r[0]&&r[0].length){let s=r[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{i=JSON.parse(s)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else"object"==typeof r[0]&&!Array.isArray(r[0])&&(i=r[0]);return this.lastKey=t,this.lastParams=r,this.updateValue(t,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,i,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,i,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(t){return new(t||n)(E(id,16),E(Cc,16))},n.\u0275pipe=cn({name:"translate",type:n,pure:!1}),n.\u0275prov=U({token:n,factory:n.\u0275fac}),n})(),Kne=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[t.loader||{provide:rd,useClass:GU},t.compiler||{provide:gg,useClass:KU},t.parser||{provide:pg,useClass:WU},t.missingTranslationHandler||{provide:zb,useClass:qU},QU,{provide:Kb,useValue:t.isolate},{provide:Qb,useValue:t.useDefaultLang},{provide:Xb,useValue:t.extend},{provide:Yb,useValue:t.defaultLanguage},id]}}static forChild(t={}){return{ngModule:n,providers:[t.loader||{provide:rd,useClass:GU},t.compiler||{provide:gg,useClass:KU},t.parser||{provide:pg,useClass:WU},t.missingTranslationHandler||{provide:zb,useClass:qU},{provide:Kb,useValue:t.isolate},{provide:Qb,useValue:t.useDefaultLang},{provide:Xb,useValue:t.extend},{provide:Yb,useValue:t.defaultLanguage},id]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=un({type:n}),n.\u0275inj=Qt({}),n})(),YU=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(E(ai),E(Hn))},n.\u0275dir=X({type:n}),n})(),Ao=(()=>{class n extends YU{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275dir=X({type:n,features:[Ce]}),n})();const Yr=new F("NgValueAccessor"),Yne={provide:Yr,useExisting:Oe(()=>sd),multi:!0},Jne=new F("CompositionEventMode");let sd=(()=>{class n extends YU{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Xne(){const n=Ur()?Ur().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(E(ai),E(Hn),E(Jne,8))},n.\u0275dir=X({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ft("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[He([Yne]),Ce]}),n})();function ps(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const an=new F("NgValidators"),gs=new F("NgAsyncValidators"),ere=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function t2(n){return ps(n.value)?{required:!0}:null}function r2(n){return ps(n.value)||ere.test(n.value)?null:{email:!0}}function mg(n){return null}function a2(n){return null!=n}function u2(n){return hc(n)?dt(n):n}function c2(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function l2(n,e){return e.map(t=>t(n))}function d2(n){return n.map(e=>function tre(n){return!n.validate}(e)?e:t=>e.validate(t))}function Jb(n){return null!=n?function h2(n){if(!n)return null;const e=n.filter(a2);return 0==e.length?null:function(t){return c2(l2(t,e))}}(d2(n)):null}function Zb(n){return null!=n?function f2(n){if(!n)return null;const e=n.filter(a2);return 0==e.length?null:function(t){return jU(l2(t,e).map(u2)).pipe(re(c2))}}(d2(n)):null}function p2(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function eD(n){return n?Array.isArray(n)?n:[n]:[]}function yg(n,e){return Array.isArray(n)?n.includes(e):n===e}function y2(n,e){const t=eD(e);return eD(n).forEach(i=>{yg(t,i)||t.push(i)}),t}function _2(n,e){return eD(e).filter(t=>!yg(n,t))}class v2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class En extends v2{get formDirective(){return null}get path(){return null}}class ms extends v2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class w2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tD=(()=>{class n extends w2{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(E(ms,2))},n.\u0275dir=X({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Ph("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ce]}),n})(),nD=(()=>{class n extends w2{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(E(En,10))},n.\u0275dir=X({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Ph("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ce]}),n})();const od="VALID",vg="INVALID",Tu="PENDING",ad="DISABLED";function oD(n){return(wg(n)?n.validators:n)||null}function aD(n,e){return(wg(e)?e.asyncValidators:n)||null}function wg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class D2{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===od}get invalid(){return this.status===vg}get pending(){return this.status==Tu}get disabled(){return this.status===ad}get enabled(){return this.status!==ad}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(y2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(y2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_2(e,this._rawAsyncValidators))}hasValidator(e){return yg(this._rawValidators,e)}hasAsyncValidator(e){return yg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Tu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ad,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=od,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===od||this.status===Tu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ad:od}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Tu,this._hasOwnPendingAsyncValidator=!0;const t=u2(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?ad:this.errors?vg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tu)?Tu:this._anyControlsHaveStatus(vg)?vg:od}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function ure(n){return Array.isArray(n)?Jb(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function cre(n){return Array.isArray(n)?Zb(n):n||null}(this._rawAsyncValidators)}}class uD extends D2{constructor(e,t,r){super(oD(t),aD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function b2(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new S(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function E2(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[t])throw new S(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ud=new F("CallSetDisabledState",{providedIn:"root",factory:()=>cD}),cD="always";function cd(n,e,t=cD){lD(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function hre(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&C2(n,e)})}(n,e),function pre(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function fre(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&C2(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function dre(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function bg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lD(n,e){const t=function g2(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(p2(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function m2(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(p2(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();bg(e._rawValidators,i),bg(e._rawAsyncValidators,i)}function C2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const vre={provide:En,useExisting:Oe(()=>dd)},ld=(()=>Promise.resolve())();let dd=(()=>{class n extends En{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ae,this.form=new uD({},Jb(t),Zb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ld.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),cd(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ld.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ld.then(()=>{const r=this._findContainer(t.path),i=new uD({});(function T2(n,e){lD(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ld.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ld.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function S2(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(E(an,10),E(gs,10),E(ud,8))},n.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&ft("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[He([vre]),Ce]}),n})();function A2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function M2(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const x2=class extends D2{constructor(e=null,t,r){super(oD(t),aD(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=M2(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){A2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){A2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){M2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Ere={provide:ms,useExisting:Oe(()=>Cg)},N2=(()=>Promise.resolve())();let Cg=(()=>{class n extends ms{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new x2,this._registered=!1,this.update=new Ae,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function fD(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===sd?t=s:function yre(n){return Object.getPrototypeOf(n.constructor)===Ao}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function hD(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){N2.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Ta(r);N2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Ig(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(E(En,9),E(an,10),E(gs,10),E(Yr,10),E(Cc,8),E(ud,8))},n.\u0275dir=X({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[He([Ere]),Ce,Jn]}),n})(),pD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),P2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=un({type:n}),n.\u0275inj=Qt({}),n})(),Mo=(()=>{class n{constructor(){this._validator=mg}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):mg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=X({type:n,features:[Jn]}),n})();const Bre={provide:an,useExisting:Oe(()=>Tg),multi:!0};let Tg=(()=>{class n extends Mo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ta,this.createValidator=t=>t2}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275dir=X({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Fr("required",r._enabled?"":null)},inputs:{required:"required"},features:[He([Bre]),Ce]}),n})();const jre={provide:an,useExisting:Oe(()=>wD),multi:!0};let wD=(()=>{class n extends Mo{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Ta,this.createValidator=t=>r2}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275dir=X({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[He([jre]),Ce]}),n})(),zre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=un({type:n}),n.\u0275inj=Qt({imports:[P2]}),n})(),Wre=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ud,useValue:t.callSetDisabledState??cD}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=un({type:n}),n.\u0275inj=Qt({imports:[zre]}),n})();class hd{}hd.\u0275fac=function(e){return new(e||hd)},hd.\u0275cmp=hr({type:hd,selectors:[["app-loading-spinner"]],decls:1,vars:0,consts:[[1,"lds-dual-ring"]],template:function(e,t){1&e&&ye(0,"div",0)},styles:['.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:80px;height:80px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:64px;height:64px;margin:8px;border-radius:50%;border:6px solid blue;border-color:blue transparent blue transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']});const Qre=["authForm"];function Yre(n,e){if(1&n&&(L(0,"div",6)(1,"p"),de(2),B()()),2&n){const t=vr();R(2),Sn(" ",t.error," ")}}function Xre(n,e){1&n&&(L(0,"div",7),ye(1,"app-loading-spinner"),B())}function Jre(n,e){if(1&n){const t=va();L(0,"form",8,9),ft("ngSubmit",function(){As(t);const i=Nh(1);return Ms(vr().onSubmit(i))}),L(2,"div",10)(3,"label",11),de(4," Email: "),B(),ye(5,"input",12),B(),L(6,"div",13)(7,"label",14),de(8),Re(9,"translate"),B(),ye(10,"input",15),B(),L(11,"div",16)(12,"button",17),de(13),Re(14,"translate"),B(),de(15," | "),L(16,"button",18),ft("click",function(){return As(t),Ms(vr().onSwitchMode())}),de(17),Re(18,"translate"),B()()()}if(2&n){const t=Nh(1),r=vr();R(8),Ue(Ne(9,4,"Password")),R(4),oe("disabled",!t.valid),R(1),Ue(r.isLoginMode?"Login":Ne(14,6,"Sign Up")),R(4),Sn(" ",r.isLoginMode?"Switch to Sign Up":Ne(18,8,"Switch to Sign In"),"")}}class fd{constructor(e,t,r,i){this.http=e,this.authService=t,this.router=r,this.translate=i,this.brandImageUrl="https://www.shutterstock.com/image-vector/movie-time-vector-illustration-cinema-260nw-1009320268.jpg",this.isLoginMode=!1,this.isLoading=!1,this.error="",this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.isAuthenticated=!!e})}onSwitchMode(){this.isLoginMode=!this.isLoginMode}onSubmit(e){if(this.isLoading=!0,!e.valid)return;const t=e.value.email,r=e.value.password;this.isLoginMode?this.authService.login(t,r).subscribe(i=>{this.isLoading=!1,this.isAuthenticated=!0,this.router.navigate(["/home"])},i=>{this.error=i,this.isLoading=!1,this.router.navigate(["/auth"])}):this.authService.signup(t,r).subscribe(i=>{this.isLoading=!1,this.isAuthenticated=!0,this.authService.sendUserToFirebase(),this.router.navigate(["/home"])}),e.reset()}}fd.\u0275fac=function(e){return new(e||fd)(E(td),E(Qr),E(nn),E(id))},fd.\u0275cmp=hr({type:fd,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&function Kk(n,e,t){const r=me();r.firstCreatePass&&(Xk(r,new zk(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),Yk(r,D(),e)}(Qre,5),2&e){let r;l_(r=d_())&&(t.signinForm=r.first)}},decls:6,vars:3,consts:[[1,"container","mt-5"],[1,"row","mx-auto","text-center","mt-5"],[1,"col-md-6","col-lg-12"],["class","alert alert-danger",4,"ngIf"],["style","text-align: center;",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[2,"text-align","center"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group","mt-5"],["for","email"],["type","email","name","email","id","email","ngModel","","email","","required","",1,"form-control"],[1,"form-group"],["for","password"],["type","password","name","password","ngModel","","required","",1,"form-control"],[1,"mt-3"],["type","submit",1,"btn","btn-danger",3,"disabled"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(e,t){1&e&&(L(0,"div",0)(1,"div",1)(2,"div",2),Ke(3,Yre,3,1,"div",3),Ke(4,Xre,2,0,"div",4),Ke(5,Jre,19,10,"form",5),B()()()),2&e&&(R(3),oe("ngIf",t.error),R(1),oe("ngIf",t.isLoading),R(1),oe("ngIf",!t.isLoading))},dependencies:[xc,pD,sd,tD,nD,Tg,wD,Cg,dd,hd,Cu],styles:[".container[_ngcontent-%COMP%]{width:50%}.button[_ngcontent-%COMP%]{opacity:100%}input[_ngcontent-%COMP%]{background-color:#ff6982}"]});class ys{constructor(e){this.http=e,this.baseurl="https://api.themoviedb.org/3",this.apikey=Ub.movieDB_key,this.bannerApi=`${this.baseurl}/trending/all/week?api_key=${this.apikey}`}bannerApiData(){return this.http.get(this.bannerApi)}trendingMovie(){return this.http.get(this.bannerApi)}getSearchMovie(e){return this.http.get(`${this.baseurl}/search/movie?api_key=${this.apikey}&query=${e}`)}getMovieDetails(e){return this.http.get(`${this.baseurl}/movie/${e}?api_key=${this.apikey}`)}getMovieVideo(e){return this.http.get(`${this.baseurl}/movie/${e}/videos?api_key=${this.apikey}`)}getMovieCast(e){return this.http.get(`${this.baseurl}/movie/${e}/credits?api_key=${this.apikey}`)}fetchActionMovies(){return this.http.get("https://api.themoviedb.org/3/discover/movie?api_key=8dfa46529d14d0c904701d29309c1965&with_genres=28")}fetchAdventureMovies(){return this.http.get("https://api.themoviedb.org/3/discover/movie?api_key=8dfa46529d14d0c904701d29309c1965&with_genres=12")}fetchAnimationMovies(){return this.http.get("https://api.themoviedb.org/3/discover/movie?api_key=8dfa46529d14d0c904701d29309c1965&with_genres=16")}fetchComedyMovies(){return this.http.get("https://api.themoviedb.org/3/discover/movie?api_key=8dfa46529d14d0c904701d29309c1965&with_genres=35")}fetchDocumentaryMovies(){return this.http.get("https://api.themoviedb.org/3/discover/movie?api_key=8dfa46529d14d0c904701d29309c1965&with_genres=99")}fetchScienceMovies(){return this.http.get("https://api.themoviedb.org/3/discover/movie?api_key=8dfa46529d14d0c904701d29309c1965&with_genres=878")}fetchThrillerMovies(){return this.http.get("https://api.themoviedb.org/3/discover/movie?api_key=8dfa46529d14d0c904701d29309c1965&with_genres=53")}}function Zre(n,e){if(1&n&&(L(0,"div",14),ye(1,"img",15),B()),2&n){const t=vr();R(1),gn("src","https://image.tmdb.org/t/p/original/",t.getMovieDetailResult.poster_path,"",Tn)}}function eie(n,e){if(1&n){const t=va();L(0,"button",16),ft("click",function(){return As(t),Ms(vr().onRent())}),de(1),Re(2,"translate"),B()}2&n&&(R(1),Sn(" ",Ne(2,1,"Rent movie")," "))}function tie(n,e){if(1&n){const t=va();L(0,"button",17),ft("click",function(){return As(t),Ms(vr().onReturn())}),de(1),Re(2,"translate"),B()}2&n&&(R(1),Sn(" ",Ne(2,1,"Return movie")," "))}function nie(n,e){if(1&n&&(L(0,"div",9)(1,"span"),de(2),Re(3,"translate"),B()()),2&n){const t=e.$implicit;Hx("alert alert-",t.title," animate__animated animate__fade_in_down"),R(2),Ue(Ne(3,4,t.message))}}function rie(n,e){if(1&n&&(L(0,"div",23),ye(1,"img",15),B()),2&n){const t=vr().$implicit;R(1),gn("src","https://image.tmdb.org/t/p/original/",t.profile_path,"",Tn)}}function iie(n,e){if(1&n&&(L(0,"div",18)(1,"div",19),Ke(2,rie,2,1,"div",20),L(3,"div",21)(4,"h3",5),de(5),B(),L(6,"p",22),de(7),B()()()()),2&n){const t=e.$implicit;R(2),oe("ngIf",t.profile_path),R(3),Sn(" ",t.original_name," "),R(2),Sn(" ",t.character," ")}}ys.\u0275fac=function(e){return new(e||ys)(k(td))},ys.\u0275prov=U({token:ys,factory:ys.\u0275fac,providedIn:"root"});class pd{constructor(e,t,r,i,s){this.service=e,this.route=t,this.userService=r,this.router=i,this._sanitizer=s,this.rentedMovies=[],this.alerts=[],this.rented=!1,this.rentedMoviesFirestore=Iu(pu(Kr,"rented"))}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");this.getMovie(e),this.getMovieCast(e),this.getVideo(e),console.log(this.userService.user),this.checkIfRented()}getMovie(e){this.service.getMovieDetails(e).subscribe(t=>{this.getMovieDetailResult=t})}getVideo(e){this.service.getMovieVideo(e).subscribe(t=>{t.results.forEach(r=>{"Trailer"==r.type&&(this.getMovieVideoResult=r.key,this.safeUrl=this._sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${this.getMovieVideoResult}`))})})}getMovieCast(e){this.service.getMovieCast(e).subscribe(t=>{this.getMovieCastResult=t.cast})}onRent(){var e=this;return g(function*(){let t=e.route.snapshot.paramMap.get("id");(yield Iu(pu(Kr,"rented"))).forEach(function(){var i=g(function*(s){e.rentedMovies.push(s.data())});return function(s){return i.apply(this,arguments)}}()),e.rentedMovies.find(i=>i.id===t)?(e.alerts=[],e.alerts.push({title:"danger",message:"Movie already exists in rented"}),setTimeout(()=>{e.alerts=[]},4e3)):(WV(Ql(Kr,"rented",t),{title:e.getMovieDetailResult.title,id:t,overview:e.getMovieDetailResult.overview,poster:e.getMovieDetailResult.poster_path,rentedBy:e.userService.user.value.email,rented:!0}),e.alerts=[],e.alerts.push({title:"success",message:"Movie successfully rented"}),setTimeout(()=>{e.alerts=[]},4e3),e.rented=!0)})()}checkIfRented(){var e=this;return g(function*(){let t=e.route.snapshot.paramMap.get("id");(yield Iu(pu(Kr,"rented"))).forEach(function(){var i=g(function*(s){e.rentedMovies.push(s.data())});return function(s){return i.apply(this,arguments)}}()),e.rented=!!e.rentedMovies.find(i=>i.id===t)})()}onReturn(){var e=this;return g(function*(){e.rented=!0;let t=e.route.snapshot.paramMap.get("id");yield KV(Ql(Kr,"rented",t)),e.alerts=[],e.alerts.push({title:"success",message:"Movie successfully returned"}),setTimeout(()=>{e.alerts=[]},4e3),e.rented=!1,e.router.navigate(["/rented/"])})()}}pd.\u0275fac=function(e){return new(e||pd)(E(ys),E(Ki),E(Qr),E(nn),E(BR))},pd.\u0275cmp=hr({type:pd,selectors:[["app-movie-details"]],decls:23,vars:14,consts:[[1,"container","mt-5","p-2"],[1,"row","p-5"],["class","col-lg-2",4,"ngIf"],[1,"col-lg-10","mt-5","p-4"],["id","target",1,"text-danger"],[1,"text-white"],["type","button","class","btn btn-success mx-2",3,"click",4,"ngIf"],["type","button","class","btn btn-danger mx-2",3,"click",4,"ngIf"],["class","mt-5",3,"class",4,"ngFor","ngForOf"],[1,"mt-5"],["width","720","height","460","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","allowfullscreen","",3,"src"],[1,"mt-4","p-4"],[1,"row"],["class","col-lg-4",4,"ngFor","ngForOf"],[1,"col-lg-2"],["alt","poster",1,"w-100",3,"src"],["type","button",1,"btn","btn-success","mx-2",3,"click"],["type","button",1,"btn","btn-danger","mx-2",3,"click"],[1,"col-lg-4"],[1,"row","my-2"],["class","col-lg-4 my-3",4,"ngIf"],[1,"col-lg-8","mt-3","mb-3"],[1,"text-danger"],[1,"col-lg-4","my-3"]],template:function(e,t){1&e&&(L(0,"div",0)(1,"div",1),Ke(2,Zre,2,1,"div",2),L(3,"div",3)(4,"h1",4),de(5),B(),L(6,"p",5),de(7),B(),Ke(8,eie,3,3,"button",6),Ke(9,tie,3,3,"button",7),Ke(10,nie,4,6,"div",8),ye(11,"hr"),L(12,"div",9)(13,"h4"),de(14),Re(15,"translate"),B(),ye(16,"iframe",10),B(),L(17,"div",11)(18,"h2",5),de(19),Re(20,"translate"),B(),L(21,"div",12),Ke(22,iie,8,3,"div",13),B()()()()()),2&e&&(R(2),oe("ngIf",t.getMovieDetailResult),R(3),Sn(" ",t.getMovieDetailResult.original_title," "),R(2),Sn("",t.getMovieDetailResult.overview," "),R(1),oe("ngIf",!t.rented),R(1),oe("ngIf",t.rented),R(1),oe("ngForOf",t.alerts),R(4),Ue(Ne(15,10,"Trailer")),R(2),oe("src",t.safeUrl,dy),R(3),Sn(" ",Ne(20,12,"Top cast")," "),R(3),oe("ngForOf",t.getMovieCastResult))},dependencies:[Mc,xc,Cu],styles:["a[_ngcontent-%COMP%]{background-color:#e50914;color:#fff;text-decoration:none;border:none}a[_ngcontent-%COMP%]:hover{background-color:#e50914;color:#fff;border:1px solid white}.btn-default[_ngcontent-%COMP%]{background-color:#ff00d4;color:#fff}.btn-default[_ngcontent-%COMP%]:hover{background-color:#ff00d4;color:#fff;border:1px solid white}.opacity[_ngcontent-%COMP%]{opacity:35%}.carousel-inner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:700px;object-fit:cover}.carousel-caption[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:red}.rowposter[_ngcontent-%COMP%]{display:flex;overflow-y:hidden;overflow-x:scroll}.rowimg[_ngcontent-%COMP%]{max-height:200px;object-fit:contain;box-sizing:content-box;transition:transform .45s}.rowimg[_ngcontent-%COMP%]:hover{transform:scale(1.1);cursor:pointer}.largeposter[_ngcontent-%COMP%]{max-height:300px;margin-bottom:5%}.rowposter[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.alert[_ngcontent-%COMP%]{position:relative;animation-name:_ngcontent-%COMP%_example;animation-duration:5s}@keyframes _ngcontent-%COMP%_example{0%{left:2000px;top:0}50%{left:-100px;top:0}to{left:3000px;top:0}}"]});const sie=function(n){return{active:n}},_s=function(n){return["/details",n]};function oie(n,e){if(1&n&&(L(0,"div",14),ye(1,"img",15),L(2,"div",16)(3,"h2"),de(4),B(),L(5,"p"),de(6),B()()()),2&n){const t=e.$implicit;oe("ngClass",nr(5,sie,1===e.index)),R(1),gn("src","https://image.tmdb.org/t/p/original/",t.backdrop_path,"",Tn),oe("routerLink",nr(7,_s,t.id)),R(3),Ue(t.title),R(2),Ue(t.overview)}}function aie(n,e){if(1&n&&(yr(0),ye(1,"img",17),_r()),2&n){const t=e.$implicit;R(1),gn("src","https://image.tmdb.org/t/p/original/",t.poster_path,"",Tn),oe("routerLink",nr(2,_s,t.id))}}function uie(n,e){if(1&n&&(yr(0),ye(1,"img",17),_r()),2&n){const t=e.$implicit;R(1),gn("src","https://image.tmdb.org/t/p/original/",t.poster_path,"",Tn),oe("routerLink",nr(2,_s,t.id))}}function cie(n,e){if(1&n&&(yr(0),ye(1,"img",17),_r()),2&n){const t=e.$implicit;R(1),gn("src","https://image.tmdb.org/t/p/original/",t.poster_path,"",Tn),oe("routerLink",nr(2,_s,t.id))}}function lie(n,e){if(1&n&&(yr(0),ye(1,"img",17),_r()),2&n){const t=e.$implicit;R(1),gn("src","https://image.tmdb.org/t/p/original/",t.poster_path,"",Tn),oe("routerLink",nr(2,_s,t.id))}}function die(n,e){if(1&n&&(yr(0),ye(1,"img",17),_r()),2&n){const t=e.$implicit;R(1),gn("src","https://image.tmdb.org/t/p/original/",t.poster_path,"",Tn),oe("routerLink",nr(2,_s,t.id))}}function hie(n,e){if(1&n&&(yr(0),ye(1,"img",17),_r()),2&n){const t=e.$implicit;R(1),gn("src","https://image.tmdb.org/t/p/original/",t.poster_path,"",Tn),oe("routerLink",nr(2,_s,t.id))}}function fie(n,e){if(1&n&&(yr(0),ye(1,"img",17),_r()),2&n){const t=e.$implicit;R(1),gn("src","https://image.tmdb.org/t/p/original/",t.poster_path,"",Tn),oe("routerLink",nr(2,_s,t.id))}}class gd{constructor(e){this.service=e,this.bannerResult=[],this.trendingMovieResult=[],this.actionMovies=[],this.adventureMovies=[],this.animationMovies=[],this.comedyMovies=[],this.documentaryMovies=[],this.scienceFictionMovies=[],this.thrillerMovies=[]}ngOnInit(){this.bannerData(),this.trendingData(),this.actionMovie(),this.adventureMovie(),this.comedyMovie(),this.animationMovie(),this.documentaryMovie(),this.scienceFictionMovie(),this.thrillerMovie()}bannerData(){this.service.bannerApiData().subscribe(e=>{console.log(e,"bannerresult#"),this.bannerResult=e.results})}trendingData(){this.service.trendingMovie().subscribe(e=>{console.log(e,"trendingMovieResult#"),this.trendingMovieResult=e.results})}actionMovie(){this.service.fetchActionMovies().subscribe(e=>{console.log(e),this.actionMovies=e.results})}adventureMovie(){this.service.fetchAdventureMovies().subscribe(e=>{this.adventureMovies=e.results})}animationMovie(){this.service.fetchAnimationMovies().subscribe(e=>{this.animationMovies=e.results})}comedyMovie(){this.service.fetchComedyMovies().subscribe(e=>{this.comedyMovies=e.results})}documentaryMovie(){this.service.fetchDocumentaryMovies().subscribe(e=>{this.documentaryMovies=e.results})}scienceFictionMovie(){this.service.fetchScienceMovies().subscribe(e=>{this.scienceFictionMovies=e.results})}thrillerMovie(){this.service.fetchThrillerMovies().subscribe(e=>{this.thrillerMovies=e.results})}}gd.\u0275fac=function(e){return new(e||gd)(E(ys))},gd.\u0275cmp=hr({type:gd,selectors:[["app-home"]],decls:64,vars:35,consts:[[1,"container-fluid","mt-5"],["id","carouselExampleControls","data-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],["class","carousel-item active","data-bs-interval","10000",3,"ngClass",4,"ngFor","ngForOf"],["href","#carouselExampleControls","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#carouselExampleControls","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"container"],[1,"row","mt-3"],[1,"text-white"],[1,"rowposter","mt-3","p-2"],[4,"ngFor","ngForOf"],["data-bs-interval","10000",1,"carousel-item","active",3,"ngClass"],["alt","...","routerLinkActive","router-link-active",1,"d-block","w-100","opacity","mt-5",3,"src","routerLink"],[1,"carousel-caption","d-none","d-md-block"],["alt","...",1,"d-block","w-100","mx-2","rowimg","largeposter",3,"src","routerLink"]],template:function(e,t){1&e&&(L(0,"div",0)(1,"div",1)(2,"div",2),Ke(3,oie,7,9,"div",3),B(),L(4,"a",4),ye(5,"span",5),L(6,"span",6),de(7),Re(8,"translate"),B()(),L(9,"a",7)(10,"span",6),de(11),Re(12,"translate"),B(),ye(13,"span",8),B()()(),L(14,"div",9)(15,"div",10)(16,"h5",11),de(17),Re(18,"translate"),B(),ye(19,"hr"),L(20,"div",12),Ke(21,aie,2,4,"ng-container",13),B()(),L(22,"div",10)(23,"h5",11),de(24),Re(25,"translate"),B(),ye(26,"hr"),L(27,"div",12),Ke(28,uie,2,4,"ng-container",13),B()(),L(29,"div",10)(30,"h5",11),de(31),Re(32,"translate"),B(),ye(33,"hr"),L(34,"div",12),Ke(35,cie,2,4,"ng-container",13),B()(),L(36,"div",10)(37,"h5",11),de(38),Re(39,"translate"),B(),ye(40,"hr"),L(41,"div",12),Ke(42,lie,2,4,"ng-container",13),B()(),L(43,"div",10)(44,"h5",11),de(45),Re(46,"translate"),B(),ye(47,"hr"),L(48,"div",12),Ke(49,die,2,4,"ng-container",13),B()(),L(50,"div",10)(51,"h5",11),de(52),Re(53,"translate"),B(),ye(54,"hr"),L(55,"div",12),Ke(56,hie,2,4,"ng-container",13),B()(),L(57,"div",10)(58,"h5",11),de(59),Re(60,"translate"),B(),ye(61,"hr"),L(62,"div",12),Ke(63,fie,2,4,"ng-container",13),B()()()),2&e&&(R(3),oe("ngForOf",t.bannerResult),R(4),Ue(Ne(8,17,"Previous")),R(4),Ue(Ne(12,19,"Next")),R(6),Ue(Ne(18,21,"Trending Movies")),R(4),oe("ngForOf",t.trendingMovieResult),R(3),Ue(Ne(25,23,"Action Movies")),R(4),oe("ngForOf",t.actionMovies),R(3),Ue(Ne(32,25,"Adventure Movies")),R(4),oe("ngForOf",t.adventureMovies),R(3),Ue(Ne(39,27,"Animation Movies")),R(4),oe("ngForOf",t.animationMovies),R(3),Ue(Ne(46,29,"Comedy Movies")),R(4),oe("ngForOf",t.comedyMovies),R(3),Ue(Ne(53,31,"Documentary Movies")),R(4),oe("ngForOf",t.documentaryMovies),R(3),Ue(Ne(60,33,"Science-Fiction Movies")),R(4),oe("ngForOf",t.scienceFictionMovies))},dependencies:[aR,Mc,Ks,Av,Cu],styles:[".opacity[_ngcontent-%COMP%]{opacity:35%}.carousel-inner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:700px;object-fit:cover;cursor:pointer}.carousel-caption[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:red}.rowposter[_ngcontent-%COMP%]{display:flex;overflow-y:hidden;overflow-x:scroll}.rowimg[_ngcontent-%COMP%]{max-height:200px;min-height:180px;object-fit:contain;margin:10px;box-sizing:content-box;transition:transform .45s}.rowimg[_ngcontent-%COMP%]:hover{transform:scale(1.1);cursor:pointer}.largeposter[_ngcontent-%COMP%]{max-height:300px;margin-bottom:5%}.rowposter[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]});class md{}md.\u0275fac=function(e){return new(e||md)},md.\u0275cmp=hr({type:md,selectors:[["app-path-not-found-component"]],decls:2,vars:0,template:function(e,t){1&e&&(L(0,"p"),de(1,"404 not found"),B())}});const pie=function(n){return["/details",n]};function gie(n,e){if(1&n&&(yr(0),L(1,"div"),ye(2,"img",5),L(3,"h5",6),de(4),B()(),_r()),2&n){const t=e.$implicit;R(2),gn("src","https://image.tmdb.org/t/p/original/",t.poster,"",Tn),oe("routerLink",nr(3,pie,t.id)),R(2),Sn(" ",t.title," ")}}class yd{constructor(e,t){this.route=e,this.authService=t,this.rentedMovies=[],this.rentedMovie=[],this.users=[],this.rentedMoviesFromThisEmail=[]}ngOnInit(){var e=this;return g(function*(){e.checkIfRented(),(yield Iu(pu(Kr,"rented"))).forEach(r=>{e.rentedMovie.push(r.data())}),e.checkIfUserRentedBy()})()}onReturn(e){var t=this;return g(function*(){console.log(e);const r=t.rentedMovie.findIndex(i=>i.id===e);t.rentedMovie.splice(r,1),yield KV(Ql(Kr,"rented",e.id)),t.checkIfRented()})()}checkIfRented(){var e=this;return g(function*(){let t=e.route.snapshot.paramMap.get("id");(yield Iu(pu(Kr,"rented"))).forEach(function(){var i=g(function*(s){e.rentedMovies.push(s.data())});return function(s){return i.apply(this,arguments)}}()),e.rented=!!e.rentedMovies.find(i=>i.id===t)})()}checkIfUserRentedBy(){var e=this;return g(function*(){console.log(e.authService.user.value.email),(yield Iu(pu(Kr,"rented"))).forEach(function(){var r=g(function*(i){e.rentedMoviesFromThisEmail.push(i.data()),e.rentedMoviesFromThisEmail.filter(s=>s.rentedBy===e.authService.user.value.email)&&(e.rentedMovies=[],e.rentedMovies.push(e.rentedMoviesFromThisEmail.filter(s=>s.rentedBy===e.authService.user.value.email)))});return function(i){return r.apply(this,arguments)}}())})()}}yd.\u0275fac=function(e){return new(e||yd)(E(Ki),E(Qr))},yd.\u0275cmp=hr({type:yd,selectors:[["app-rented"]],decls:8,vars:4,consts:[[1,"container"],[1,"row","mt-5"],[1,"text-white","mt-5"],[1,"rowposter","mt-3","p-2"],[4,"ngFor","ngForOf"],["alt","...",1,"d-block","w-100","mx-3","rowimg","largeposter",3,"src","routerLink"],[1,"card-title","rowimg","text-center","mt-3"]],template:function(e,t){1&e&&(L(0,"div",0)(1,"div",1)(2,"h5",2),de(3),Re(4,"translate"),B(),ye(5,"hr"),L(6,"div",3),Ke(7,gie,5,5,"ng-container",4),B()()()),2&e&&(R(3),Ue(Ne(4,2,"Rented Movies")),R(4),oe("ngForOf",t.rentedMovies[0]))},dependencies:[Mc,Ks,Cu],styles:[".card[_ngcontent-%COMP%]{background-color:transparent}h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}.rowposter[_ngcontent-%COMP%]{display:flex;overflow-y:hidden;overflow-x:scroll}.rowimg[_ngcontent-%COMP%]{max-height:200px;width:13em;object-fit:contain;box-sizing:content-box;transition:transform .45s}.rowimg[_ngcontent-%COMP%]:hover{transform:scale(1.1);cursor:pointer}.largeposter[_ngcontent-%COMP%]{max-height:300px;margin-bottom:5%}.rowposter[_ngcontent-%COMP%]::-webkit-scrollbar{display:flex}"]});const mie=function(n){return["/details",n]};function yie(n,e){if(1&n&&(L(0,"div",15),ye(1,"img",16),B()),2&n){const t=vr().$implicit;R(1),gn("src","https://image.tmdb.org/t/p/original/",t.poster_path,"",Tn),oe("routerLink",nr(2,mie,t.id))}}function _ie(n,e){if(1&n&&(L(0,"div",11)(1,"div",3),Ke(2,yie,2,4,"div",12),L(3,"div",13)(4,"h3",14),de(5),B()()()()),2&n){const t=e.$implicit;R(2),oe("ngIf",t.poster_path),R(3),Sn(" ",t.original_title," ")}}class _d{constructor(e){this.service=e}ngOnInit(){}submitForm(e){this.service.getSearchMovie(e.value).subscribe(t=>{console.log(t,"searchmovie#"),this.searchResult=t.results})}}_d.\u0275fac=function(e){return new(e||_d)(E(ys))},_d.\u0275cmp=hr({type:_d,selectors:[["app-search"]],decls:14,vars:7,consts:[[1,"container-fluid","mt-5","p-5"],[3,"ngSubmit"],["form","ngForm"],[1,"row"],[1,"mb-3","col-lg-10"],["type","text","id","search","aria-describedby","searchInput","name","search","ngModel","",1,"form-control",3,"placeholder"],["search",""],[1,"col-lg-2"],["type","submit",1,"btn","btn-primary"],[1,"row","mt-5"],["class","col-lg-4",4,"ngFor","ngForOf"],[1,"col-lg-4"],["class","col-lg-3 mt-4 mb-4",4,"ngIf"],[1,"col-lg-9","mt-4","mb-4"],[1,"text-white"],[1,"col-lg-3","mt-4","mb-4"],["alt","poster","href","target",3,"src","routerLink"]],template:function(e,t){if(1&e){const r=va();L(0,"div",0)(1,"form",1,2),ft("ngSubmit",function(){As(r);const s=Nh(6);return Ms(t.submitForm(s))}),L(3,"div",3)(4,"div",4),ye(5,"input",5,6),Re(7,"translate"),B(),L(8,"div",7)(9,"button",8),de(10),Re(11,"translate"),B()()()(),L(12,"div",9),Ke(13,_ie,6,2,"div",10),B()()}2&e&&(R(5),Hy("placeholder",Ne(7,3,"Search Movie Here...")),R(5),Ue(Ne(11,5,"Search")),R(3),oe("ngForOf",t.searchResult))},dependencies:[Mc,xc,Ks,pD,sd,tD,nD,Cg,dd,Cu],styles:[".mt[_ngcontent-%COMP%]{margin-top:60px}button[_ngcontent-%COMP%]{background-color:#e50914;color:#fff;border:none}button[_ngcontent-%COMP%]:hover{background-color:#ff0000c0;color:#fff}img[_ngcontent-%COMP%]{width:100%;cursor:pointer}"]});const vie=[{path:"",pathMatch:"full",redirectTo:"auth"},{path:"auth",component:fd},{path:"home",component:gd,canActivate:[Ni]},{path:"rented",component:yd,canActivate:[Ni]},{path:"search",component:_d,canActivate:[Ni]},{path:"details/:id",component:pd,canActivate:[Ni]},{path:"**",component:md}];class Su{}function wie(n,e){if(1&n){const t=va();L(0,"button",14),ft("click",function(){return As(t),Ms(vr().onLogout())}),de(1),Re(2,"translate"),B()}2&n&&(R(1),Ue(Ne(2,1,"Logout")))}Su.\u0275fac=function(e){return new(e||Su)},Su.\u0275mod=un({type:Su}),Su.\u0275inj=Qt({imports:[tO.forRoot(vie,{scrollPositionRestoration:"enabled"}),tO]});const Iie=function(){return["/auth"]};function Eie(n,e){1&n&&(L(0,"button",15),de(1),Re(2,"translate"),B()),2&n&&(oe("routerLink",vc(4,Iie)),R(1),Ue(Ne(2,2,"Login")))}const bie=function(){return["/home"]},Die=function(){return["/rented"]},Cie=function(){return["/search"]};class vd{constructor(e,t,r){this.authService=e,this.router=t,this.translate=r,this.title="AgularFirebaseCrud",this.auth=!1,this.home={value:"Domov"},this.brandImageUrl="https://www.shutterstock.com/image-vector/movie-time-vector-illustration-cinema-260nw-1009320268.jpg",r.addLangs(["en","si"]),r.setDefaultLang("en")}ngOnInit(){this.userSub=this.authService.user.subscribe(e=>{this.auth=!!e})}onLogout(){this.authService.logout(),this.router.navigate(["/auth"])}switchLanguage(e){this.translate.use(e)}}vd.\u0275fac=function(e){return new(e||vd)(E(Qr),E(nn),E(id))},vd.\u0275cmp=hr({type:vd,selectors:[["app-root"]],decls:28,vars:20,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","p-3","fixed-top"],["href","#",1,"navbar-brand","mx-3"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"custom-toggler","navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mx-auto","d-flex","justify-content-between"],[1,"nav-item"],["routerLinkActive","router-link-active",1,"nav-link",3,"routerLink"],[1,"float-right"],["class","btn btn-danger mx-3",3,"click",4,"ngIf"],["class","btn btn-danger mx-3","routerLinkActive","router-link-active",3,"routerLink",4,"ngIf"],[1,"mx-2"],["src","https://cdn.countryflags.com/thumbs/slovenia/flag-round-250.png","alt","","width","40px",2,"cursor","pointer",3,"click"],["src","https://uxwing.com/wp-content/themes/uxwing/download/flags-landmarks/uk-flag-round-circle-icon.png","alt","","width","40px",2,"cursor","pointer",3,"click"],[1,"btn","btn-danger","mx-3",3,"click"],["routerLinkActive","router-link-active",1,"btn","btn-danger","mx-3",3,"routerLink"]],template:function(e,t){1&e&&(L(0,"nav",0)(1,"a",1),de(2),Re(3,"translate"),B(),L(4,"button",2),ye(5,"span",3),B(),L(6,"div",4)(7,"ul",5)(8,"li",6)(9,"a",7),de(10),Re(11,"translate"),B()(),L(12,"li",6)(13,"a",7),de(14),Re(15,"translate"),B()(),L(16,"li",6)(17,"a",7),de(18),Re(19,"translate"),B()()(),L(20,"div",8),Ke(21,wie,3,3,"button",9),Ke(22,Eie,3,5,"button",10),B(),L(23,"div",11)(24,"img",12),ft("click",function(){return t.switchLanguage("si")}),B()(),L(25,"div",11)(26,"img",13),ft("click",function(){return t.switchLanguage("en")}),B()()()(),ye(27,"router-outlet")),2&e&&(R(2),Ue(Ne(3,9,"MovieFlix")),R(7),oe("routerLink",vc(17,bie)),R(1),Ue(Ne(11,11,"Home")),R(3),oe("routerLink",vc(18,Die)),R(1),Ue(Ne(15,13,"Rented")),R(3),oe("routerLink",vc(19,Cie)),R(1),Ue(Ne(19,15,"Search")),R(3),oe("ngIf",t.auth),R(1),oe("ngIf",!t.auth))},dependencies:[xc,_v,Ks,Av,Cu],styles:[".nav-link[_ngcontent-%COMP%], .navbar-brand[_ngcontent-%COMP%]{color:red}.custom-toggler.navbar-toggler[_ngcontent-%COMP%]{border-color:red}.custom-toggler[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url\\(\\d(\"data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(255, 0, 0, 0.8)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 8h24M4 16h24M4 24h24'/%3E%3C/svg%3E\")}"]});const ID="@firebase/remote-config",Rn=new $r("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fie{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Lie(n=navigator){return n.languages&&n.languages[0]||n.language}class Vie{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Lie()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,b)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",b(v)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let b="fetch-client-network";throw"AbortError"===w?.name&&(b="fetch-timeout"),Rn.create(b,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let w;try{w=yield h.json()}catch(b){throw Rn.create("fetch-client-parse",{originalErrorMessage:b?.message})}m=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw Rn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class $ie{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return g(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return g(function*(){yield function Uie(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Bie(n){if(!(n instanceof ur&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Uv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Gie{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ag(n,e){const t=n.target.error||void 0;return Rn.create(e,{originalErrorMessage:t&&t?.message})}const xo="app_namespace_store";class Kie{constructor(e,t,r,i=function Wie(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Ag(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(xo,{keyPath:"compositeKey"})}}catch(t){e(Rn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([xo],"readonly").objectStore(xo),u=t.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Ag(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Rn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([xo],"readwrite").objectStore(xo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:t});l.onerror=d=>{o(Ag(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Rn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([xo],"readwrite").objectStore(xo),u=t.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Ag(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Rn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Qie{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Xie(){return TD.apply(this,arguments)}function TD(){return(TD=g(function*(){if(!Qs())return!1;try{return yield Yc()}catch{return!1}})).apply(this,arguments)}!function Yie(){_n(new rn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Rn.create("registration-window");if(!Qs())throw Rn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Rn.create("registration-project-id");if(!o)throw Rn.create("registration-api-key");if(!a)throw Rn.create("registration-app-id");const u=new Kie(a,r.name,t=t||"firebase"),c=new Qie(u),l=new Fa(ID);l.logLevel=_e.ERROR;const d=new Vie(i,La,t,s,o,a),h=new $ie(d,u),f=new Fie(h,u,c,l),p=new Gie(r,f,c,u,l);return function Nie(n){const e=Mn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ze(ID,"0.4.0"),Ze(ID,"0.4.0","esm2017")}();const Jie="/firebase-messaging-sw.js",Zie="/firebase-cloud-messaging-push-scope",tB="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nB="google.c.a.c_id",tse="google.c.a.c_l",nse="google.c.a.ts",rse="google.c.a.e";var Au=(()=>(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"}(Au||(Au={})),Au))();function Oi(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ise(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const SD="fcm_token_details_db",rB="fcm_token_object_Store";function ose(n){return AD.apply(this,arguments)}function AD(){return AD=g(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(SD))return null;let e=null;return(yield Uf(SD,5,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(rB))return;const c=a.objectStore(rB),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Oi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Oi(d.auth),p256dh:Oi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Oi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Oi(d.auth),p256dh:Oi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Oi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield zv(SD),yield zv("fcm_vapid_details_db"),yield zv("undefined"),ase(e)?e:null;var r}),AD.apply(this,arguments)}function ase(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const ko="firebase-messaging-store";let MD=null;function xD(){return MD||(MD=Uf("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ko)}})),MD}function iB(n){return kD.apply(this,arguments)}function kD(){return kD=g(function*(n){const e=PD(n),r=yield(yield xD()).transaction(ko).objectStore(ko).get(e);if(r)return r;{const i=yield ose(n.appConfig.senderId);if(i)return yield RD(n,i),i}}),kD.apply(this,arguments)}function RD(n,e){return ND.apply(this,arguments)}function ND(){return ND=g(function*(n,e){const t=PD(n),i=(yield xD()).transaction(ko,"readwrite");return yield i.objectStore(ko).put(e,t),yield i.done,e}),ND.apply(this,arguments)}function lse(n){return OD.apply(this,arguments)}function OD(){return OD=g(function*(n){const e=PD(n),r=(yield xD()).transaction(ko,"readwrite");yield r.objectStore(ko).delete(e),yield r.done}),OD.apply(this,arguments)}function PD({appConfig:n}){return n.appId}const Wt=new $r("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function hse(n,e){return FD.apply(this,arguments)}function FD(){return FD=g(function*(n,e){const t=yield BD(n),r=oB(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(UD(n.appConfig),i)).json()}catch(o){throw Wt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Wt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Wt.create("token-subscribe-no-token");return s.token}),FD.apply(this,arguments)}function fse(n,e){return LD.apply(this,arguments)}function LD(){return LD=g(function*(n,e){const t=yield BD(n),r=oB(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${UD(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw Wt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Wt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Wt.create("token-update-no-token");return s.token}),LD.apply(this,arguments)}function sB(n,e){return VD.apply(this,arguments)}function VD(){return VD=g(function*(n,e){const r={method:"DELETE",headers:yield BD(n)};try{const s=yield(yield fetch(`${UD(n.appConfig)}/${e}`,r)).json();if(s.error)throw Wt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Wt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}}),VD.apply(this,arguments)}function UD({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function BD(n){return $D.apply(this,arguments)}function $D(){return $D=g(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}),$D.apply(this,arguments)}function oB({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==tB&&(i.web.applicationPubKey=r),i}function gse(n){return jD.apply(this,arguments)}function jD(){return jD=g(function*(n){const e=yield yse(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Oi(e.getKey("auth")),p256dh:Oi(e.getKey("p256dh"))},r=yield iB(n.firebaseDependencies);if(r){if(_se(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?mse(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield sB(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return uB(n.firebaseDependencies,t)}return uB(n.firebaseDependencies,t)}),jD.apply(this,arguments)}function aB(n){return HD.apply(this,arguments)}function HD(){return HD=g(function*(n){const e=yield iB(n.firebaseDependencies);e&&(yield sB(n.firebaseDependencies,e.token),yield lse(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),HD.apply(this,arguments)}function mse(n,e){return GD.apply(this,arguments)}function GD(){return GD=g(function*(n,e){try{const t=yield fse(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield RD(n.firebaseDependencies,r),t}catch(t){throw yield aB(n),t}}),GD.apply(this,arguments)}function uB(n,e){return qD.apply(this,arguments)}function qD(){return qD=g(function*(n,e){const r={token:yield hse(n,e),createTime:Date.now(),subscriptionOptions:e};return yield RD(n,r),r.token}),qD.apply(this,arguments)}function yse(n,e){return zD.apply(this,arguments)}function zD(){return zD=g(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ise(e)})}),zD.apply(this,arguments)}function _se(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function cB(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function vse(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function wse(n,e){!e.data||(n.data=e.data)}(e,n),function Ise(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function Ese(n){return"object"==typeof n&&!!n&&nB in n}function lB(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function WD(n){return Wt.create("missing-app-config-values",{valueName:n})}lB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),lB("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Dse{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function bse(n){if(!n||!n.options)throw WD("App Configuration Object");if(!n.name)throw WD("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw WD(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function dB(n){return KD.apply(this,arguments)}function KD(){return KD=g(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Jie,{scope:Zie}),n.swRegistration.update().catch(()=>{})}catch(e){throw Wt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}),KD.apply(this,arguments)}function Cse(n,e){return QD.apply(this,arguments)}function QD(){return QD=g(function*(n,e){if(!e&&!n.swRegistration&&(yield dB(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Wt.create("invalid-sw-registration");n.swRegistration=e}}),QD.apply(this,arguments)}function Tse(n,e){return YD.apply(this,arguments)}function YD(){return YD=g(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=tB)}),YD.apply(this,arguments)}function XD(){return XD=g(function*(n,e){if(!navigator)throw Wt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wt.create("permission-blocked");return yield Tse(n,e?.vapidKey),yield Cse(n,e?.serviceWorkerRegistration),gse(n)}),XD.apply(this,arguments)}function Sse(n,e,t){return JD.apply(this,arguments)}function JD(){return JD=g(function*(n,e,t){const r=Ase(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[nB],message_name:t[tse],message_time:t[nse],message_device_time:Math.floor(Date.now()/1e3)})}),JD.apply(this,arguments)}function Ase(n){switch(n){case Au.NOTIFICATION_CLICKED:return"notification_open";case Au.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ZD(){return ZD=g(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Au.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(cB(t)):n.onMessageHandler.next(cB(t)));const r=t.data;Ese(r)&&"1"===r[rse]&&(yield Sse(n,t.messageType,r))}),ZD.apply(this,arguments)}const fB="@firebase/messaging",xse=n=>{const e=new Dse(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Mse(n,e){return ZD.apply(this,arguments)}(e,t)),e},kse=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function hB(n,e){return XD.apply(this,arguments)}(e,r)}};function gB(){return eC.apply(this,arguments)}function eC(){return(eC=g(function*(){try{yield Yc()}catch{return!1}return typeof window<"u"&&Qs()&&Pv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Rse(){_n(new rn("messaging",xse,"PUBLIC")),_n(new rn("messaging-internal",kse,"PRIVATE")),Ze(fB,"0.12.0"),Ze(fB,"0.12.0","esm2017")}();class Pse extends Pn{constructor(e,t){super()}schedule(e,t=0){return this}}const Mg={setInterval(n,e,...t){const{delegate:r}=Mg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Mg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class mB extends Pse{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Mg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Mg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Vo(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class wd{constructor(e,t=wd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}wd.now=qb.now;class yB extends wd{constructor(e,t=wd.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Vse=new class Lse extends yB{}(class Fse extends mB{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Use=new yB(mB),xg=new sa("7.5.0"),rC="__angularfire_symbol__analyticsIsSupportedValue",iC="__angularfire_symbol__analyticsIsSupported",sC="__angularfire_symbol__remoteConfigIsSupportedValue",oC="__angularfire_symbol__remoteConfigIsSupported",aC="__angularfire_symbol__messagingIsSupportedValue",uC="__angularfire_symbol__messagingIsSupported";function lC(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[iC]||(globalThis[iC]=Ene().then(n=>globalThis[rC]=n).catch(()=>globalThis[rC]=!1)),globalThis[uC]||(globalThis[uC]=gB().then(n=>globalThis[aC]=n).catch(()=>globalThis[aC]=!1)),globalThis[oC]||(globalThis[oC]=Xie().then(n=>globalThis[sC]=n).catch(()=>globalThis[sC]=!1));const dC=(n,e)=>{const t=e?[e]:yO(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Mu(){}class _B{constructor(e,t=Vse){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Bse{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mu,{},Mu,Mu)),t.pipe(Dt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hC=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new _B(Zone.current)),this.insideAngular=t.run(()=>new _B(Zone.current,Use)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(k(Ge))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ro(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function $se(n){return Ro().ngZone.runOutsideAngular(()=>n())}function No(n){return Ro().ngZone.run(()=>n())}function jse(n){return Ro(),function Hse(n){return function(t){return(t=t.lift(new Bse(n.ngZone))).pipe(Ud(n.outsideAngular),Vd(n.insideAngular))}}(Ro())(n)}const Gse=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),No(()=>n.apply(void 0,r))},fC=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=No(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mu,{},Mu,Mu)))),r[s]=Gse(r[s],t));const i=$se(()=>n.apply(this,r));if(!e){if(i instanceof je){const s=Ro();return i.pipe(Ud(s.outsideAngular),Vd(s.insideAngular))}return No(()=>i)}return i instanceof je?i.pipe(jse):i instanceof Promise?No(()=>new Promise((s,o)=>i.then(a=>No(()=>s(a)),a=>No(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:No(()=>i)};class xu{constructor(e){return e}}class pC{constructor(){return yO()}}const gC=new F("angularfire2._apps"),zse={provide:xu,useFactory:function qse(n){return n&&1===n.length?n[0]:new xu(jf())},deps:[[new Zt,gC]]},Wse={provide:pC,deps:[[new Zt,gC]]};function Kse(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new xu(r)}}let Qse=(()=>{class n{constructor(t){Ze("angularfire",xg.full,"core"),Ze("angularfire",xg.full,"app"),Ze("angular",hM.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(k(Dc))},n.\u0275mod=un({type:n}),n.\u0275inj=Qt({providers:[zse,Wse]}),n})();const Xse=fC(Qv,!0),mC=new Map,vB={activated:!1,tokenObservers:[]},Jse={initialized:!1,enabled:!1};function Kt(n){return mC.get(n)||Object.assign({},vB)}function kg(){return Jse}class ioe{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return g(function*(){t.stop();try{t.pending=new Ff,yield function soe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ff,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const bn=new $r("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function IB(n){if(!Kt(n).activated)throw bn.create("use-before-activation",{appName:n.name})}function vC(n,e){return wC.apply(this,arguments)}function wC(){return wC=g(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw bn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw bn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw bn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw bn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),wC.apply(this,arguments)}function coe(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Id="firebase-app-check-store";let Og=null;function bB(){return Og||(Og=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(bn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Id,{keyPath:"compositeKey"})}}catch(t){e(bn.create("storage-open",{originalErrorMessage:t?.message}))}}),Og)}function IC(){return IC=g(function*(n,e){const r=(yield bB()).transaction(Id,"readwrite"),s=r.objectStore(Id).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(bn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),IC.apply(this,arguments)}const Ed=new Fa("@firebase/app-check");function DC(n,e){return Qs()?function foe(n,e){return function DB(n,e){return IC.apply(this,arguments)}(function TB(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ed.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function SB(){return kg().enabled}function AB(){return TC.apply(this,arguments)}function TC(){return TC=g(function*(){const n=kg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),TC.apply(this,arguments)}const voe={error:"UNKNOWN_ERROR"};function woe(n){return Nv.encodeString(JSON.stringify(n),!1)}function Pg(n){return SC.apply(this,arguments)}function SC(){return SC=g(function*(n,e=!1){const t=n.app;IB(t);const r=Kt(t);let s,i=r.token;if(i&&!ku(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ku(u)?i=u:yield DC(t,void 0))}if(!e&&i&&ku(i))return{token:i.token};let a,o=!1;if(SB()){r.exchangeTokenPromise||(r.exchangeTokenPromise=vC(coe(t,yield AB()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield DC(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Kt(t).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Ed.warn(u.message):Ed.error(u),s=u}return i?s?a=ku(i)?{token:i.token,internalError:s}:kB(s):(a={token:i.token},r.token=i,yield DC(t,i)):a=kB(s),o&&xB(t,a),a}),SC.apply(this,arguments)}function MC(n,e){const t=Kt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function MB(n){const{app:e}=n,t=Kt(e);let r=t.tokenRefresher;r||(r=function Ioe(n){const{app:e}=n;return new ioe(g(function*(){let r;if(r=Kt(e).token?yield Pg(n,!0):yield Pg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Kt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function xB(n,e){const t=Kt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ku(n){return n.expireTimeMillis-Date.now()>0}function kB(n){return{token:woe(voe),error:n}}class Eoe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Kt(this.app);for(const t of e)MC(this.app,t.next);return Promise.resolve()}}const UB="app-check-internal";!function Foe(){_n(new rn("app-check",n=>function boe(n,e){return new Eoe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(UB).initialize()})),_n(new rn(UB,n=>function Doe(n){return{getToken:e=>Pg(n,e),addTokenListener:e=>function AC(n,e,t,r){const{app:i}=n,s=Kt(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&ku(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),MB(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>MB(n))}(n,"INTERNAL",e),removeTokenListener:e=>MC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ze("@firebase/app-check","0.6.0")}();class NC{constructor(){return dC("app-check")}}typeof window<"u"&&window;const $oe=function $B(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},jB=new $r("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),HB=new Fa("@firebase/auth");function Lg(n,...e){HB.logLevel<=_e.ERROR&&HB.error(`Auth (${La}): ${n}`,...e)}function Nn(n,...e){throw PC(n,...e)}function Xr(n,...e){return PC(n,...e)}function GB(n,e,t){const r=Object.assign(Object.assign({},$oe()),{[e]:t});return new $r("auth","Firebase",r).create(e,{appName:n.name})}function PC(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return jB.create(n,...e)}function A(n,e,...t){if(!n)throw PC(e,...t)}function Jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lg(e),new Error(e)}function vs(n,e){n||Jr(e)}const qB=new Map;function Pi(n){vs(n instanceof Function,"Expected a class definition");let e=qB.get(n);return e?(vs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qB.set(n,e),e)}function bd(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function zB(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Dd{constructor(e,t){this.shortDelay=e,this.longDelay=t,vs(t>e,"Short delay should be less than long delay!"),this.isMobile=function sQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}()||function aQ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Goe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function FC(){return"http:"===zB()||"https:"===zB()}()||Ov()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function LC(n,e){vs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class WB{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zoe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Woe=new Dd(3e4,6e4);function St(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Pt(n,e,t,r){return VC.apply(this,arguments)}function VC(){return VC=g(function*(n,e,t,r,i={}){return KB(n,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Vf(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),WB.fetch()(QB(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))}),VC.apply(this,arguments)}function KB(n,e,t){return UC.apply(this,arguments)}function UC(){return UC=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},zoe),e);try{const i=new Koe(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Cd(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Cd(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Cd(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw Cd(n,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw GB(n,l,c);Nn(n,l)}}catch(i){if(i instanceof ur)throw i;Nn(n,"network-request-failed")}}),UC.apply(this,arguments)}function Fi(n,e,t,r){return BC.apply(this,arguments)}function BC(){return BC=g(function*(n,e,t,r,i={}){const s=yield Pt(n,e,t,r,i);return"mfaPendingCredential"in s&&Nn(n,"multi-factor-auth-required",{_serverResponse:s}),s}),BC.apply(this,arguments)}function QB(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?LC(n.config,i):`${n.config.apiScheme}://${i}`}class Koe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Xr(this.auth,"network-request-failed")),Woe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Xr(n,e,r);return i.customData._tokenResponse=t,i}function $C(){return $C=g(function*(n,e){return Pt(n,"POST","/v1/accounts:delete",e)}),$C.apply(this,arguments)}function Xoe(n,e){return HC.apply(this,arguments)}function HC(){return HC=g(function*(n,e){return Pt(n,"POST","/v1/accounts:lookup",e)}),HC.apply(this,arguments)}function Td(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function GC(){return GC=g(function*(n,e=!1){const t=Mn(n),r=yield t.getIdToken(e),i=Vg(r);A(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Td(qC(i.auth_time)),issuedAtTime:Td(qC(i.iat)),expirationTime:Td(qC(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}),GC.apply(this,arguments)}function qC(n){return 1e3*Number(n)}function Vg(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Lg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pf(t);return i?JSON.parse(i):(Lg("Failed to decode base64 JWT payload"),null)}catch(i){return Lg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Li(n,e){return zC.apply(this,arguments)}function zC(){return zC=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ur&&eae(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),zC.apply(this,arguments)}function eae({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class tae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class YB{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Td(this.lastLoginAt),this.creationTime=Td(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sd(n){return WC.apply(this,arguments)}function WC(){return WC=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Li(n,Xoe(t,{idToken:r}));A(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?iae(s.providerUserInfo):[],a=rae(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new YB(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),WC.apply(this,arguments)}function KC(){return KC=g(function*(n){const e=Mn(n);yield Sd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),KC.apply(this,arguments)}function rae(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iae(n){return n.map(e=>{var{providerId:t}=e,r=WT(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function QC(){return QC=g(function*(n,e){const t=yield KB(n,{},g(function*(){const r=Vf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=QB(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",WB.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),QC.apply(this,arguments)}class Ad{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Zoe(n){const e=Vg(n);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function sae(n,e){return QC.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Ad;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ad,this.toJSON())}_performRefresh(){return Jr("not implemented")}}function ws(n,e){A("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Oo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=WT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new YB(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield Li(t,t.stsTokenManager.getToken(t.auth,e));return A(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Joe(n){return GC.apply(this,arguments)}(this,e)}reload(){return function nae(n){return KC.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Oo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Sd(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield Li(e,function Qoe(n,e){return $C.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=t.createdAt)&&void 0!==c?c:void 0,b=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:N,isAnonymous:G,providerData:z,stsTokenManager:lt}=t;A(v&&lt,e,"internal-error");const Lo=Ad.fromJSON(this.name,lt);A("string"==typeof v,e,"internal-error"),ws(d,e.name),ws(h,e.name),A("boolean"==typeof N,e,"internal-error"),A("boolean"==typeof G,e,"internal-error"),ws(f,e.name),ws(p,e.name),ws(m,e.name),ws(y,e.name),ws(w,e.name),ws(b,e.name);const FT=new Oo({uid:v,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:G,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Lo,createdAt:w,lastLoginAt:b});return z&&Array.isArray(z)&&(FT.providerData=z.map(Bce=>Object.assign({},Bce))),y&&(FT._redirectEventId=y),FT}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new Ad;i.updateFromServerResponse(t);const s=new Oo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Sd(s),s})()}}const XB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,r){var i=this;return g(function*(){i.storage[t]=r})()}_get(t){var r=this;return g(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return g(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Ug(n,e,t){return`firebase:${n}:${e}:${t}`}class Nu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ug(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ug("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Oo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(function*(){if(!t.length)return new Nu(Pi(XB),e,r);const i=(yield Promise.all(t.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Pi(XB);const o=Ug(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(o);if(l){const d=Oo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Nu(s,e,r)):new Nu(s,e,r)})()}}function JB(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r$(e))return"Blackberry";if(i$(e))return"Webos";if(YC(e))return"Safari";if((e.includes("chrome/")||e$(e))&&!e.includes("edge/"))return"Chrome";if(n$(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function ZB(n=xt()){return/firefox\//i.test(n)}function YC(n=xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e$(n=xt()){return/crios\//i.test(n)}function t$(n=xt()){return/iemobile/i.test(n)}function n$(n=xt()){return/android/i.test(n)}function r$(n=xt()){return/blackberry/i.test(n)}function i$(n=xt()){return/webos/i.test(n)}function Bg(n=xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function s$(n=xt()){return Bg(n)||n$(n)||i$(n)||r$(n)||/windows phone/i.test(n)||t$(n)}function o$(n,e=[]){let t;switch(n){case"Browser":t=JB(xt());break;case"Worker":t=`${JB(xt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${La}/${r}`}class cae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class lae{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a$(this),this.idTokenSubscription=new a$(this),this.beforeStateQueue=new cae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jB,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Pi(t)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Nu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return A(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){try{yield Sd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function qoe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const r=e?Mn(e):null;return r&&A(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return g(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(Pi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $r("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const r=e&&Pi(e)||t._popupRedirectResolver;A(r,t,"argument-error"),t.redirectPersistenceManager=yield Nu.create(t,[Pi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var r,i;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function On(n){return Mn(n)}class a${constructor(e){this.auth=e,this.observer=null,this.addObserver=function wQ(n,e){const t=new IQ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function u$(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function c$(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class pae{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}function Vi(n,e){return l0.apply(this,arguments)}function l0(){return l0=g(function*(n,e){return Fi(n,"POST","/v1/accounts:signInWithIdp",St(n,e))}),l0.apply(this,arguments)}class Is{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class kae extends Is{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(function*(){const s=yield Oo._fromIdTokenResponse(e,r,i),o=p$(r);return new cr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=p$(r);return new cr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function p$(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Gg extends ur{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Gg(e,t,r,i)}}function g$(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Gg._fromErrorAndOperation(n,s,e,r):s})}function v0(n,e){return w0.apply(this,arguments)}function w0(){return w0=g(function*(n,e,t=!1){const r=yield Li(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return cr._forOperation(n,"link",r)}),w0.apply(this,arguments)}function E0(){return E0=g(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Li(n,g$(r,i,e,n),t);A(s.idToken,r,"internal-error");const o=Vg(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(n.uid===a,r,"user-mismatch"),cr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Nn(r,"user-mismatch"),s}}),E0.apply(this,arguments)}function b0(){return b0=g(function*(n,e,t=!1){const r="signIn",i=yield g$(n,r,e),s=yield cr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s}),b0.apply(this,arguments)}const Wg="__sak";class w${constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wg,"1"),this.storage.removeItem(Wg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zae=(()=>{class n extends w${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yae(){const n=xt();return YC(n)||Bg(n)}()&&function uae(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=s$(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function aae(){return function uQ(){const n=xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),I$=(()=>{class n extends w${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let tue=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return g(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function eue(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function J0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class nue{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=J0("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function At(){return window}function Z0(){return typeof At().WorkerGlobalScope<"u"&&"function"==typeof At().importScripts}function eT(){return(eT=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const E$="firebaseLocalStorageDb",Kg="firebaseLocalStorage",b$="fbase_key";class Rd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qg(n,e){return n.transaction([Kg],e?"readwrite":"readonly").objectStore(Kg)}function tT(){const n=indexedDB.open(E$,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Kg,{keyPath:b$})}catch(i){t(i)}}),n.addEventListener("success",g(function*(){const r=n.result;r.objectStoreNames.contains(Kg)?e(r):(r.close(),yield function uue(){const n=indexedDB.deleteDatabase(E$);return new Rd(n).toPromise()}(),e(yield tT()))}))})}function D$(n,e,t){return nT.apply(this,arguments)}function nT(){return nT=g(function*(n,e,t){const r=Qg(n,!0).put({[b$]:e,value:t});return new Rd(r).toPromise()}),nT.apply(this,arguments)}function rT(){return rT=g(function*(n,e){const t=Qg(n,!1).get(e),r=yield new Rd(t).toPromise();return void 0===r?null:r.value}),rT.apply(this,arguments)}function C$(n,e){const t=Qg(n,!0).delete(e);return new Rd(t).toPromise()}const hue=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield tT()),t.db})()}_withRetries(t){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return Z0()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=tue._getInstance(function oue(){return Z0()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var r,i;if(t.activeServiceWorker=yield function iue(){return eT.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new nue(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function sue(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield tT();return yield D$(t,Wg,"1"),yield C$(t,Wg),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return g(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>D$(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return g(function*(){const i=yield r._withRetries(s=>function cue(n,e){return rT.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>C$(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const r=yield t._withRetries(o=>{const a=Qg(o,!1).getAll();return new Rd(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function S$(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Fo(n,e){return e?Pi(e):(A(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}S$("rcb"),new Dd(3e4,6e4);class fT extends pae{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Mue(n){return function _$(n,e){return b0.apply(this,arguments)}(n.auth,new fT(n),n.bypassAuthState)}function xue(n){const{auth:e,user:t}=n;return A(t,e,"internal-error"),function y$(n,e){return E0.apply(this,arguments)}(t,new fT(n),n.bypassAuthState)}function kue(n){return pT.apply(this,arguments)}function pT(){return pT=g(function*(n){const{auth:e,user:t}=n;return A(t,e,"internal-error"),v0(t,new fT(n),n.bypassAuthState)}),pT.apply(this,arguments)}class Rue{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mue;case"linkViaPopup":case"linkViaRedirect":return kue;case"reauthViaPopup":case"reauthViaRedirect":return xue;default:Nn(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Dd(2e3,1e4);const Nd=new Map;class Oue extends Rue{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let r=Nd.get(t.auth._key());if(!r){try{const s=(yield function Pue(n,e){return vT.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Nd.set(t.auth._key(),r)}return t.bypassAuthState||Nd.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function vT(){return vT=g(function*(n,e){const t=x$(e),r=M$(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),vT.apply(this,arguments)}function Fue(n,e){Nd.set(n._key(),e)}function M$(n){return Pi(n._redirectPersistence)}function x$(n){return Ug("pendingRedirect",n.config.apiKey,n.name)}function k$(n,e){return TT.apply(this,arguments)}function TT(){return TT=g(function*(n,e,t=!1){const r=On(n),i=Fo(r,e),o=yield new Oue(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),TT.apply(this,arguments)}class $ue{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function jue(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O$(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!O$(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Xr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(N$(e))}saveEventToCache(e){this.cachedEventUids.add(N$(e)),this.lastProcessedEventTime=Date.now()}}function N$(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function O$({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Hue(n){return AT.apply(this,arguments)}function AT(){return AT=g(function*(n,e={}){return Pt(n,"GET","/v1/projects",e)}),AT.apply(this,arguments)}const Gue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,que=/^https?/;function MT(){return MT=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Hue(n);for(const t of e)try{if(Wue(t))return}catch{}Nn(n,"unauthorized-domain")}),MT.apply(this,arguments)}function Wue(n){const e=bd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!que.test(t))return!1;if(Gue.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Kue=new Dd(3e4,6e4);function P$(){const n=At().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Xg=null;function Yue(n){return Xg=Xg||function Que(n){return new Promise((e,t)=>{var r,i,s;function o(){P$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P$(),t(Xr(n,"network-request-failed"))},timeout:Kue.get()})}if(null!==(i=null===(r=At().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=At().gapi)||void 0===s||!s.load){const a=S$("iframefcb");return At()[a]=()=>{gapi.load?o():t(Xr(n,"network-request-failed"))},function T$(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Xr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function mue(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw Xg=null,e})}(n),Xg}const Xue=new Dd(5e3,15e3),ece={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nce(n){const e=n.config;A(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?LC(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:La},i=tce.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Vf(r).slice(1)}`}function xT(){return xT=g(function*(n){const e=yield Yue(n),t=At().gapi;return A(t,n,"internal-error"),e.open({where:document.body,url:nce(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ece,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Xr(n,"network-request-failed"),u=At().setTimeout(()=>{o(a)},Xue.get());function c(){At().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),xT.apply(this,arguments)}const ice={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class F${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L$(n,e,t,r,i,s){A(n.config.authDomain,n,"auth-domain-config-required"),A(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:La,eventId:i};if(e instanceof Is){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function vQ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof kae){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function fce({config:n}){return n.emulator?LC(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Vf(a).slice(1)}`}const kT="webStorageSupport",gce=class pce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I$,this._completeRedirectFn=k$,this._overrideRedirectResult=Fue}_openPopup(e,t,r,i){var s=this;return g(function*(){var o;vs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=L$(e,t,r,bd(),i);return function cce(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},ice),{width:r.toString(),height:i.toString(),top:s,left:o}),c=xt().toLowerCase();t&&(a=e$(c)?"_blank":t),ZB(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function oae(n=xt()){var e;return Bg(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function lce(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new F$(null);const d=window.open(e||"",a,l);A(d,n,"popup-blocked");try{d.focus()}catch{}return new F$(d)}(e,a,J0())})()}_openRedirect(e,t,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function rue(n){At().location.href=n}(L$(e,t,r,bd(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(vs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return g(function*(){const r=yield function rce(n){return xT.apply(this,arguments)}(e),i=new $ue(e);return r.register("authEvent",s=>(A(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kT,{type:kT},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[kT];void 0!==o&&t(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function zue(n){return MT.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return s$()||YC()||Bg()}};var U$="@firebase/auth";class mce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const wce=aO("authIdTokenMaxAge")||300;let $$=null;const Ice=n=>function(){var e=g(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>wce)return;const s=r?.token;$$!==s&&($$=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Ece(n=jf()){const e=Qi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function joe(n,e){const t=Qi(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Xc(t.getOptions(),e??{}))return i;Nn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:gce,persistence:[hue,Zae,I$]}),r=aO("authTokenSyncURL");if(r){const s=Ice(r);(function zae(n,e,t){Mn(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function qae(n,e,t,r){Mn(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=oO("auth");return i&&function dae(n,e,t){const r=On(n);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=u$(e),{host:o,port:a}=function hae(n){const e=u$(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:c$(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:c$(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function fae(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function _ce(n){_n(new rn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o$(n)},l=new lae(a,u,c);return function Hoe(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Pi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,t),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_n(new rn("auth-internal",e=>{const t=On(e.getProvider("auth").getImmediate());return new mce(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ze(U$,"0.21.0",function yce(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Ze(U$,"0.21.0","esm2017")}("Browser");class RT{constructor(e){return e}}class H${constructor(){return dC("auth")}}const NT=new F("angularfire2.auth-instances");function Dce(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new RT(r)}}const Cce={provide:H$,deps:[[new Zt,NT]]},Tce={provide:RT,useFactory:function bce(n,e){const t=lC("auth",n,e);return t&&new RT(t)},deps:[[new Zt,NT],xu]};let Sce=(()=>{class n{constructor(){Ze("angularfire",xg.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=un({type:n}),n.\u0275inj=Qt({providers:[Tce,Cce]}),n})();const Mce=fC(Ece,!0);class OT{constructor(e){return e}}const G$="firestore",PT=new F("angularfire2.firestore-instances");function Rce(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new OT(r)}}const Nce={provide:class xce{constructor(){return dC(G$)}},deps:[[new Zt,PT]]},Oce={provide:OT,useFactory:function kce(n,e){const t=lC(G$,n,e);return t&&new OT(t)},deps:[[new Zt,PT],xu]};let Pce=(()=>{class n{constructor(){Ze("angularfire",xg.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=un({type:n}),n.\u0275inj=Qt({providers:[Oce,Nce]}),n})();const Lce=fC(TV,!0);class Vce{constructor(e,t="/assets/i18n/",r=".json"){this.http=e,this.prefix=t,this.suffix=r}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}}class Ou{}Ou.\u0275fac=function(e){return new(e||Ou)},Ou.\u0275mod=un({type:Ou,bootstrap:[vd]}),Ou.\u0275inj=Qt({imports:[lK,Su,zne,Wre,function Yse(n,...e){return{ngModule:Qse,providers:[{provide:gC,useFactory:Kse(n),multi:!0,deps:[Ge,pn,hC,...e]}]}}(()=>Xse(Ub.firebase)),function Ace(n,...e){return{ngModule:Sce,providers:[{provide:NT,useFactory:Dce(n),multi:!0,deps:[Ge,pn,hC,pC,[new Zt,NC],...e]}]}}(()=>Mce()),function Fce(n,...e){return{ngModule:Pce,providers:[{provide:PT,useFactory:Rce(n),multi:!0,deps:[Ge,pn,hC,pC,[new Zt,H$],[new Zt,NC],...e]}]}}(()=>Lce()),Kne.forRoot({loader:{provide:rd,useFactory:function Uce(n){return new Vce(n)},deps:[td]}})]}),cK().bootstrapModule(Ou).catch(n=>console.error(n))}},Se=>{Se(Se.s=536)}]);